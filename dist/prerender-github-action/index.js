"use strict";var e=require("node:path"),t=require("os"),i=require("crypto"),n=require("fs"),r=require("path"),a=require("http"),s=require("https"),o=require("net"),c=require("tls"),l=require("events"),u=require("assert"),d=require("util"),p=require("string_decoder"),h=require("child_process"),f=require("timers"),m=require("node:http"),g=require("url"),v=require("fs/promises"),y=require("readline"),w=require("tty"),b=require("stream"),x=require("buffer"),k=require("zlib");function S(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}require("process");var E=S(e),_=S(r),C=S(a),T=S(s),P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function M(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I,O,A={},L={},R={};function F(){if(I)return R;return I=1,Object.defineProperty(R,"__esModule",{value:!0}),R.toCommandProperties=R.toCommandValue=void 0,R.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},R.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}},R}function N(){if(O)return L;O=1;var e=L.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),i=L.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=L.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&e(n,t,r);return i(n,t),n};Object.defineProperty(L,"__esModule",{value:!0}),L.issue=L.issueCommand=void 0;const r=n(t),a=F();function s(e,t,i){const n=new o(e,t,i);process.stdout.write(n.toString()+r.EOL)}L.issueCommand=s,L.issue=function(e,t=""){s(e,{},t)};class o{constructor(e,t,i){e||(e="missing.command"),this.command=e,this.properties=t,this.message=i}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let i=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const r=this.properties[n];r&&(i?i=!1:e+=",",e+=`${n}=${t=r,(0,a.toCommandValue)(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var t;return e+=`::${function(e){return(0,a.toCommandValue)(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message)}`,e}}return L}var D,j={};var B,$={},q={},U={};var z,H,W,K={};function G(){return W||(W=1,H=function(){if(z)return K;z=1;var e,t=c,i=a,n=s,r=l,o=d;function u(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||i.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",(function(e,i,n,r){for(var a=h(i,n,r),s=0,o=t.requests.length;s<o;++s){var c=t.requests[s];if(c.host===a.host&&c.port===a.port)return t.requests.splice(s,1),void c.request.onSocket(e)}e.destroy(),t.removeSocket(e)}))}function p(e,i){var n=this;u.prototype.createSocket.call(n,e,(function(r){var a=e.request.getHeader("host"),s=f({},n.options,{socket:r,servername:a?a.replace(/:.*$/,""):e.host}),o=t.connect(0,s);n.sockets[n.sockets.indexOf(r)]=o,i(o)}))}function h(e,t,i){return"string"==typeof e?{host:e,port:t,localAddress:i}:e}function f(e){for(var t=1,i=arguments.length;t<i;++t){var n=arguments[t];if("object"==typeof n)for(var r=Object.keys(n),a=0,s=r.length;a<s;++a){var o=r[a];void 0!==n[o]&&(e[o]=n[o])}}return e}return K.httpOverHttp=function(e){var t=new u(e);return t.request=i.request,t},K.httpsOverHttp=function(e){var t=new u(e);return t.request=i.request,t.createSocket=p,t.defaultPort=443,t},K.httpOverHttps=function(e){var t=new u(e);return t.request=n.request,t},K.httpsOverHttps=function(e){var t=new u(e);return t.request=n.request,t.createSocket=p,t.defaultPort=443,t},o.inherits(u,r.EventEmitter),u.prototype.addRequest=function(e,t,i,n){var r=this,a=f({request:e},r.options,h(t,i,n));r.sockets.length>=this.maxSockets?r.requests.push(a):r.createSocket(a,(function(t){function i(){r.emit("free",t,a)}function n(e){r.removeSocket(t),t.removeListener("free",i),t.removeListener("close",n),t.removeListener("agentRemove",n)}t.on("free",i),t.on("close",n),t.on("agentRemove",n),e.onSocket(t)}))},u.prototype.createSocket=function(t,i){var n=this,r={};n.sockets.push(r);var a=f({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(a.localAddress=t.localAddress),a.proxyAuth&&(a.headers=a.headers||{},a.headers["Proxy-Authorization"]="Basic "+new Buffer(a.proxyAuth).toString("base64")),e("making CONNECT request");var s=n.request(a);function o(a,o,c){var l;return s.removeAllListeners(),o.removeAllListeners(),200!==a.statusCode?(e("tunneling socket could not be established, statusCode=%d",a.statusCode),o.destroy(),(l=new Error("tunneling socket could not be established, statusCode="+a.statusCode)).code="ECONNRESET",t.request.emit("error",l),void n.removeSocket(r)):c.length>0?(e("got illegal response body from proxy"),o.destroy(),(l=new Error("got illegal response body from proxy")).code="ECONNRESET",t.request.emit("error",l),void n.removeSocket(r)):(e("tunneling connection has established"),n.sockets[n.sockets.indexOf(r)]=o,i(o))}s.useChunkedEncodingByDefault=!1,s.once("response",(function(e){e.upgrade=!0})),s.once("upgrade",(function(e,t,i){process.nextTick((function(){o(e,t,i)}))})),s.once("connect",o),s.once("error",(function(i){s.removeAllListeners(),e("tunneling socket could not be established, cause=%s\n",i.message,i.stack);var a=new Error("tunneling socket could not be established, cause="+i.message);a.code="ECONNRESET",t.request.emit("error",a),n.removeSocket(r)})),s.end()},u.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var i=this.requests.shift();i&&this.createSocket(i,(function(e){i.request.onSocket(e)}))}},e=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},K.debug=e,K}()),H}var V,X,Y={};function J(){return V||(V=1),Y}function Q(){if(X)return q;X=1;var e=q.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),t=q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=q.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(null!=i)for(var r in i)"default"!==r&&Object.prototype.hasOwnProperty.call(i,r)&&e(n,i,r);return t(n,i),n},n=q.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(q,"__esModule",{value:!0}),q.HttpClient=q.isHttps=q.HttpClientResponse=q.HttpClientError=q.getProxyUrl=q.MediaTypes=q.Headers=q.HttpCodes=void 0;const r=i(a),o=i(s),c=i(function(){if(B)return U;function e(e){if(!e.hostname)return!1;if(function(e){const t=e.toLowerCase();return"localhost"===t||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}(e.hostname))return!0;const t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let i;e.port?i=Number(e.port):"http:"===e.protocol?i=80:"https:"===e.protocol&&(i=443);const n=[e.hostname.toUpperCase()];"number"==typeof i&&n.push(`${n[0]}:${i}`);for(const e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e)))if("*"===e||n.some((t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`))))return!0;return!1}B=1,Object.defineProperty(U,"__esModule",{value:!0}),U.checkBypass=U.getProxyUrl=void 0,U.getProxyUrl=function(i){const n="https:"===i.protocol;if(e(i))return;const r=n?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)try{return new t(r)}catch(e){if(!r.startsWith("http://")&&!r.startsWith("https://"))return new t(`http://${r}`)}},U.checkBypass=e;class t extends URL{constructor(e,t){super(e,t),this._decodedUsername=decodeURIComponent(super.username),this._decodedPassword=decodeURIComponent(super.password)}get username(){return this._decodedUsername}get password(){return this._decodedPassword}}return U}()),l=i(G()),u=J();var d,p,h;!function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"}(d||(q.HttpCodes=d={})),function(e){e.Accept="accept",e.ContentType="content-type"}(p||(q.Headers=p={})),function(e){e.ApplicationJson="application/json"}(h||(q.MediaTypes=h={})),q.getProxyUrl=function(e){const t=c.getProxyUrl(new URL(e));return t?t.href:""};const f=[d.MovedPermanently,d.ResourceMoved,d.SeeOther,d.TemporaryRedirect,d.PermanentRedirect],m=[d.BadGateway,d.ServiceUnavailable,d.GatewayTimeout],g=["OPTIONS","GET","DELETE","HEAD"];class v extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,v.prototype)}}q.HttpClientError=v;class y{constructor(e){this.message=e}readBody(){return n(this,void 0,void 0,(function*(){return new Promise((e=>n(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])})),this.message.on("end",(()=>{e(t.toString())}))}))))}))}readBodyBuffer(){return n(this,void 0,void 0,(function*(){return new Promise((e=>n(this,void 0,void 0,(function*(){const t=[];this.message.on("data",(e=>{t.push(e)})),this.message.on("end",(()=>{e(Buffer.concat(t))}))}))))}))}}q.HttpClientResponse=y,q.isHttps=function(e){return"https:"===new URL(e).protocol};q.HttpClient=class{constructor(e,t,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=i,i&&(null!=i.ignoreSslError&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,null!=i.allowRedirects&&(this._allowRedirects=i.allowRedirects),null!=i.allowRedirectDowngrade&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),null!=i.maxRedirects&&(this._maxRedirects=Math.max(i.maxRedirects,0)),null!=i.keepAlive&&(this._keepAlive=i.keepAlive),null!=i.allowRetries&&(this._allowRetries=i.allowRetries),null!=i.maxRetries&&(this._maxRetries=i.maxRetries))}options(e,t){return n(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return n(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return n(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,i){return n(this,void 0,void 0,(function*(){return this.request("POST",e,t,i||{})}))}patch(e,t,i){return n(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,i||{})}))}put(e,t,i){return n(this,void 0,void 0,(function*(){return this.request("PUT",e,t,i||{})}))}head(e,t){return n(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,i,r){return n(this,void 0,void 0,(function*(){return this.request(e,t,i,r)}))}getJson(e,t={}){return n(this,void 0,void 0,(function*(){t[p.Accept]=this._getExistingOrDefaultHeader(t,p.Accept,h.ApplicationJson);const i=yield this.get(e,t);return this._processResponse(i,this.requestOptions)}))}postJson(e,t,i={}){return n(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);i[p.Accept]=this._getExistingOrDefaultHeader(i,p.Accept,h.ApplicationJson),i[p.ContentType]=this._getExistingOrDefaultHeader(i,p.ContentType,h.ApplicationJson);const r=yield this.post(e,n,i);return this._processResponse(r,this.requestOptions)}))}putJson(e,t,i={}){return n(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);i[p.Accept]=this._getExistingOrDefaultHeader(i,p.Accept,h.ApplicationJson),i[p.ContentType]=this._getExistingOrDefaultHeader(i,p.ContentType,h.ApplicationJson);const r=yield this.put(e,n,i);return this._processResponse(r,this.requestOptions)}))}patchJson(e,t,i={}){return n(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);i[p.Accept]=this._getExistingOrDefaultHeader(i,p.Accept,h.ApplicationJson),i[p.ContentType]=this._getExistingOrDefaultHeader(i,p.ContentType,h.ApplicationJson);const r=yield this.patch(e,n,i);return this._processResponse(r,this.requestOptions)}))}request(e,t,i,r){return n(this,void 0,void 0,(function*(){if(this._disposed)throw new Error("Client has already been disposed.");const n=new URL(t);let a=this._prepareRequest(e,n,r);const s=this._allowRetries&&g.includes(e)?this._maxRetries+1:1;let o,c=0;do{if(o=yield this.requestRaw(a,i),o&&o.message&&o.message.statusCode===d.Unauthorized){let e;for(const t of this.handlers)if(t.canHandleAuthentication(o)){e=t;break}return e?e.handleAuthentication(this,a,i):o}let t=this._maxRedirects;for(;o.message.statusCode&&f.includes(o.message.statusCode)&&this._allowRedirects&&t>0;){const s=o.message.headers.location;if(!s)break;const c=new URL(s);if("https:"===n.protocol&&n.protocol!==c.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield o.readBody(),c.hostname!==n.hostname)for(const e in r)"authorization"===e.toLowerCase()&&delete r[e];a=this._prepareRequest(e,c,r),o=yield this.requestRaw(a,i),t--}if(!o.message.statusCode||!m.includes(o.message.statusCode))return o;c+=1,c<s&&(yield o.readBody(),yield this._performExponentialBackoff(c))}while(c<s);return o}))}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((i,n)=>{this.requestRawWithCallback(e,t,(function(e,t){e?n(e):t?i(t):n(new Error("Unknown error"))}))}))}))}requestRawWithCallback(e,t,i){"string"==typeof t&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let n=!1;function r(e,t){n||(n=!0,i(e,t))}const a=e.httpModule.request(e.options,(e=>{r(void 0,new y(e))}));let s;a.on("socket",(e=>{s=e})),a.setTimeout(this._socketTimeout||18e4,(()=>{s&&s.end(),r(new Error(`Request timeout: ${e.options.path}`))})),a.on("error",(function(e){r(e)})),t&&"string"==typeof t&&a.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",(function(){a.end()})),t.pipe(a)):a.end()}getAgent(e){const t=new URL(e);return this._getAgent(t)}getAgentDispatcher(e){const t=new URL(e),i=c.getProxyUrl(t);if(i&&i.hostname)return this._getProxyAgentDispatcher(t,i)}_prepareRequest(e,t,i){const n={};n.parsedUrl=t;const a="https:"===n.parsedUrl.protocol;n.httpModule=a?o:r;const s=a?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):s,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(i),null!=this.userAgent&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(const e of this.handlers)e.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},w(this.requestOptions.headers),w(e||{})):w(e||{})}_getExistingOrDefaultHeader(e,t,i){let n;return this.requestOptions&&this.requestOptions.headers&&(n=w(this.requestOptions.headers)[t]),e[t]||n||i}_getAgent(e){let t;const i=c.getProxyUrl(e),n=i&&i.hostname;if(this._keepAlive&&n&&(t=this._proxyAgent),n||(t=this._agent),t)return t;const a="https:"===e.protocol;let s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||r.globalAgent.maxSockets),i&&i.hostname){const e={maxSockets:s,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})};let n;const r="https:"===i.protocol;n=a?r?l.httpsOverHttps:l.httpsOverHttp:r?l.httpOverHttps:l.httpOverHttp,t=n(e),this._proxyAgent=t}if(!t){const e={keepAlive:this._keepAlive,maxSockets:s};t=a?new o.Agent(e):new r.Agent(e),this._agent=t}return a&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_getProxyAgentDispatcher(e,t){let i;if(this._keepAlive&&(i=this._proxyAgentDispatcher),i)return i;const n="https:"===e.protocol;return i=new u.ProxyAgent(Object.assign({uri:t.href,pipelining:this._keepAlive?1:0},(t.username||t.password)&&{token:`Basic ${Buffer.from(`${t.username}:${t.password}`).toString("base64")}`})),this._proxyAgentDispatcher=i,n&&this._ignoreSslError&&(i.options=Object.assign(i.options.requestTls||{},{rejectUnauthorized:!1})),i}_performExponentialBackoff(e){return n(this,void 0,void 0,(function*(){e=Math.min(10,e);const t=5*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((i,r)=>n(this,void 0,void 0,(function*(){const n=e.message.statusCode||0,a={statusCode:n,result:null,headers:{}};let s,o;n===d.NotFound&&i(a);try{o=yield e.readBody(),o&&o.length>0&&(s=t&&t.deserializeDates?JSON.parse(o,(function(e,t){if("string"==typeof t){const e=new Date(t);if(!isNaN(e.valueOf()))return e}return t})):JSON.parse(o),a.result=s),a.headers=e.message.headers}catch(e){}if(n>299){let e;e=s&&s.message?s.message:o&&o.length>0?o:`Failed request: (${n})`;const t=new v(e,n);t.result=a.result,r(t)}else i(a)}))))}))}};const w=e=>Object.keys(e).reduce(((t,i)=>(t[i.toLowerCase()]=e[i],t)),{});return q}var Z,ee,te={};function ie(){if(Z)return te;Z=1;var e=te.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(te,"__esModule",{value:!0}),te.PersonalAccessTokenCredentialHandler=te.BearerCredentialHandler=te.BasicCredentialHandler=void 0;te.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}};te.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}};return te.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}},te}function ne(){if(ee)return $;ee=1;var e=$.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty($,"__esModule",{value:!0}),$.OidcClient=void 0;const t=Q(),i=ie(),n=_e();class r{static createHttpClient(e=!0,n=10){const a={allowRetries:e,maxRetries:n};return new t.HttpClient("actions/oidc-client",[new i.BearerCredentialHandler(r.getRequestToken())],a)}static getRequestToken(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(t){var i;return e(this,void 0,void 0,(function*(){const e=r.createHttpClient(),n=yield e.getJson(t).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.message}`)})),a=null===(i=n.result)||void 0===i?void 0:i.value;if(!a)throw new Error("Response json body do not have ID Token field");return a}))}static getIDToken(t){return e(this,void 0,void 0,(function*(){try{let e=r.getIDTokenUrl();if(t){e=`${e}&audience=${encodeURIComponent(t)}`}(0,n.debug)(`ID token url is ${e}`);const i=yield r.getCall(e);return(0,n.setSecret)(i),i}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}return $.OidcClient=r,$}var re,ae={};function se(){return re||(re=1,function(e){var i=ae.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.summary=e.markdownSummary=e.SUMMARY_DOCS_URL=e.SUMMARY_ENV_VAR=void 0;const r=t,a=n,{access:s,appendFile:o,writeFile:c}=a.promises;e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const l=new class{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,(function*(){if(this._filePath)return this._filePath;const t=process.env[e.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield s(t,a.constants.R_OK|a.constants.W_OK)}catch(e){throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath}))}wrap(e,t,i={}){const n=Object.entries(i).map((([e,t])=>` ${e}="${t}"`)).join("");return t?`<${e}${n}>${t}</${e}>`:`<${e}${n}>`}write(e){return i(this,void 0,void 0,(function*(){const t=!!(null==e?void 0:e.overwrite),i=yield this.filePath(),n=t?c:o;return yield n(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()}))}clear(){return i(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:!0})}))}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(r.EOL)}addCodeBlock(e,t){const i=Object.assign({},t&&{lang:t}),n=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(n).addEOL()}addList(e,t=!1){const i=t?"ol":"ul",n=e.map((e=>this.wrap("li",e))).join(""),r=this.wrap(i,n);return this.addRaw(r).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if("string"==typeof e)return this.wrap("td",e);const{header:t,data:i,colspan:n,rowspan:r}=e,a=t?"th":"td",s=Object.assign(Object.assign({},n&&{colspan:n}),r&&{rowspan:r});return this.wrap(a,i,s)})).join("");return this.wrap("tr",t)})).join(""),i=this.wrap("table",t);return this.addRaw(i).addEOL()}addDetails(e,t){const i=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(i).addEOL()}addImage(e,t,i){const{width:n,height:r}=i||{},a=Object.assign(Object.assign({},n&&{width:n}),r&&{height:r}),s=this.wrap("img",null,Object.assign({src:e,alt:t},a));return this.addRaw(s).addEOL()}addHeading(e,t){const i=`h${t}`,n=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",r=this.wrap(n,e);return this.addRaw(r).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const i=Object.assign({},t&&{cite:t}),n=this.wrap("blockquote",e,i);return this.addRaw(n).addEOL()}addLink(e,t){const i=this.wrap("a",e,{href:t});return this.addRaw(i).addEOL()}};e.markdownSummary=l,e.summary=l}(ae)),ae}var oe,ce={};var le,ue,de,pe,he,fe,me={},ge={},ve={},ye={},we={};function be(){return le||(le=1,function(e){var t,i=we.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),a=we.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},o=we.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getCmdPath=e.tryGetExecutablePath=e.isRooted=e.isDirectory=e.exists=e.READONLY=e.UV_FS_O_EXLOCK=e.IS_WINDOWS=e.unlink=e.symlink=e.stat=e.rmdir=e.rm=e.rename=e.readlink=e.readdir=e.open=e.mkdir=e.lstat=e.copyFile=e.chmod=void 0;const c=s(n),l=s(r);function u(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}t=c.promises,e.chmod=t.chmod,e.copyFile=t.copyFile,e.lstat=t.lstat,e.mkdir=t.mkdir,e.open=t.open,e.readdir=t.readdir,e.readlink=t.readlink,e.rename=t.rename,e.rm=t.rm,e.rmdir=t.rmdir,e.stat=t.stat,e.symlink=t.symlink,e.unlink=t.unlink,e.IS_WINDOWS="win32"===process.platform,e.UV_FS_O_EXLOCK=268435456,e.READONLY=c.constants.O_RDONLY,e.exists=function(t){return o(this,void 0,void 0,(function*(){try{yield e.stat(t)}catch(e){if("ENOENT"===e.code)return!1;throw e}return!0}))},e.isDirectory=function(t,i=!1){return o(this,void 0,void 0,(function*(){return(i?yield e.stat(t):yield e.lstat(t)).isDirectory()}))},e.isRooted=function(t){if(!(t=function(t){if(t=t||"",e.IS_WINDOWS)return(t=t.replace(/\//g,"\\")).replace(/\\\\+/g,"\\");return t.replace(/\/\/+/g,"/")}(t)))throw new Error('isRooted() parameter "p" cannot be empty');return e.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")},e.tryGetExecutablePath=function(t,i){return o(this,void 0,void 0,(function*(){let n;try{n=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(n&&n.isFile())if(e.IS_WINDOWS){const e=l.extname(t).toUpperCase();if(i.some((t=>t.toUpperCase()===e)))return t}else if(u(n))return t;const r=t;for(const a of i){t=r+a,n=void 0;try{n=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(n&&n.isFile()){if(e.IS_WINDOWS){try{const i=l.dirname(t),n=l.basename(t).toUpperCase();for(const r of yield e.readdir(i))if(n===r.toUpperCase()){t=l.join(i,r);break}}catch(e){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${e}`)}return t}if(u(n))return t}}return""}))},e.getCmdPath=function(){var e;return null!==(e=process.env.COMSPEC)&&void 0!==e?e:"cmd.exe"}}(we)),we}function xe(){if(ue)return ye;ue=1;var e=ye.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),t=ye.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=ye.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(null!=i)for(var r in i)"default"!==r&&Object.hasOwnProperty.call(i,r)&&e(n,i,r);return t(n,i),n},n=ye.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(ye,"__esModule",{value:!0}),ye.findInPath=ye.which=ye.mkdirP=ye.rmRF=ye.mv=ye.cp=void 0;const a=u,s=i(r),o=i(be());function c(e){return n(this,void 0,void 0,(function*(){if(o.IS_WINDOWS&&/[*"<>|]/.test(e))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield o.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(e){throw new Error(`File was unable to be removed ${e}`)}}))}function l(e){return n(this,void 0,void 0,(function*(){a.ok(e,"a path argument must be provided"),yield o.mkdir(e,{recursive:!0})}))}function d(e){return n(this,void 0,void 0,(function*(){if(!e)throw new Error("parameter 'tool' is required");const t=[];if(o.IS_WINDOWS&&process.env.PATHEXT)for(const e of process.env.PATHEXT.split(s.delimiter))e&&t.push(e);if(o.isRooted(e)){const i=yield o.tryGetExecutablePath(e,t);return i?[i]:[]}if(e.includes(s.sep))return[];const i=[];if(process.env.PATH)for(const e of process.env.PATH.split(s.delimiter))e&&i.push(e);const n=[];for(const r of i){const i=yield o.tryGetExecutablePath(s.join(r,e),t);i&&n.push(i)}return n}))}function p(e,t,i,r){return n(this,void 0,void 0,(function*(){if(i>=255)return;i++,yield l(t);const n=yield o.readdir(e);for(const a of n){const n=`${e}/${a}`,s=`${t}/${a}`;(yield o.lstat(n)).isDirectory()?yield p(n,s,i,r):yield h(n,s,r)}yield o.chmod(t,(yield o.stat(e)).mode)}))}function h(e,t,i){return n(this,void 0,void 0,(function*(){if((yield o.lstat(e)).isSymbolicLink()){try{yield o.lstat(t),yield o.unlink(t)}catch(e){"EPERM"===e.code&&(yield o.chmod(t,"0666"),yield o.unlink(t))}const i=yield o.readlink(e);yield o.symlink(i,t,o.IS_WINDOWS?"junction":null)}else(yield o.exists(t))&&!i||(yield o.copyFile(e,t))}))}return ye.cp=function(e,t,i={}){return n(this,void 0,void 0,(function*(){const{force:n,recursive:r,copySourceDirectory:a}=function(e){const t=null==e.force||e.force,i=Boolean(e.recursive),n=null==e.copySourceDirectory||Boolean(e.copySourceDirectory);return{force:t,recursive:i,copySourceDirectory:n}}(i),c=(yield o.exists(t))?yield o.stat(t):null;if(c&&c.isFile()&&!n)return;const l=c&&c.isDirectory()&&a?s.join(t,s.basename(e)):t;if(!(yield o.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield o.stat(e)).isDirectory()){if(!r)throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);yield p(e,l,0,n)}else{if(""===s.relative(e,l))throw new Error(`'${l}' and '${e}' are the same file`);yield h(e,l,n)}}))},ye.mv=function(e,t,i={}){return n(this,void 0,void 0,(function*(){if(yield o.exists(t)){let n=!0;if((yield o.isDirectory(t))&&(t=s.join(t,s.basename(e)),n=yield o.exists(t)),n){if(null!=i.force&&!i.force)throw new Error("Destination already exists");yield c(t)}}yield l(s.dirname(t)),yield o.rename(e,t)}))},ye.rmRF=c,ye.mkdirP=l,ye.which=function e(t,i){return n(this,void 0,void 0,(function*(){if(!t)throw new Error("parameter 'tool' is required");if(i){const i=yield e(t,!1);if(!i)throw o.IS_WINDOWS?new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return i}const n=yield d(t);return n&&n.length>0?n[0]:""}))},ye.findInPath=d,ye}function ke(){if(de)return ve;de=1;var e=ve.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),i=ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ve.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&e(n,t,r);return i(n,t),n},a=ve.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(ve,"__esModule",{value:!0}),ve.argStringToArray=ve.ToolRunner=void 0;const s=n(t),o=n(l),c=n(h),u=n(r),d=n(xe()),p=n(be()),m=f,g="win32"===process.platform;class v extends o.EventEmitter{constructor(e,t,i){if(super(),!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=i||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const i=this._getSpawnFileName(),n=this._getSpawnArgs(e);let r=t?"":"[command]";if(g)if(this._isCmdFile()){r+=i;for(const e of n)r+=` ${e}`}else if(e.windowsVerbatimArguments){r+=`"${i}"`;for(const e of n)r+=` ${e}`}else{r+=this._windowsQuoteCmdArg(i);for(const e of n)r+=` ${this._windowsQuoteCmdArg(e)}`}else{r+=i;for(const e of n)r+=` ${e}`}return r}_processLineBuffer(e,t,i){try{let n=t+e.toString(),r=n.indexOf(s.EOL);for(;r>-1;){i(n.substring(0,r)),n=n.substring(r+s.EOL.length),r=n.indexOf(s.EOL)}return n}catch(e){return this._debug(`error processing line. Failed with error ${e}`),""}}_getSpawnFileName(){return g&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(g&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const i of this.args)t+=" ",t+=e.windowsVerbatimArguments?i:this._windowsQuoteCmdArg(i);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let i=!1;for(const n of e)if(t.some((e=>e===n))){i=!0;break}if(!i)return e;let n='"',r=!0;for(let t=e.length;t>0;t--)n+=e[t-1],r&&"\\"===e[t-1]?n+="\\":'"'===e[t-1]?(r=!0,n+='"'):r=!1;return n+='"',n.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("\t")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',i=!0;for(let n=e.length;n>0;n--)t+=e[n-1],i&&"\\"===e[n-1]?t+="\\":'"'===e[n-1]?(i=!0,t+="\\"):i=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){const t={cwd:(e=e||{}).cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};const i={};return i.cwd=e.cwd,i.env=e.env,i.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(i.argv0=`"${t}"`),i}exec(){return a(this,void 0,void 0,(function*(){return!p.isRooted(this.toolPath)&&(this.toolPath.includes("/")||g&&this.toolPath.includes("\\"))&&(this.toolPath=u.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield d.which(this.toolPath,!0),new Promise(((e,t)=>a(this,void 0,void 0,(function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const e of this.args)this._debug(`   ${e}`);const i=this._cloneExecOptions(this.options);!i.silent&&i.outStream&&i.outStream.write(this._getCommandString(i)+s.EOL);const n=new y(i,this.toolPath);if(n.on("debug",(e=>{this._debug(e)})),this.options.cwd&&!(yield p.exists(this.options.cwd)))return t(new Error(`The cwd: ${this.options.cwd} does not exist!`));const r=this._getSpawnFileName(),a=c.spawn(r,this._getSpawnArgs(i),this._getSpawnOptions(this.options,r));let o="";a.stdout&&a.stdout.on("data",(e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!i.silent&&i.outStream&&i.outStream.write(e),o=this._processLineBuffer(e,o,(e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)}))}));let l="";if(a.stderr&&a.stderr.on("data",(e=>{if(n.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!i.silent&&i.errStream&&i.outStream){(i.failOnStdErr?i.errStream:i.outStream).write(e)}l=this._processLineBuffer(e,l,(e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)}))})),a.on("error",(e=>{n.processError=e.message,n.processExited=!0,n.processClosed=!0,n.CheckComplete()})),a.on("exit",(e=>{n.processExitCode=e,n.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),n.CheckComplete()})),a.on("close",(e=>{n.processExitCode=e,n.processExited=!0,n.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),n.CheckComplete()})),n.on("done",((i,n)=>{o.length>0&&this.emit("stdline",o),l.length>0&&this.emit("errline",l),a.removeAllListeners(),i?t(i):e(n)})),this.options.input){if(!a.stdin)throw new Error("child process missing stdin");a.stdin.end(this.options.input)}}))))}))}}ve.ToolRunner=v,ve.argStringToArray=function(e){const t=[];let i=!1,n=!1,r="";function a(e){n&&'"'!==e&&(r+="\\"),r+=e,n=!1}for(let s=0;s<e.length;s++){const o=e.charAt(s);'"'!==o?"\\"===o&&n?a(o):"\\"===o&&i?n=!0:" "!==o||i?a(o):r.length>0&&(t.push(r),r=""):n?a(o):i=!i}return r.length>0&&t.push(r.trim()),t};class y extends o.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=m.setTimeout(y.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){const t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}return ve}function Se(){if(pe)return ge;pe=1;var e=ge.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),t=ge.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=ge.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(null!=i)for(var r in i)"default"!==r&&Object.hasOwnProperty.call(i,r)&&e(n,i,r);return t(n,i),n},n=ge.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(ge,"__esModule",{value:!0}),ge.getExecOutput=ge.exec=void 0;const r=p,a=i(ke());function s(e,t,i){return n(this,void 0,void 0,(function*(){const n=a.argStringToArray(e);if(0===n.length)throw new Error("Parameter 'commandLine' cannot be null or empty.");const r=n[0];t=n.slice(1).concat(t||[]);return new a.ToolRunner(r,t,i).exec()}))}return ge.exec=s,ge.getExecOutput=function(e,t,i){var a,o;return n(this,void 0,void 0,(function*(){let n="",c="";const l=new r.StringDecoder("utf8"),u=new r.StringDecoder("utf8"),d=null===(a=null==i?void 0:i.listeners)||void 0===a?void 0:a.stdout,p=null===(o=null==i?void 0:i.listeners)||void 0===o?void 0:o.stderr,h=Object.assign(Object.assign({},null==i?void 0:i.listeners),{stdout:e=>{n+=l.write(e),d&&d(e)},stderr:e=>{c+=u.write(e),p&&p(e)}}),f=yield s(e,t,Object.assign(Object.assign({},i),{listeners:h}));return n+=l.end(),c+=u.end(),{exitCode:f,stdout:n,stderr:c}}))},ge}function Ee(){return he||(he=1,function(e){var i=me.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),n=me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=me.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},s=me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getDetails=e.isLinux=e.isMacOS=e.isWindows=e.arch=e.platform=void 0;const o=s(t),c=r(Se());e.platform=o.default.platform(),e.arch=o.default.arch(),e.isWindows="win32"===e.platform,e.isMacOS="darwin"===e.platform,e.isLinux="linux"===e.platform,e.getDetails=function(){return a(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},yield e.isWindows?a(void 0,void 0,void 0,(function*(){const{stdout:e}=yield c.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',void 0,{silent:!0}),{stdout:t}=yield c.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',void 0,{silent:!0});return{name:t.trim(),version:e.trim()}})):e.isMacOS?a(void 0,void 0,void 0,(function*(){var e,t,i,n;const{stdout:r}=yield c.getExecOutput("sw_vers",void 0,{silent:!0}),a=null!==(t=null===(e=r.match(/ProductVersion:\s*(.+)/))||void 0===e?void 0:e[1])&&void 0!==t?t:"";return{name:null!==(n=null===(i=r.match(/ProductName:\s*(.+)/))||void 0===i?void 0:i[1])&&void 0!==n?n:"",version:a}})):a(void 0,void 0,void 0,(function*(){const{stdout:e}=yield c.getExecOutput("lsb_release",["-i","-r","-s"],{silent:!0}),[t,i]=e.trim().split("\n");return{name:t,version:i}}))),{platform:e.platform,arch:e.arch,isWindows:e.isWindows,isMacOS:e.isMacOS,isLinux:e.isLinux})}))}}(me)),me}function _e(){return fe||(fe=1,function(e){var a=A.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return s(t,e),t},c=A.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.toPlatformPath=e.toWin32Path=e.toPosixPath=e.markdownSummary=e.summary=e.getIDToken=e.getState=e.saveState=e.group=e.endGroup=e.startGroup=e.info=e.notice=e.warning=e.error=e.debug=e.isDebug=e.setFailed=e.setCommandEcho=e.setOutput=e.getBooleanInput=e.getMultilineInput=e.getInput=e.addPath=e.setSecret=e.exportVariable=e.ExitCode=void 0;const l=N(),u=function(){if(D)return j;D=1;var e=j.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=j.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&e(i,t,n);return r(i,t),i};Object.defineProperty(j,"__esModule",{value:!0}),j.prepareKeyValueMessage=j.issueFileCommand=void 0;const s=a(i),o=a(n),c=a(t),l=F();return j.issueFileCommand=function(e,t){const i=process.env[`GITHUB_${e}`];if(!i)throw new Error(`Unable to find environment variable for file command ${e}`);if(!o.existsSync(i))throw new Error(`Missing file at path: ${i}`);o.appendFileSync(i,`${(0,l.toCommandValue)(t)}${c.EOL}`,{encoding:"utf8"})},j.prepareKeyValueMessage=function(e,t){const i=`ghadelimiter_${s.randomUUID()}`,n=(0,l.toCommandValue)(t);if(e.includes(i))throw new Error(`Unexpected input: name should not contain the delimiter "${i}"`);if(n.includes(i))throw new Error(`Unexpected input: value should not contain the delimiter "${i}"`);return`${e}<<${i}${c.EOL}${n}${c.EOL}${i}`},j}(),d=F(),p=o(t),h=o(r),f=ne();var m;function g(e,t){const i=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!i)throw new Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?i:i.trim()}function v(e,t={}){(0,l.issueCommand)("error",(0,d.toCommandProperties)(t),e instanceof Error?e.toString():e)}function y(e){(0,l.issue)("group",e)}function w(){(0,l.issue)("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(m||(e.ExitCode=m={})),e.exportVariable=function(e,t){const i=(0,d.toCommandValue)(t);if(process.env[e]=i,process.env.GITHUB_ENV||"")return(0,u.issueFileCommand)("ENV",(0,u.prepareKeyValueMessage)(e,t));(0,l.issueCommand)("set-env",{name:e},i)},e.setSecret=function(e){(0,l.issueCommand)("add-mask",{},e)},e.addPath=function(e){process.env.GITHUB_PATH||""?(0,u.issueFileCommand)("PATH",e):(0,l.issueCommand)("add-path",{},e),process.env.PATH=`${e}${h.delimiter}${process.env.PATH}`},e.getInput=g,e.getMultilineInput=function(e,t){const i=g(e,t).split("\n").filter((e=>""!==e));return t&&!1===t.trimWhitespace?i:i.map((e=>e.trim()))},e.getBooleanInput=function(e,t){const i=g(e,t);if(["true","True","TRUE"].includes(i))return!0;if(["false","False","FALSE"].includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},e.setOutput=function(e,t){if(process.env.GITHUB_OUTPUT||"")return(0,u.issueFileCommand)("OUTPUT",(0,u.prepareKeyValueMessage)(e,t));process.stdout.write(p.EOL),(0,l.issueCommand)("set-output",{name:e},(0,d.toCommandValue)(t))},e.setCommandEcho=function(e){(0,l.issue)("echo",e?"on":"off")},e.setFailed=function(e){process.exitCode=m.Failure,v(e)},e.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},e.debug=function(e){(0,l.issueCommand)("debug",{},e)},e.error=v,e.warning=function(e,t={}){(0,l.issueCommand)("warning",(0,d.toCommandProperties)(t),e instanceof Error?e.toString():e)},e.notice=function(e,t={}){(0,l.issueCommand)("notice",(0,d.toCommandProperties)(t),e instanceof Error?e.toString():e)},e.info=function(e){process.stdout.write(e+p.EOL)},e.startGroup=y,e.endGroup=w,e.group=function(e,t){return c(this,void 0,void 0,(function*(){let i;y(e);try{i=yield t()}finally{w()}return i}))},e.saveState=function(e,t){if(process.env.GITHUB_STATE||"")return(0,u.issueFileCommand)("STATE",(0,u.prepareKeyValueMessage)(e,t));(0,l.issueCommand)("save-state",{name:e},(0,d.toCommandValue)(t))},e.getState=function(e){return process.env[`STATE_${e}`]||""},e.getIDToken=function(e){return c(this,void 0,void 0,(function*(){return yield f.OidcClient.getIDToken(e)}))};var b=se();Object.defineProperty(e,"summary",{enumerable:!0,get:function(){return b.summary}});var x=se();Object.defineProperty(e,"markdownSummary",{enumerable:!0,get:function(){return x.markdownSummary}});var k=function(){if(oe)return ce;oe=1;var e=ce.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),t=ce.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=ce.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(null!=i)for(var r in i)"default"!==r&&Object.prototype.hasOwnProperty.call(i,r)&&e(n,i,r);return t(n,i),n};Object.defineProperty(ce,"__esModule",{value:!0}),ce.toPlatformPath=ce.toWin32Path=ce.toPosixPath=void 0;const n=i(r);return ce.toPosixPath=function(e){return e.replace(/[\\]/g,"/")},ce.toWin32Path=function(e){return e.replace(/[/]/g,"\\")},ce.toPlatformPath=function(e){return e.replace(/[/\\]/g,n.sep)},ce}();Object.defineProperty(e,"toPosixPath",{enumerable:!0,get:function(){return k.toPosixPath}}),Object.defineProperty(e,"toWin32Path",{enumerable:!0,get:function(){return k.toWin32Path}}),Object.defineProperty(e,"toPlatformPath",{enumerable:!0,get:function(){return k.toPlatformPath}}),e.platform=o(Ee())}(A)),A}var Ce,Te,Pe,Me,Ie,Oe,Ae,Le,Re,Fe=_e(),Ne={exports:{}};function De(){if(Ae)return Oe;Ae=1;var e=function(){if(Pe)return Te;Pe=1,Te=function(t,i){for(var n=[],r=0;r<t.length;r++){var a=i(t[r],r);e(a)?n.push.apply(n,a):n.push(a)}return n};var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return Te}(),t=function(){if(Ie)return Me;function e(e,n,r){e instanceof RegExp&&(e=t(e,r)),n instanceof RegExp&&(n=t(n,r));var a=i(e,n,r);return a&&{start:a[0],end:a[1],pre:r.slice(0,a[0]),body:r.slice(a[0]+e.length,a[1]),post:r.slice(a[1]+n.length)}}function t(e,t){var i=t.match(e);return i?i[0]:null}function i(e,t,i){var n,r,a,s,o,c=i.indexOf(e),l=i.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(n=[],a=i.length;u>=0&&!o;)u==c?(n.push(u),c=i.indexOf(e,u+1)):1==n.length?o=[n.pop(),l]:((r=n.pop())<a&&(a=r,s=l),l=i.indexOf(t,u+1)),u=c<l&&c>=0?c:l;n.length&&(o=[a,s])}return o}return Ie=1,Me=e,e.range=i,Me}();Oe=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return f(function(e){return e.split("\\\\").join(i).split("\\{").join(n).split("\\}").join(r).split("\\,").join(a).split("\\.").join(s)}(e),!0).map(c)};var i="\0SLASH"+Math.random()+"\0",n="\0OPEN"+Math.random()+"\0",r="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",s="\0PERIOD"+Math.random()+"\0";function o(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function c(e){return e.split(i).join("\\").split(n).join("{").split(r).join("}").split(a).join(",").split(s).join(".")}function l(e){if(!e)return[""];var i=[],n=t("{","}",e);if(!n)return e.split(",");var r=n.pre,a=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+a+"}";var c=l(s);return s.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),i.push.apply(i,o),i}function u(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function h(e,t){return e>=t}function f(i,n){var a=[],s=t("{","}",i);if(!s||/\$$/.test(s.pre))return[i];var c,m=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),g=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),v=m||g,y=s.body.indexOf(",")>=0;if(!v&&!y)return s.post.match(/,.*\}/)?f(i=s.pre+"{"+s.body+r+s.post):[i];if(v)c=s.body.split(/\.\./);else if(1===(c=l(s.body)).length&&1===(c=f(c[0],!1).map(u)).length)return(x=s.post.length?f(s.post,!1):[""]).map((function(e){return s.pre+c[0]+e}));var w,b=s.pre,x=s.post.length?f(s.post,!1):[""];if(v){var k=o(c[0]),S=o(c[1]),E=Math.max(c[0].length,c[1].length),_=3==c.length?Math.abs(o(c[2])):1,C=p;S<k&&(_*=-1,C=h);var T=c.some(d);w=[];for(var P=k;C(P,S);P+=_){var M;if(g)"\\"===(M=String.fromCharCode(P))&&(M="");else if(M=String(P),T){var I=E-M.length;if(I>0){var O=new Array(I+1).join("0");M=P<0?"-"+O+M.slice(1):O+M}}w.push(M)}}else w=e(c,(function(e){return f(e,!1)}));for(var A=0;A<w.length;A++)for(var L=0;L<x.length;L++){var R=b+w[A]+x[L];(!n||v||R)&&a.push(R)}return a}return Oe}var je,Be={exports:{}};function $e(){if(je)return Be.exports;je=1,Be.exports=u,Be.exports.match=function(e,t){var i=[],n=u(e,i,t);return r(n,i)},Be.exports.regexpToFunction=r,Be.exports.parse=i,Be.exports.compile=function(e,t){return a(i(e,t),t)},Be.exports.tokensToFunction=a,Be.exports.tokensToRegExp=l;var e="/",t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function i(i,r){for(var a,s=[],c=0,l=0,u="",d=r&&r.delimiter||e,p=r&&r.whitelist||void 0,h=!1;null!==(a=t.exec(i));){var f=a[0],m=a[1],g=a.index;if(u+=i.slice(l,g),l=g+f.length,m)u+=m[1],h=!0;else{var v="",y=a[2],w=a[3],b=a[4],x=a[5];if(!h&&u.length){var k=u.length-1,S=u[k];(!p||p.indexOf(S)>-1)&&(v=S,u=u.slice(0,k))}u&&(s.push(u),u="",h=!1);var E="+"===x||"*"===x,_="?"===x||"*"===x,C=w||b,T=v||d,P=v||("string"==typeof s[s.length-1]?s[s.length-1]:"");s.push({name:y||c++,prefix:v,delimiter:T,optional:_,repeat:E,pattern:C?o(C):n(T,d,P)})}}return(u||l<i.length)&&s.push(u+i.substr(l)),s}function n(e,t,i){var n="[^"+s(e===t?e:e+t)+"]";return!i||i.indexOf(e)>-1||i.indexOf(t)>-1?n+"+?":s(i)+"|(?:(?!"+s(i)+")"+n+")+?"}function r(e,t){return function(i,n){var r=e.exec(i);if(!r)return!1;for(var a=r[0],s=r.index,o={},c=n&&n.decode||decodeURIComponent,l=1;l<r.length;l++)if(void 0!==r[l]){var u=t[l-1];u.repeat?o[u.name]=r[l].split(u.delimiter).map((function(e){return c(e,u)})):o[u.name]=c(r[l],u)}return{path:a,index:s,params:o}}}function a(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",c(t)));return function(t,n){for(var r="",a=n&&n.encode||encodeURIComponent,s=!n||!1!==n.validate,o=0;o<e.length;o++){var c=e[o];if("string"!=typeof c){var l,u=t?t[c.name]:void 0;if(Array.isArray(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(l=a(u[d],c),s&&!i[o].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');r+=(0===d?c.prefix:c.delimiter)+l}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}else{if(l=a(String(u),c),s&&!i[o].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+l+'"');r+=c.prefix+l}}else r+=c}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(e){return e.replace(/([=!:$/()])/g,"\\$1")}function c(e){return e&&e.sensitive?"":"i"}function l(t,i,n){for(var r=(n=n||{}).strict,a=!1!==n.start,o=!1!==n.end,l=n.delimiter||e,u=[].concat(n.endsWith||[]).map(s).concat("$").join("|"),d=a?"^":"",p=0;p<t.length;p++){var h=t[p];if("string"==typeof h)d+=s(h);else{var f=h.repeat?"(?:"+h.pattern+")(?:"+s(h.delimiter)+"(?:"+h.pattern+"))*":h.pattern;i&&i.push(h),h.optional?h.prefix?d+="(?:"+s(h.prefix)+"("+f+"))?":d+="("+f+")?":d+=s(h.prefix)+"("+f+")"}}if(o)r||(d+="(?:"+s(l)+")?"),d+="$"===u?"$":"(?="+u+")";else{var m=t[t.length-1],g="string"==typeof m?m[m.length-1]===l:void 0===m;r||(d+="(?:"+s(l)+"(?="+u+"))?"),g||(d+="(?="+s(l)+"|"+u+")")}return new RegExp(d,c(n))}function u(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(u(e[r],t,i).source);return new RegExp("(?:"+n.join("|")+")",c(i))}(e,t,n):function(e,t,n){return l(i(e,n),t,n)}(e,t,n)}return Be.exports}var qe,Ue,ze,He={},We={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.control+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emergencycalldata.veds+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fhir+xml":{source:"iana"},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/framework-attributes+xml":{source:"iana"},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geoxacml+xml":{source:"iana"},"application/gml+xml":{source:"iana",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana"},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-usd+xml":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/node":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/route-apd+xml":{source:"iana"},"application/route-s-tsid+xml":{source:"iana"},"application/route-usd+xml":{source:"iana"},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tnauthlist":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.gmop+xml":{source:"iana"},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana"},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana"},"application/vnd.3gpp.mcptt-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana"},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.desmume.movie":{source:"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana"},"application/vnd.imagemeter.image+zip":{source:"iana"},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.patentdive":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana"},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana"},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana"},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana"},"image/apng":{compressible:!1,extensions:["apng"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana"},"image/emf":{source:"iana"},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana"},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana"},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};function Ke(){return ze||(ze=1,function(e){var t,i,n,a=Ue?qe:(Ue=1,qe=We),s=r.extname,o=/^\s*([^;\s]*)(?:;|\s|$)/,c=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=o.exec(e),i=t&&a[t[1].toLowerCase()];return i&&i.charset?i.charset:!(!t||!c.test(t[1]))&&"UTF-8"}e.charset=l,e.charsets={lookup:l},e.contentType=function(t){if(!t||"string"!=typeof t)return!1;var i=-1===t.indexOf("/")?e.lookup(t):t;if(!i)return!1;if(-1===i.indexOf("charset")){var n=e.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},e.extension=function(t){if(!t||"string"!=typeof t)return!1;var i=o.exec(t),n=i&&e.extensions[i[1].toLowerCase()];if(!n||!n.length)return!1;return n[0]},e.extensions=Object.create(null),e.lookup=function(t){if(!t||"string"!=typeof t)return!1;var i=s("x."+t).toLowerCase().substr(1);if(!i)return!1;return e.types[i]||!1},e.types=Object.create(null),t=e.extensions,i=e.types,n=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var r=a[e],s=r.extensions;if(s&&s.length){t[e]=s;for(var o=0;o<s.length;o++){var c=s[o];if(i[c]){var l=n.indexOf(a[i[c]].source),u=n.indexOf(r.source);if("application/octet-stream"!==i[c]&&(l>u||l===u&&"application/"===i[c].substr(0,12)))continue}i[c]=e}}}))}(He)),He}var Ge,Ve={exports:{}};function Xe(){if(Ge)return Ve.exports;Ge=1,Ve.exports=function(e,t){if("string"==typeof e)return a(e);if("number"==typeof e)return r(e,t);return null},Ve.exports.format=r,Ve.exports.parse=a;var e=/\B(?=(\d{3})+(?!\d))/g,t=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},n=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function r(n,r){if(!Number.isFinite(n))return null;var a=Math.abs(n),s=r&&r.thousandsSeparator||"",o=r&&r.unitSeparator||"",c=r&&void 0!==r.decimalPlaces?r.decimalPlaces:2,l=Boolean(r&&r.fixedDecimals),u=r&&r.unit||"";u&&i[u.toLowerCase()]||(u=a>=i.tb?"TB":a>=i.gb?"GB":a>=i.mb?"MB":a>=i.kb?"KB":"B");var d=(n/i[u.toLowerCase()]).toFixed(c);return l||(d=d.replace(t,"$1")),s&&(d=d.replace(e,s)),d+o+u}function a(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,r=n.exec(e),a="b";return r?(t=parseFloat(r[1]),a=r[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(i[a]*t)}return Ve.exports}var Ye,Je,Qe,Ze,et,tt={exports:{}};function it(){if(Ye)return tt.exports;Ye=1,tt.exports=function(t,n){var r=n||{},s=r.type||"attachment",o=function(t,n){if(void 0===t)return;var r={};if("string"!=typeof t)throw new TypeError("filename must be a string");void 0===n&&(n=!0);if("string"!=typeof n&&"boolean"!=typeof n)throw new TypeError("fallback must be a string or boolean");if("string"==typeof n&&a.test(n))throw new TypeError("fallback must be ISO-8859-1 string");var s=e(t),o=l.test(s),c="string"!=typeof n?n&&f(s):e(n),u="string"==typeof c&&c!==s;(u||!o||i.test(s))&&(r["filename*"]=s);(o||u)&&(r.filename=u?c:s);return r}(t,r.fallback);return function(e){var t=e.parameters,i=e.type;if(!i||"string"!=typeof i||!u.test(i))throw new TypeError("invalid type");var n=String(i).toLowerCase();if(t&&"object"==typeof t)for(var r,a=Object.keys(t).sort(),s=0;s<a.length;s++){var o="*"===(r=a[s]).substr(-1)?y(t[r]):v(t[r]);n+="; "+r+"="+o}return n}(new w(s,o))},tt.exports.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=p.exec(e);if(!t)throw new TypeError("invalid type format");var i,n,r=t[0].length,a=t[1].toLowerCase(),o=[],l={};r=c.lastIndex=";"===t[0].substr(-1)?r-1:r;for(;t=c.exec(e);){if(t.index!==r)throw new TypeError("invalid parameter format");if(r+=t[0].length,i=t[1].toLowerCase(),n=t[2],-1!==o.indexOf(i))throw new TypeError("invalid duplicate parameter");o.push(i),i.indexOf("*")+1!==i.length?"string"!=typeof l[i]&&('"'===n[0]&&(n=n.substr(1,n.length-2).replace(s,"$1")),l[i]=n):(i=i.slice(0,-1),n=h(n),l[i]=n)}if(-1!==r&&r!==e.length)throw new TypeError("invalid parameter format");return new w(a,l)};var e=r.basename,t=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,i=/%[0-9A-Fa-f]{2}/,n=/%([0-9A-Fa-f]{2})/g,a=/[^\x20-\x7e\xa0-\xff]/g,s=/\\([\u0000-\u007f])/g,o=/([\\"])/g,c=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,l=/^[\x20-\x7e\x80-\xff]+$/,u=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,d=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,p=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function h(e){var t=d.exec(e);if(!t)throw new TypeError("invalid extended field value");var i,r=t[1].toLowerCase(),a=t[2].replace(n,m);switch(r){case"iso-8859-1":i=f(a);break;case"utf-8":i=new Buffer(a,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return i}function f(e){return String(e).replace(a,"?")}function m(e,t){return String.fromCharCode(parseInt(t,16))}function g(e){var t=String(e).charCodeAt(0).toString(16).toUpperCase();return 1===t.length?"%0"+t:"%"+t}function v(e){return'"'+String(e).replace(o,"\\$1")+'"'}function y(e){var i=String(e);return"UTF-8''"+encodeURIComponent(i).replace(t,g)}function w(e,t){this.type=e,this.parameters=t}return tt.exports}function nt(){if(et)return Ze;function e(e,t){return{start:e.start,end:e.end,index:t}}function t(e){return{start:e.start,end:e.end}}function i(e,t){return e.index-t.index}function n(e,t){return e.start-t.start}return et=1,Ze=function(r,a,s){var o=a.indexOf("=");if(-1===o)return-2;var c=a.slice(o+1).split(","),l=[];l.type=a.slice(0,o);for(var u=0;u<c.length;u++){var d=c[u].split("-"),p=parseInt(d[0],10),h=parseInt(d[1],10);isNaN(p)?(p=r-h,h=r-1):isNaN(h)&&(h=r-1),h>r-1&&(h=r-1),isNaN(p)||isNaN(h)||p>h||p<0||l.push({start:p,end:h})}if(l.length<1)return-1;return s&&s.combine?function(r){for(var a=r.map(e).sort(n),s=0,o=1;o<a.length;o++){var c=a[o],l=a[s];c.start>l.end+1?a[++s]=c:c.end>l.end&&(l.end=c.end,l.index=Math.min(l.index,c.index))}a.length=s+1;var u=a.sort(i).map(t);return u.type=r.type,u}(l):l},Ze}var rt,at={exports:{}};var st,ot,ct,lt={exports:{}};var ut=function(){if(ct)return ot;ct=1;const{promisify:e}=d,t=r,{createHash:a}=i,{realpath:s,lstat:o,createReadStream:c,readdir:l}=n,u=g,p=function(){if(Ce)return Ne.exports;Ce=1;const e=r,t=t=>e.posix.normalize(e.posix.join("/",t));return Ne.exports=e=>"!"===e.charAt(0)?`!${t(e.substr(1))}`:t(e),Ne.exports.normalize=t,Ne.exports}(),h=function(){if(Re)return Le;Re=1,Le=l,l.Minimatch=u;var e=function(){try{return require("path")}catch(e){}}()||{sep:"/"};l.sep=e.sep;var t=l.GLOBSTAR=u.GLOBSTAR={},i=De(),n={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},r="[^/]",a=r+"*?",s="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),o=/\/+/;function c(e,t){t=t||{};var i={};return Object.keys(e).forEach((function(t){i[t]=e[t]})),Object.keys(t).forEach((function(e){i[e]=t[e]})),i}function l(e,t,i){return p(t),i||(i={}),!(!i.nocomment&&"#"===t.charAt(0))&&new u(t,i).match(e)}function u(t,i){if(!(this instanceof u))return new u(t,i);p(t),i||(i={}),t=t.trim(),i.allowWindowsEscape||"/"===e.sep||(t=t.split(e.sep).join("/")),this.options=i,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!i.partial,this.make()}function d(e,t){return t||(t=this instanceof u?this.options:{}),e=void 0===e?this.pattern:e,p(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:i(e)}l.filter=function(e,t){return t=t||{},function(i,n,r){return l(i,e,t)}},l.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return l;var t=l,i=function(i,n,r){return t(i,n,c(e,r))};return(i.Minimatch=function(i,n){return new t.Minimatch(i,c(e,n))}).defaults=function(i){return t.defaults(c(e,i)).Minimatch},i.filter=function(i,n){return t.filter(i,c(e,n))},i.defaults=function(i){return t.defaults(c(e,i))},i.makeRe=function(i,n){return t.makeRe(i,c(e,n))},i.braceExpand=function(i,n){return t.braceExpand(i,c(e,n))},i.match=function(i,n,r){return t.match(i,n,c(e,r))},i},u.defaults=function(e){return l.defaults(e).Minimatch},u.prototype.debug=function(){},u.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var i=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,i),i=this.globParts=i.map((function(e){return e.split(o)})),this.debug(this.pattern,i),i=i.map((function(e,t,i){return e.map(this.parse,this)}),this),this.debug(this.pattern,i),i=i.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,i),this.set=i}else this.empty=!0;else this.comment=!0},u.prototype.parseNegate=function(){var e=this.pattern,t=!1,i=0;if(!this.options.nonegate){for(var n=0,r=e.length;n<r&&"!"===e.charAt(n);n++)t=!t,i++;i&&(this.pattern=e.substr(i)),this.negate=t}},l.braceExpand=function(e,t){return d(e,t)},u.prototype.braceExpand=d;var p=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};u.prototype.parse=function(e,i){p(e);var o=this.options;if("**"===e){if(!o.noglobstar)return t;e="*"}if(""===e)return"";var c,l="",u=!!o.nocase,d=!1,f=[],m=[],g=!1,v=-1,y=-1,w="."===e.charAt(0)?"":o.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function x(){if(c){switch(c){case"*":l+=a,u=!0;break;case"?":l+=r,u=!0;break;default:l+="\\"+c}b.debug("clearStateChar %j %j",c,l),c=!1}}for(var k,S=0,E=e.length;S<E&&(k=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,l,k),d&&s[k])l+="\\"+k,d=!1;else switch(k){case"/":return!1;case"\\":x(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,l,k),g){this.debug("  in class"),"!"===k&&S===y+1&&(k="^"),l+=k;continue}b.debug("call clearStateChar %j",c),x(),c=k,o.noext&&x();continue;case"(":if(g){l+="(";continue}if(!c){l+="\\(";continue}f.push({type:c,start:S-1,reStart:l.length,open:n[c].open,close:n[c].close}),l+="!"===c?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,l),c=!1;continue;case")":if(g||!f.length){l+="\\)";continue}x(),u=!0;var _=f.pop();l+=_.close,"!"===_.type&&m.push(_),_.reEnd=l.length;continue;case"|":if(g||!f.length||d){l+="\\|",d=!1;continue}x(),l+="|";continue;case"[":if(x(),g){l+="\\"+k;continue}g=!0,y=S,v=l.length,l+=k;continue;case"]":if(S===y+1||!g){l+="\\"+k,d=!1;continue}var C=e.substring(y+1,S);try{RegExp("["+C+"]")}catch(e){var T=this.parse(C,h);l=l.substr(0,v)+"\\["+T[0]+"\\]",u=u||T[1],g=!1;continue}u=!0,g=!1,l+=k;continue;default:x(),d?d=!1:!s[k]||"^"===k&&g||(l+="\\"),l+=k}for(g&&(C=e.substr(y+1),T=this.parse(C,h),l=l.substr(0,v)+"\\["+T[0],u=u||T[1]),_=f.pop();_;_=f.pop()){var P=l.slice(_.reStart+_.open.length);this.debug("setting tail",l,_),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,i){return i||(i="\\"),t+t+i+"|"})),this.debug("tail=%j\n   %s",P,P,_,l);var M="*"===_.type?a:"?"===_.type?r:"\\"+_.type;u=!0,l=l.slice(0,_.reStart)+M+"\\("+P}x(),d&&(l+="\\\\");var I=!1;switch(l.charAt(0)){case"[":case".":case"(":I=!0}for(var O=m.length-1;O>-1;O--){var A=m[O],L=l.slice(0,A.reStart),R=l.slice(A.reStart,A.reEnd-8),F=l.slice(A.reEnd-8,A.reEnd),N=l.slice(A.reEnd);F+=N;var D=L.split("(").length-1,j=N;for(S=0;S<D;S++)j=j.replace(/\)[+*?]?/,"");var B="";""===(N=j)&&i!==h&&(B="$"),l=L+R+N+B+F}if(""!==l&&u&&(l="(?=.)"+l),I&&(l=w+l),i===h)return[l,u];if(!u)return e.replace(/\\(.)/g,"$1");var $=o.nocase?"i":"";try{var q=new RegExp("^"+l+"$",$)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=l,q};var h={};return l.makeRe=function(e,t){return new u(e,t||{}).makeRe()},u.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var i=this.options,n=i.noglobstar?a:i.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=i.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===t?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,i){var n=new u(t,i=i||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},u.prototype.match=function(t,i){if(void 0===i&&(i=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&i)return!0;var n=this.options;"/"!==e.sep&&(t=t.split(e.sep).join("/")),t=t.split(o),this.debug(this.pattern,"split",t);var r,a,s=this.set;for(this.debug(this.pattern,"set",s),a=t.length-1;a>=0&&!(r=t[a]);a--);for(a=0;a<s.length;a++){var c=s[a],l=t;if(n.matchBase&&1===c.length&&(l=[r]),this.matchOne(l,c,i))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},u.prototype.matchOne=function(e,i,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:i}),this.debug("matchOne",e.length,i.length);for(var a=0,s=0,o=e.length,c=i.length;a<o&&s<c;a++,s++){this.debug("matchOne loop");var l,u=i[s],d=e[a];if(this.debug(i,u,d),!1===u)return!1;if(u===t){this.debug("GLOBSTAR",[i,u,d]);var p=a,h=s+1;if(h===c){for(this.debug("** at the end");a<o;a++)if("."===e[a]||".."===e[a]||!r.dot&&"."===e[a].charAt(0))return!1;return!0}for(;p<o;){var f=e[p];if(this.debug("\nglobstar while",e,p,i,h,f),this.matchOne(e.slice(p),i.slice(h),n))return this.debug("globstar found match!",p,o,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,i,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,i,h),p!==o))}if("string"==typeof u?(l=d===u,this.debug("string match",u,d,l)):(l=d.match(u),this.debug("pattern match",u,d,l)),!l)return!1}if(a===o&&s===c)return!0;if(a===o)return n;if(s===c)return a===o-1&&""===e[a];throw new Error("wtf?")},Le}(),f=$e(),m=Ke(),v=Xe(),y=it(),w=function(){if(Qe)return Je;Qe=1;var e=r;function t(t){return t[t.length-1]===e.sep?t.slice(0,-1):t}return Je=function(i,n){return i=t(i),n=t(n),"win32"===process.platform&&(i=i.toLowerCase(),n=n.toLowerCase()),0===i.lastIndexOf(n,0)&&(i[n.length]===e.sep||void 0===i[n.length])}}(),b=nt(),x=(rt||(rt=1,_=function(e){var t,i,n=void 0!==C?C:(t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=/&(?!#?\w+;)|<|>|"|'|\//g,function(e){return e?e.toString().replace(i,(function(e){return t[e]||e})):""}),r='<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Files within '+n(e.directory)+"</title> <style>body { margin: 0; padding: 30px; background: #fff; font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif; -webkit-font-smoothing: antialiased;}main { max-width: 920px;}header { display: flex; justify-content: space-between; flex-wrap: wrap;}h1 { font-size: 18px; font-weight: 500; margin-top: 0; color: #000;}header h1 a { font-size: 18px; font-weight: 500; margin-top: 0; color: #000;}h1 i { font-style: normal;}ul { margin: 0 0 0 -2px; padding: 20px 0 0 0;}ul li { list-style: none; font-size: 14px; display: flex; justify-content: space-between;}a { text-decoration: none;}ul a { color: #000; padding: 10px 5px; margin: 0 -5px; white-space: nowrap; overflow: hidden; display: block; width: 100%; text-overflow: ellipsis;}header a { color: #0076FF; font-size: 11px; font-weight: 400; display: inline-block; line-height: 20px;}svg { height: 13px; vertical-align: text-bottom;}ul a::before { display: inline-block; vertical-align: middle; margin-right: 10px; width: 24px; text-align: center; line-height: 12px;}ul a.file::before { content: url(\"data:image/svg+xml;utf8,<svg width='15' height='19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10 8C8.34 8 7 6.66 7 5V1H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V8h-4zM8 5c0 1.1.9 2 2 2h3.59L8 1.41V5zM3 0h5l7 7v9c0 1.66-1.34 3-3 3H3c-1.66 0-3-1.34-3-3V3c0-1.66 1.34-3 3-3z' fill='black'/></svg>\");}ul a:hover { text-decoration: underline;}ul a.folder::before { content: url(\"data:image/svg+xml;utf8,<svg width='20' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M18.784 3.87a1.565 1.565 0 0 0-.565-.356V2.426c0-.648-.523-1.171-1.15-1.171H8.996L7.908.25A.89.89 0 0 0 7.302 0H2.094C1.445 0 .944.523.944 1.171v2.3c-.21.085-.398.21-.565.356a1.348 1.348 0 0 0-.377 1.004l.398 9.83C.42 15.393 1.048 16 1.8 16h15.583c.753 0 1.36-.586 1.4-1.339l.398-9.83c.021-.313-.125-.69-.397-.962zM1.843 3.41V1.191c0-.146.104-.272.25-.272H7.26l1.234 1.088c.083.042.167.104.293.104h8.282c.125 0 .25.126.25.272V3.41H1.844zm15.54 11.712H1.78a.47.47 0 0 1-.481-.46l-.397-9.83c0-.147.041-.252.125-.356a.504.504 0 0 1 .377-.147H17.78c.125 0 .272.063.377.147.083.083.125.209.125.334l-.418 9.83c-.021.272-.23.482-.481.482z' fill='black'/></svg>\");}ul a.lambda::before { content: url(\"data:image/svg+xml; utf8,<svg width='15' height='19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3.5 14.4354H5.31622L7.30541 9.81311H7.43514L8.65315 13.0797C9.05676 14.1643 9.55405 14.5 10.7 14.5C11.0171 14.5 11.291 14.4677 11.5 14.4032V13.1572C11.3847 13.1766 11.2622 13.2024 11.1541 13.2024C10.6351 13.2024 10.3829 13.0281 10.1595 12.4664L8.02613 7.07586C7.21171 5.01646 6.54865 4.5 5.11441 4.5C4.83333 4.5 4.62432 4.53228 4.37207 4.59038V5.83635C4.56667 5.81052 4.66036 5.79761 4.77568 5.79761C5.64775 5.79761 5.9 6.0042 6.4045 7.19852L6.64234 7.77954L3.5 14.4354Z' fill='black'/><rect x='0.5' y='0.5' width='14' height='18' rx='2.5' stroke='black'/></svg>\");}ul a.file.gif::before,ul a.file.jpg::before,ul a.file.png::before,ul a.file.svg::before { content: url(\"data:image/svg+xml;utf8,<svg width='16' height='16' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg' fill='none' stroke='black' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'><rect x='6' y='6' width='68' height='68' rx='5' ry='5'/><circle cx='24' cy='24' r='8'/><path d='M73 49L59 34 37 52m16 20L27 42 7 58'/></svg>\");}::selection { background-color: #79FFE1; color: #000;}::-moz-selection { background-color: #79FFE1; color: #000;}@media (min-width: 768px) { ul {display: flex;flex-wrap: wrap; } ul li {width: 230px;padding-right: 20px; }}@media (min-width: 992px) { body {padding: 45px; } h1, header h1 a {font-size: 15px; } ul li {font-size: 13px;box-sizing: border-box;justify-content: flex-start; }}</style> </head> <body> <main> <header> <h1> <i>Index of&nbsp;</i> ",a=e.paths;if(a)for(var s=-1,o=a.length-1;s<o;)r+=' <a href="/'+n((l=a[s+=1]).url)+'">'+n(l.name)+"</a> ";r+=' </h1> </header> <ul id="files"> ';var c=e.files;if(c){s=-1;for(var l,u=c.length-1;s<u;)r+=' <li> <a href="'+n((l=c[s+=1]).relative)+'" title="'+n(l.title)+'" class="'+n(l.type)+" "+n(l.ext)+'">'+n(l.base)+"</a> </li> "}return r+" </ul></main> </body></html>"},S={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},E=/&(?!#?\w+;)|<|>|"|'|\//g,C=function(e){return e?e.toString().replace(E,(function(e){return S[e]||e})):""},(k=at).exports?k.exports=_:(window.render=window.render||{},window.render.directory=_)),at.exports);var k,S,E,_,C;const T=function(){return st||(st=1,t=function(e){return'<!DOCTYPE html><head> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/> <style> body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; } main, aside, section { display: flex; justify-content: center; align-items: center; flex-direction: column; } main { height: 100%; } aside { background: #000; flex-shrink: 1; padding: 30px 20px; } aside p { margin: 0; color: #999999; font-size: 14px; line-height: 24px; } aside a { color: #fff; text-decoration: none; } section span { font-size: 24px; font-weight: 500; display: block; border-bottom: 1px solid #EAEAEA; text-align: center; padding-bottom: 20px; width: 100px; } section p { font-size: 14px; font-weight: 400; } section span + p { margin: 20px 0 0 0; } @media (min-width: 768px) { section { height: 40px; flex-direction: row; } section span, section p { height: 100%; line-height: 40px; } section span { border-bottom: 0; border-right: 1px solid #EAEAEA; padding: 0 20px 0 0; width: auto; } section span + p { margin: 0; padding-left: 20px; } aside { padding: 50px 0; } aside p { max-width: 520px; text-align: center; } } </style></head><body> <main> <section> <span>'+e.statusCode+"</span> <p>"+e.message+"</p> </section> </main></body>"},(e=lt).exports?e.exports=t:(window.render=window.render||{},window.render.error=t)),lt.exports;var e,t}(),P=new Map,M=(e,i,n)=>{const r=[],a=p(e),s=t.posix.resolve(i);let o=null;if(n){const e=a.replace("*","(.*)");o=f(e,r).exec(s),o||(r.length=0)}return o||h(s,a)?{keys:r,results:o}:null},I=(e,t,i)=>{const n=M(e,i,!0);if(!n)return null;const{keys:r,results:a}=n,s={},{protocol:o}=u.parse(t),c=o?t:p(t),l=f.compile(c);for(let e=0;e<r.length;e++){const{name:t}=r[e];s[t]=a[e+1]}return l(s)},O=(e,t=[],i)=>{const n=t.slice(),r=i?e:null;if(0===n.length)return r;for(let i=0;i<n.length;i++){const{source:r,destination:a}=t[i],s=I(r,a,e);if(s)return n.splice(i,1),O(p(s),n,!0)}return r},A=e=>e.startsWith("/")?e:`/${e}`,L=(e,t)=>{for(let i=0;i<t.length;i++){const{key:n,value:r}=t[i];e[n]=r}},R=async(e,i,n,r,s)=>{const{headers:o=[],etag:c=!1}=i,l={},{base:u}=t.parse(r),d=t.relative(n,r);if(o.length>0)for(let e=0;e<o.length;e++){const{source:t,headers:i}=o[e];M(t,p(d))&&L(l,i)}let h={};if(s){if(h={"Content-Length":s.size,"Content-Disposition":y(u,{type:"inline"}),"Accept-Ranges":"bytes"},c){let[i,n]=P.get(r)||[];Number(i)!==Number(s.mtime)&&(n=await((e,i)=>new Promise(((n,r)=>{const s=a("sha1");s.update(t.extname(i)),s.update("-");const o=e.createReadStream(i);o.on("error",r),o.on("data",(e=>s.update(e))),o.on("end",(()=>{const e=s.digest("hex");n(e)}))})))(e,r),P.set(r,[s.mtime,n])),h.ETag=`"${n}"`}else h["Last-Modified"]=s.mtime.toUTCString();const i=m.contentType(u);i&&(h["Content-Type"]=i)}const f=Object.assign(h,l);for(const e in f)f.hasOwnProperty(e)&&null===f[e]&&delete f[e];return f},F=(e,t)=>{if("boolean"==typeof t)return t;if(Array.isArray(t)){for(let i=0;i<t.length;i++){const n=t[i];if(M(n,e))return!0}return!1}return!0},N=async(e,i,n,r)=>{const a=n?[n]:((e,i)=>[t.join(e,`index${i}`),e.endsWith("/")?e.replace(/\/$/g,i):e+i].filter((e=>t.basename(e)!==i)))(i,".html");let s=null;for(let i=0;i<a.length;i++){const n=a[i],o=t.join(e,n);try{s=await r(o)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)throw e}if(s)return{stats:s,absolutePath:o}}return null},D=(e,t)=>{const i=p(t);let n=!0;for(let t=0;t<e.length;t++){const r=e[t];if(M(r,i)){n=!1;break}}return n},j=async(e,i,n,r,a,s,o)=>{const{err:c,message:l,code:u,statusCode:d}=o;if(c&&"test"!==process.env.NODE_ENV&&console.error(c),i.statusCode=d,n)return i.setHeader("Content-Type","application/json; charset=utf-8"),void i.end(JSON.stringify({error:{code:u,message:l}}));let p=null;const h=t.join(r,`${d}.html`);try{p=await a.lstat(h)}catch(e){"ENOENT"!==e.code&&console.error(e)}if(p){let e=null;try{e=await a.createReadStream(h);const t=await R(a,s,r,h,p);return i.writeHead(d,t),void e.pipe(i)}catch(e){console.error(e)}}const f=await R(a,s,r,e,null);f["Content-Type"]="text/html; charset=utf-8",i.writeHead(d,f),i.end(T({statusCode:d,message:l}))},B=async(...e)=>{const t=e.length-1,i=e[t];return e[t]={statusCode:500,code:"internal_server_error",message:"A server error has occurred",err:i},j(...e)};return ot=async(i,n,r={},a={})=>{const d=process.cwd(),p=r.public?t.resolve(d,r.public):d,h=(t=>Object.assign({lstat:e(o),realpath:e(s),createReadStream:c,readdir:e(l),sendError:j},t))(a);let f=null,m=null;i.headers.accept&&(m=i.headers.accept.includes("application/json"));try{f=decodeURIComponent(u.parse(i.url).pathname)}catch(e){return j("/",n,m,p,h,r,{statusCode:400,code:"bad_request",message:"Bad Request"})}let g=t.join(p,f);if(!w(g,p))return j(g,n,m,p,h,r,{statusCode:400,code:"bad_request",message:"Bad Request"});const y=F(f,r.cleanUrls),k=((e,{redirects:i=[],trailingSlash:n},r)=>{const a="boolean"==typeof n,s=/(\.html|\/index)$/g;if(0===i.length&&!a&&!r)return null;if(r&&s.test(e))return(e=e.replace(s,"")).indexOf("//")>-1&&(e=e.replace(/\/+/g,"/")),{target:A(e),statusCode:301};if(a){const{ext:i,name:r}=t.parse(e),a=e.endsWith("/"),s=r.startsWith(".");let o=null;if(!n&&a?o=e.slice(0,-1):!n||a||i||s||(o=`${e}/`),e.indexOf("//")>-1&&(o=e.replace(/\/+/g,"/")),o)return{target:A(o),statusCode:301}}for(let t=0;t<i.length;t++){const{source:n,destination:r,type:a}=i[t],s=I(n,r,e);if(s)return{target:s,statusCode:a||301}}return null})(f,r,y);if(k)return n.writeHead(k.statusCode,{Location:encodeURI(k.target)}),void n.end();let S=null;if(""!==t.extname(f))try{S=await h.lstat(g)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return B(g,n,m,p,h,r,e)}const E=O(f,r.rewrites);if(!S&&(y||E))try{const e=await N(p,f,E,h.lstat);e&&({stats:S,absolutePath:g}=e)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return B(g,n,m,p,h,r,e)}if(!S)try{S=await h.lstat(g)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return B(g,n,m,p,h,r,e)}if(S&&S.isDirectory()){let e=null,i=null;try{const n=await(async(e,i,n,r,a,s)=>{const{directoryListing:o,trailingSlash:c,unlisted:l=[],renderSingle:u}=a,d="boolean"==typeof c?c?"/":"":"/",{relativePath:p,absolutePath:h}=s,f=[".DS_Store",".git",...l];if(!F(p,o)&&!u)return{};let m=await n.readdir(h);const g=u&&1===m.length;for(let e=0;e<m.length;e++){const i=m[e],a=t.resolve(h,i),s=t.parse(a);let o=null;if(o=r.lstat?await n.lstat(a,!0):await n.lstat(a),s.relative=t.join(p,s.base),o.isDirectory())s.base+=d,s.relative+=d,s.type="folder";else{if(g)return{singleFile:!0,absolutePath:a,stats:o};s.ext=s.ext.split(".")[1]||"txt",s.type="file",s.size=v(o.size,{unitSeparator:" ",decimalPlaces:0})}s.title=s.base,D(f,i)?m[e]=s:delete m[e]}const y=t.relative(e,h),w=t.join(t.basename(e),y,d),b=w.split(t.sep).filter(Boolean);if(m=m.sort(((e,t)=>{const i="directory"===e.type,n="directory"===t.type;return i&&!n?-1:n&&!i||e.base>t.base?1:e.base<t.base?-1:0})).filter(Boolean),y.length>0){const e=[...b].slice(1),i=t.join("/",...e,"..",d);m.unshift({type:"directory",base:"..",relative:i,title:i,ext:""})}const k=[];for(let e=0;e<b.length;e++){const t=[],i=e===b.length-1;let n=0;for(;n<=e;)t.push(b[n]),n++;t.shift(),k.push({name:b[e]+(i?d:"/"),url:0===e?"":t.join("/")+d})}const S={files:m,directory:w,paths:k};return{directory:i?JSON.stringify(S):x(S)}})(p,m,h,a,r,{relativePath:f,absolutePath:g});n.singleFile?({stats:S,absolutePath:g,singleFile:i}=n):({directory:e}=n)}catch(e){if("ENOENT"!==e.code)return B(g,n,m,p,h,r,e)}if(e){const t=m?"application/json; charset=utf-8":"text/html; charset=utf-8";return n.statusCode=200,n.setHeader("Content-Type",t),void n.end(e)}i||(S=null)}const _=S&&S.isSymbolicLink();if(!S||!r.symlinks&&_)return h.sendError(g,n,m,p,h,r,{statusCode:404,code:"not_found",message:"The requested path could not be found"});if(_){try{g=await h.realpath(g)}catch(e){if("ENOENT"!==e.code)throw e;return h.sendError(g,n,m,p,h,r,{statusCode:404,code:"not_found",message:"The requested path could not be found"})}S=await h.lstat(g)}const C={};if(i.headers.range&&S.size){const e=b(S.size,i.headers.range);if("object"==typeof e&&"bytes"===e.type){const{start:t,end:i}=e[0];C.start=t,C.end=i,n.statusCode=206}else n.statusCode=416,n.setHeader("Content-Range",`bytes */${S.size}`)}let T=null;try{T=await h.createReadStream(g,C)}catch(e){return B(g,n,m,p,h,r,e)}const P=await R(h,r,p,g,S);if(void 0!==C.start&&void 0!==C.end&&(P["Content-Range"]=`bytes ${C.start}-${C.end}/${S.size}`,P["Content-Length"]=C.end-C.start+1),null==i.headers.range&&P.ETag&&P.ETag===i.headers["if-none-match"])return n.statusCode=304,void n.end();n.writeHead(n.statusCode||200,P),T.pipe(n)},ot}(),dt=M(ut);const pt=(...e)=>{process.env.PRERENDER_SPA_ULTRA_DEBUG&&console.log(...e)};var ht=function(e,t){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ht(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function mt(e,t,i,n){return new(i||(i=Promise))((function(t,r){function a(e){try{o(n.next(e))}catch(e){r(e)}}function s(e){try{o(n.throw(e))}catch(e){r(e)}}function o(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}o((n=n.apply(e,[])).next())}))}function gt(e,t){var i,n,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(c){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function vt(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function wt(e,t,i){if(2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function bt(e){return this instanceof bt?(this.v=e,this):new bt(e)}function xt(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){r[e]&&(n[e]=function(t){return new Promise((function(i,n){a.push([e,t,i,n])>1||o(e,t)}))})}function o(e,t){try{(i=r[e](t)).value instanceof bt?Promise.resolve(i.value.v).then(c,l):u(a[0][2],i)}catch(e){u(a[0][3],e)}var i}function c(e){o("next",e)}function l(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function kt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=vt(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,r){(function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)})(n,r,(t=e[i](t)).done,t.value)}))}}}function St(e){return"function"==typeof e}function Et(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var _t=Et((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Ct(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Tt=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,i,n,r;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=vt(a),o=s.next();!o.done;o=s.next()){o.value.remove(this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(St(c))try{c()}catch(e){r=e instanceof _t?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=vt(l),d=u.next();!d.done;d=u.next()){var p=d.value;try{It(p)}catch(e){r=null!=r?r:[],e instanceof _t?r=wt(wt([],yt(r)),yt(e.errors)):r.push(e)}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}if(r)throw new _t(r)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)It(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Ct(t,e)},e.prototype.remove=function(t){var i=this._finalizers;i&&Ct(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Pt=Tt.EMPTY;function Mt(e){return e instanceof Tt||e&&"closed"in e&&St(e.remove)&&St(e.add)&&St(e.unsubscribe)}function It(e){St(e)?e():e.unsubscribe()}var Ot=void 0,At=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return setTimeout.apply(void 0,wt([e,t],yt(i)))};function Lt(e){At((function(){throw e}))}function Rt(){}function Ft(e){e()}var Nt=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,Mt(t)&&t.add(i)):i.destination=$t,i}return ft(t,e),t.create=function(e,t,i){return new jt(e,t,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Tt),Dt=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Bt(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Bt(e)}else Bt(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Bt(e)}},e}(),jt=function(e){function t(t,i,n){var r,a=e.call(this)||this;return r=St(t)||!t?{next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:t,a.destination=new Dt(r),a}return ft(t,e),t}(Nt);function Bt(e){Lt(e)}var $t={closed:!0,next:Rt,error:function(e){throw e},complete:Rt},qt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ut(e){return e}function zt(e){return 0===e.length?Ut:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Ht=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,r=this,a=(n=e)&&n instanceof Nt||function(e){return e&&St(e.next)&&St(e.error)&&St(e.complete)}(n)&&Mt(n)?e:new jt(e,t,i);return Ft((function(){var e=r,t=e.operator,i=e.source;a.add(t?t.call(a,i):i?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=Wt(t))((function(t,n){var r=new jt({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});i.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[qt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zt(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Wt(e))((function(e,i){var n;t.subscribe((function(e){return n=e}),(function(e){return i(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Wt(e){var t;return null!==(t=null!=e?e:Ot)&&void 0!==t?t:Promise}function Kt(e){return function(t){if(function(e){return St(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Gt(e,t,i,n,r){return new Vt(e,t,i,n,r)}var Vt=function(e){function t(t,i,n,r,a,s){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=s,o._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return ft(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Nt),Xt=Et((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Yt=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return ft(t,e),t.prototype.lift=function(e){var t=new Jt(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Xt},t.prototype.next=function(e){var t=this;Ft((function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=vt(t.currentObservers),a=r.next();!a.done;a=r.next()){a.value.next(e)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}}))},t.prototype.error=function(e){var t=this;Ft((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Ft((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this,n=i.hasError,r=i.isStopped,a=i.observers;return n||r?Pt:(this.currentObservers=null,a.push(e),new Tt((function(){t.currentObservers=null,Ct(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,i=t.hasError,n=t.thrownError,r=t.isStopped;i?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new Ht;return e.source=this,e},t.create=function(e,t){return new Jt(e,t)},t}(Ht),Jt=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return ft(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Pt},t}(Yt),Qt={now:function(){return(Qt.delegate||Date).now()},delegate:void 0},Zt=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=Qt);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=i,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=i===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,i),r}return ft(t,e),t.prototype.next=function(t){var i=this,n=i.isStopped,r=i._buffer,a=i._infiniteTimeWindow,s=i._timestampProvider,o=i._windowTime;n||(r.push(t),!a&&r.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=i?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,i=e._timestampProvider,n=e._buffer,r=e._infiniteTimeWindow,a=(r?1:2)*t;if(t<1/0&&a<n.length&&n.splice(0,n.length-a),!r){for(var s=i.now(),o=0,c=1;c<n.length&&n[c]<=s;c+=2)o=c;o&&n.splice(0,o+1)}},t}(Yt),ei=function(e){function t(t,i){return e.call(this)||this}return ft(t,e),t.prototype.schedule=function(e,t){return this},t}(Tt),ti=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return setInterval.apply(void 0,wt([e,t],yt(i)))},ii=function(e){return clearInterval(e)},ni=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return ft(t,e),t.prototype.schedule=function(e,t){var i;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),ti(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&ii(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ct(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ei),ri=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=Qt.now,e}(),ai=function(e){function t(t,i){void 0===i&&(i=ri.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return ft(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(ri),si=new ai(ni),oi=new Ht((function(e){return e.complete()}));function ci(e){return e[e.length-1]}function li(e){return(t=ci(e))&&St(t.schedule)?e.pop():void 0;var t}var ui=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function di(e){return St(null==e?void 0:e.then)}function pi(e){return St(e[qt])}function hi(e){return Symbol.asyncIterator&&St(null==e?void 0:e[Symbol.asyncIterator])}function fi(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var mi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function gi(e){return St(null==e?void 0:e[mi])}function vi(e){return xt(this,arguments,(function(){var t,i,n;return gt(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,bt(t.read())];case 3:return i=r.sent(),n=i.value,i.done?[4,bt(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,bt(n)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function yi(e){return St(null==e?void 0:e.getReader)}function wi(e){if(e instanceof Ht)return e;if(null!=e){if(pi(e))return r=e,new Ht((function(e){var t=r[qt]();if(St(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ui(e))return n=e,new Ht((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(di(e))return i=e,new Ht((function(e){i.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Lt)}));if(hi(e))return bi(e);if(gi(e))return t=e,new Ht((function(e){var i,n;try{for(var r=vt(t),a=r.next();!a.done;a=r.next()){var s=a.value;if(e.next(s),e.closed)return}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}e.complete()}));if(yi(e))return bi(vi(e))}var t,i,n,r;throw fi(e)}function bi(e){return new Ht((function(t){(function(e,t){var i,n,r,a;return mt(this,0,void 0,(function(){var s,o;return gt(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),i=kt(e),c.label=1;case 1:return[4,i.next()];case 2:if((n=c.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),r={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(a=i.return)?[4,a.call(i)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function xi(e,t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var a=t.schedule((function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(a),!r)return a}function ki(e,t){return void 0===t&&(t=0),Kt((function(i,n){i.subscribe(Gt(n,(function(i){return xi(n,e,(function(){return n.next(i)}),t)}),(function(){return xi(n,e,(function(){return n.complete()}),t)}),(function(i){return xi(n,e,(function(){return n.error(i)}),t)})))}))}function Si(e,t){return void 0===t&&(t=0),Kt((function(i,n){n.add(e.schedule((function(){return i.subscribe(n)}),t))}))}function Ei(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ht((function(i){xi(i,t,(function(){var n=e[Symbol.asyncIterator]();xi(i,t,(function(){n.next().then((function(e){e.done?i.complete():i.next(e.value)}))}),0,!0)}))}))}function _i(e,t){if(null!=e){if(pi(e))return function(e,t){return wi(e).pipe(Si(t),ki(t))}(e,t);if(ui(e))return function(e,t){return new Ht((function(i){var n=0;return t.schedule((function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())}))}))}(e,t);if(di(e))return function(e,t){return wi(e).pipe(Si(t),ki(t))}(e,t);if(hi(e))return Ei(e,t);if(gi(e))return function(e,t){return new Ht((function(i){var n;return xi(i,t,(function(){n=e[mi](),xi(i,t,(function(){var e,t,r;try{t=(e=n.next()).value,r=e.done}catch(e){return void i.error(e)}r?i.complete():i.next(t)}),0,!0)})),function(){return St(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(yi(e))return function(e,t){return Ei(vi(e),t)}(e,t)}throw fi(e)}function Ci(e,t){return t?_i(e,t):wi(e)}function Ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ci(e,li(e))}var Pi=Et((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Mi(e,t){return new Promise((function(t,i){var n=new jt({next:function(e){t(e),n.unsubscribe()},error:i,complete:function(){i(new Pi)}});e.subscribe(n)}))}function Ii(e,t){return Kt((function(i,n){var r=0;i.subscribe(Gt(n,(function(i){n.next(e.call(t,i,r++))})))}))}var Oi=Array.isArray;function Ai(e){return Ii((function(t){return function(e,t){return Oi(t)?e.apply(void 0,wt([],yt(t))):e(t)}(e,t)}))}var Li=Array.isArray,Ri=Object.getPrototypeOf,Fi=Object.prototype,Ni=Object.keys;function Di(e){if(1===e.length){var t=e[0];if(Li(t))return{args:t,keys:null};if((n=t)&&"object"==typeof n&&Ri(n)===Fi){var i=Ni(t);return{args:i.map((function(e){return t[e]})),keys:i}}}var n;return{args:e,keys:null}}function ji(e,t,i){e?xi(i,e,t):t()}function Bi(e,t,i,n,r,a,s,o){var c=[],l=0,u=0,d=!1,p=function(){!d||c.length||l||t.complete()},h=function(e){return l<n?f(e):c.push(e)},f=function(e){a&&t.next(e),l++;var o=!1;wi(i(e,u++)).subscribe(Gt(t,(function(e){null==r||r(e),a?h(e):t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{l--;for(;c.length&&l<n;)e=void 0,e=c.shift(),s||f(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(Gt(t,h,(function(){d=!0,p()}))),function(){null==o||o()}}function $i(e,t,i){return void 0===i&&(i=1/0),St(t)?$i((function(i,n){return Ii((function(e,r){return t(i,e,n,r)}))(wi(e(i,n)))}),i):("number"==typeof t&&(i=t),Kt((function(t,n){return Bi(t,n,e,i)})))}function qi(e){return void 0===e&&(e=1/0),$i(Ut,e)}function Ui(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qi(1)(Ci(e,li(e)))}function zi(e){return new Ht((function(t){wi(e()).subscribe(t)}))}var Hi=["addListener","removeListener"],Wi=["addEventListener","removeEventListener"],Ki=["on","off"];function Gi(e,t,i,n){if(St(i)&&(n=i,i=void 0),n)return Gi(e,t,i).pipe(Ai(n));var r=yt(function(e){return St(e.addEventListener)&&St(e.removeEventListener)}(e)?Wi.map((function(n){return function(r){return e[n](t,r,i)}})):function(e){return St(e.addListener)&&St(e.removeListener)}(e)?Hi.map(Vi(e,t)):function(e){return St(e.on)&&St(e.off)}(e)?Ki.map(Vi(e,t)):[],2),a=r[0],s=r[1];if(!a&&ui(e))return $i((function(e){return Gi(e,t,i)}))(wi(e));if(!a)throw new TypeError("Invalid event target");return new Ht((function(e){var t=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1<t.length?t:t[0])};return a(t),function(){return s(t)}}))}function Vi(e,t){return function(i){return function(n){return e[i](t,n)}}}function Xi(e,t,i){return void 0===e&&(e=0),void 0===i&&(i=si),new Ht((function(t){var n,r=(n=e)instanceof Date&&!isNaN(n)?+e-i.now():e;r<0&&(r=0);var a=0;return i.schedule((function(){t.closed||(t.next(a++),t.complete())}),r)}))}function Yi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=li(e),n=function(e,t){return"number"==typeof ci(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?wi(r[0]):qi(n)(Ci(r,i)):oi}var Ji=new Ht(Rt),Qi=Array.isArray;function Zi(e,t){return Kt((function(i,n){var r=0;i.subscribe(Gt(n,(function(i){return e.call(t,i,r++)&&n.next(i)})))}))}function en(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return 1===(t=1===(e=t).length&&Qi(e[0])?e[0]:e).length?wi(t[0]):new Ht(tn(t))}function tn(e){return function(t){for(var i=[],n=function(n){i.push(wi(e[n]).subscribe(Gt(t,(function(e){if(i){for(var r=0;r<i.length;r++)r!==n&&i[r].unsubscribe();i=null}t.next(e)}))))},r=0;i&&!t.closed&&r<e.length;r++)n(r)}}function nn(e){return Kt((function(t,i){var n,r=null,a=!1;r=t.subscribe(Gt(i,void 0,void 0,(function(s){n=wi(e(s,nn(e)(t))),r?(r.unsubscribe(),r=null,n.subscribe(i)):a=!0}))),a&&(r.unsubscribe(),r=null,n.subscribe(i))}))}function rn(e){return Kt((function(t,i){var n=!1;t.subscribe(Gt(i,(function(e){n=!0,i.next(e)}),(function(){n||i.next(e),i.complete()})))}))}function an(e){return e<=0?function(){return oi}:Kt((function(t,i){var n=0;t.subscribe(Gt(i,(function(t){++n<=e&&(i.next(t),e<=n&&i.complete())})))}))}function sn(){return Kt((function(e,t){e.subscribe(Gt(t,Rt))}))}function on(e){return void 0===e&&(e=cn),Kt((function(t,i){var n=!1;t.subscribe(Gt(i,(function(e){n=!0,i.next(e)}),(function(){return n?i.complete():i.error(e())})))}))}function cn(){return new Pi}function ln(e,t){var i=arguments.length>=2;return function(n){return n.pipe(e?Zi((function(t,i){return e(t,i,n)})):Ut,an(1),i?rn(t):on((function(){return new Pi})))}}function un(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Kt((function(t,i){tn(wt([t],yt(e)))(i)})):Ut}function dn(e){var t;void 0===e&&(e=1/0);var i=(t=e&&"object"==typeof e?e:{count:e}).count,n=void 0===i?1/0:i,r=t.delay,a=t.resetOnSuccess,s=void 0!==a&&a;return n<=0?Ut:Kt((function(e,t){var i,a=0,o=function(){var c=!1;i=e.subscribe(Gt(t,(function(e){s&&(a=0),t.next(e)}),void 0,(function(e){if(a++<n){var s=function(){i?(i.unsubscribe(),i=null,o()):c=!0};if(null!=r){var l="number"==typeof r?Xi(r):wi(r(e,a)),u=Gt(t,(function(){u.unsubscribe(),s()}),(function(){t.complete()}));l.subscribe(u)}else s()}else t.error(e)}))),c&&(i.unsubscribe(),i=null,o())};o()}))}function pn(e,t){return Kt((function(i,n){var r=null,a=0,s=!1,o=function(){return s&&!r&&n.complete()};i.subscribe(Gt(n,(function(i){null==r||r.unsubscribe();var s=0,c=a++;wi(e(i,c)).subscribe(r=Gt(n,(function(e){return n.next(t?t(i,e,c,s++):e)}),(function(){r=null,o()})))}),(function(){s=!0,o()})))}))}function hn(e){return Kt((function(t,i){wi(e).subscribe(Gt(i,(function(){return i.complete()}),Rt)),!i.closed&&t.subscribe(i)}))}function fn(e,t,i){var n=St(e)||t||i?{next:e,error:t,complete:i}:e;return n?Kt((function(e,t){var i;null===(i=n.subscribe)||void 0===i||i.call(n);var r=!0;e.subscribe(Gt(t,(function(e){var i;null===(i=n.next)||void 0===i||i.call(n,e),t.next(e)}),(function(){var e;r=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var i;r=!1,null===(i=n.error)||void 0===i||i.call(n,e),t.error(e)}),(function(){var e,t;r&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):Ut}Symbol.dispose??=Symbol("dispose"),Symbol.asyncDispose??=Symbol("asyncDispose");const mn=Symbol.dispose,gn=Symbol.asyncDispose;class vn{#e=!1;#t=[];get disposed(){return this.#e}dispose(){if(!this.#e){this.#e=!0;for(const e of this.#t.reverse())e[mn]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[mn](){t(e)}}),e}defer(e){this.#t.push({[mn](){e()}})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");const e=new vn;return e.#t=this.#t,this.#e=!0,e}[mn]=this.dispose;[Symbol.toStringTag]="DisposableStack"}class yn{#e=!1;#t=[];get disposed(){return this.#e}async dispose(){if(!this.#e){this.#e=!0;for(const e of this.#t.reverse())await e[gn]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[gn]:()=>t(e)}),e}defer(e){this.#t.push({[gn]:()=>e()})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");const e=new yn;return e.#t=this.#t,this.#e=!0,e}[gn]=this.dispose;[Symbol.toStringTag]="AsyncDisposableStack"}class wn{#i;#n=new Map;constructor(e=function(e){return{all:e=e||new Map,on:function(t,i){var n=e.get(t);n?n.push(i):e.set(t,[i])},off:function(t,i){var n=e.get(t);n&&(i?n.splice(n.indexOf(i)>>>0,1):e.set(t,[]))},emit:function(t,i){var n=e.get(t);n&&n.slice().map((function(e){e(i)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,i)}))}}}(new Map)){this.#i=e}on(e,t){const i=this.#n.get(e);return void 0===i?this.#n.set(e,[t]):i.push(t),this.#i.on(e,t),this}off(e,t){const i=this.#n.get(e)??[];if(void 0===t){for(const t of i)this.#i.off(e,t);return this.#n.delete(e),this}const n=i.lastIndexOf(t);return n>-1&&this.#i.off(e,...i.splice(n,1)),this}emit(e,t){return this.#i.emit(e,t),this.listenerCount(e)>0}once(e,t){const i=n=>{t(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.#n.get(e)?.length||0}removeAllListeners(e){return void 0!==e?this.off(e):(this[mn](),this)}[mn](){for(const[e,t]of this.#n)for(const i of t)this.#i.off(e,i);this.#n.clear()}}const bn=!("undefined"==typeof process||!process.version),xn={value:{get fs(){throw new Error("fs is not available in this environment")},get ScreenRecorder(){throw new Error("ScreenRecorder is not available in this environment")}}},kn="23.11.1",Sn=(e,t)=>{if(!e)throw new Error(t)};function En(e,t=!1){if(t){const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))}return(new TextEncoder).encode(e)}function _n(e){return Cn((new TextEncoder).encode(e))}function Cn(e){const t=[];for(let i=0;i<e.length;i+=65534){const n=e.subarray(i,i+65534);t.push(String.fromCodePoint.apply(null,n))}const i=t.join("");return btoa(i)}let Tn=null;const Pn=e=>bn?async(...t)=>{(await async function(){return Tn||(Tn=(await Promise.resolve().then((function(){return Bu}))).default),Tn}())(e)(t)}:(...t)=>{const i=globalThis.__PUPPETEER_DEBUG;if(!i)return;("*"===i||(i.endsWith("*")?e.startsWith(i):e===i))&&console.log(`${e}:`,...t)};class Mn extends Error{constructor(e,t){super(e,t),this.name=this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}let In=class extends Mn{};class On extends Mn{}class An extends Mn{#r;#a="";set code(e){this.#r=e}get code(){return this.#r}set originalMessage(e){this.#a=e}get originalMessage(){return this.#a}}class Ln extends Mn{}class Rn extends An{}const Fn={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1102,height:46.811},a1:{width:23.3858,height:33.1102},a2:{width:16.5354,height:23.3858},a3:{width:11.6929,height:16.5354},a4:{width:8.2677,height:11.6929},a5:{width:5.8268,height:8.2677},a6:{width:4.1339,height:5.8268}},Nn=Pn("puppeteer:error"),Dn=Object.freeze({width:800,height:600}),jn=Symbol("Source URL for Puppeteer evaluation scripts");class Bn{static INTERNAL_URL="pptr:internal";static fromCallSite(e,t){const i=new Bn;return i.#s=e,i.#o=t.toString(),i}static parse=e=>{e=e.slice(5);const[t="",i=""]=e.split(";"),n=new Bn;return n.#s=t,n.#o=decodeURIComponent(i),n};static isPuppeteerURL=e=>e.startsWith("pptr:");#s;#o;get functionName(){return this.#s}get siteString(){return this.#o}toString(){return`pptr:${[this.#s,encodeURIComponent(this.#o)].join(";")}`}}const $n=(e,t)=>{if(Object.prototype.hasOwnProperty.call(t,jn))return t;const i=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t[2];const n=(new Error).stack;return Error.prepareStackTrace=i,Object.assign(t,{[jn]:Bn.fromCallSite(e,n)})},qn=e=>{if(Object.prototype.hasOwnProperty.call(e,jn))return e[jn]},Un=e=>"string"==typeof e||e instanceof String;function zn(e,...t){if(Un(e))return Sn(0===t.length,"Cannot evaluate a string with arguments"),e;return`(${e})(${t.map((function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)})).join(",")})`}async function Hn(e,t){const i=[],n=e.getReader();if(t){const e=await xn.value.fs.promises.open(t,"w+");try{for(;;){const{done:t,value:r}=await n.read();if(t)break;i.push(r),await e.writeFile(r)}}finally{await e.close()}}else for(;;){const{done:e,value:t}=await n.read();if(e)break;i.push(t)}try{const e=function(e){let t=0;for(const i of e)t+=i.length;const i=new Uint8Array(t);let n=0;for(const t of e)i.set(t,n),n+=t.length;return i}(i);return 0===e.length?null:e}catch(e){return Nn(e),null}}async function Wn(e,t){return new ReadableStream({async pull(i){const{data:n,base64Encoded:r,eof:a}=await e.send("IO.read",{handle:t});i.enqueue(function(e,t){return t?Uint8Array.from(atob(e),(e=>e.codePointAt(0))):(new TextEncoder).encode(e)}(n,r??!1)),a&&(await e.send("IO.close",{handle:t}),i.close())}})}function Kn(e,t){return 0===e?Ji:Xi(e).pipe(Ii((()=>{throw new In(`Timed out after waiting ${e}ms`,{cause:t})})))}const Gn="__puppeteer_utility_world__"+kn,Vn=/^[\x20\t]*\/\/[@#] sourceURL=\s{0,10}(\S*?)\s{0,10}$/m;function Xn(e){return`//# sourceURL=${e}`}const Yn=500;function Jn(e={},t="in"){let i=8.5,n=11;if(e.format){const t=Fn[e.format.toLowerCase()];Sn(t,"Unknown paper format: "+e.format),i=t.width,n=t.height}else i=Zn(e.width,t)??i,n=Zn(e.height,t)??n;const r={top:Zn(e.margin?.top,t)||0,left:Zn(e.margin?.left,t)||0,bottom:Zn(e.margin?.bottom,t)||0,right:Zn(e.margin?.right,t)||0};return e.outline&&(e.tagged=!0),{scale:1,displayHeaderFooter:!1,headerTemplate:"",footerTemplate:"",printBackground:!1,landscape:!1,pageRanges:"",preferCSSPageSize:!1,omitBackground:!1,outline:!1,tagged:!0,waitForFonts:!0,...e,width:i,height:n,margin:r}}const Qn={px:1,in:96,cm:37.8,mm:3.78};function Zn(e,t="in"){if(void 0===e)return;let i;if("number"==typeof(n=e)||n instanceof Number)i=e;else{if(!Un(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const t=e;let n=t.substring(t.length-2).toLowerCase(),r="";n in Qn?r=t.substring(0,t.length-2):(n="px",r=t);const a=Number(r);Sn(!isNaN(a),"Failed to parse parameter value: "+t),i=a*Qn[n]}}var n;return i/Qn[t]}function er(e,t){return new Ht((i=>{const n=e=>{i.next(e)};return e.on(t,n),()=>{e.off(t,n)}}))}function tr(e,t){return e?Gi(e,"abort").pipe(Ii((()=>{if(e.reason instanceof Error)throw e.reason.cause=t,e.reason;throw new Error(e.reason,{cause:t})}))):Ji}function ir(e){return $i((t=>Ci(Promise.resolve(e(t))).pipe(Zi((e=>e)),Ii((()=>t)))))}const nr=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["clipboard-sanitized-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);let rr=class extends wn{constructor(){super()}async waitForTarget(e,t={}){const{timeout:i=3e4,signal:n}=t;return await Mi(Yi(er(this,"targetcreated"),er(this,"targetchanged"),Ci(this.targets())).pipe(ir(e),un(tr(n),Kn(i))))}async pages(){return(await Promise.all(this.browserContexts().map((e=>e.pages())))).reduce(((e,t)=>e.concat(t)),[])}async cookies(){return await this.defaultBrowserContext().cookies()}async setCookie(...e){return await this.defaultBrowserContext().setCookie(...e)}async deleteCookie(...e){return await this.defaultBrowserContext().deleteCookie(...e)}isConnected(){return this.connected}[mn](){this.process()?this.close().catch(Nn):this.disconnect().catch(Nn)}[gn](){return this.process()?this.close():this.disconnect()}};class ar{static create(e){return new ar(e)}static async race(e){const t=new Set;try{const i=e.map((e=>e instanceof ar?(e.#c&&t.add(e),e.valueOrThrow()):e));return await Promise.race(i)}finally{for(const e of t)e.reject(new Error("Timeout cleared"))}}#l=!1;#u=!1;#d;#p;#h=new Promise((e=>{this.#p=e}));#c;#f;constructor(e){e&&e.timeout>0&&(this.#f=new In(e.message),this.#c=setTimeout((()=>{this.reject(this.#f)}),e.timeout))}#m(e){clearTimeout(this.#c),this.#d=e,this.#p()}resolve(e){this.#u||this.#l||(this.#l=!0,this.#m(e))}reject(e){this.#u||this.#l||(this.#u=!0,this.#m(e))}resolved(){return this.#l}finished(){return this.#l||this.#u}value(){return this.#d}#g;valueOrThrow(){return this.#g||(this.#g=(async()=>{if(await this.#h,this.#u)throw this.#d;return this.#d})()),this.#g}}class sr{static Guard=class{#v;#y;constructor(e,t){this.#v=e,this.#y=t}[mn](){return this.#y?.(),this.#v.release()}};#w=!1;#b=[];async acquire(e){if(!this.#w)return this.#w=!0,new sr.Guard(this);const t=ar.create();return this.#b.push(t.resolve.bind(t)),await t.valueOrThrow(),new sr.Guard(this,e)}release(){const e=this.#b.shift();e?e():this.#w=!1}}class or extends wn{constructor(){super()}#x;#k=0;startScreenshot(){const e=this.#x||new sr;return this.#x=e,this.#k++,e.acquire((()=>{this.#k--,0===this.#k&&(this.#x=void 0)}))}waitForScreenshotOperations(){return this.#x?.acquire()}async waitForTarget(e,t={}){const{timeout:i=3e4}=t;return await Mi(Yi(er(this,"targetcreated"),er(this,"targetchanged"),Ci(this.targets())).pipe(ir(e),un(Kn(i))))}async deleteCookie(...e){return await this.setCookie(...e.map((e=>({...e,expires:1}))))}get closed(){return!this.browser().browserContexts().includes(this)}get id(){}[mn](){this.close().catch(Nn)}[gn](){return this.close()}}var cr;!function(e){e.Disconnected=Symbol("CDPSession.Disconnected"),e.Swapped=Symbol("CDPSession.Swapped"),e.Ready=Symbol("CDPSession.Ready"),e.SessionAttached="sessionattached",e.SessionDetached="sessiondetached"}(cr||(cr={}));class lr extends wn{constructor(){super()}parentSession(){}}class ur{#S;#E;#_;handled=!1;constructor(e,t,i=""){this.#S=e,this.#E=t,this.#_=i}type(){return this.#S}message(){return this.#E}defaultValue(){return this.#_}async accept(e){Sn(!this.handled,"Cannot accept dialog which is already handled!"),this.handled=!0,await this.handle({accept:!0,text:e})}async dismiss(){Sn(!this.handled,"Cannot dismiss dialog which is already handled!"),this.handled=!0,await this.handle({accept:!1})}}const dr=Symbol("_isElementHandle");function pr(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function hr(e,t,i){return e.message=t,e.originalMessage=i??e.originalMessage,e}function fr(e){let t=e.error.message;return e.error&&"object"==typeof e.error&&"data"in e.error&&(t+=` ${e.error.data}`),t}const mr=new Map;function gr(e){let t=e.toString();try{new Function(`(${t})`)}catch(e){if(e.message.includes("Refused to evaluate a string as JavaScript because 'unsafe-eval' is not an allowed source of script in the following Content Security Policy directive"))return t;let i="function ";t.startsWith("async ")&&(i=`async ${i}`,t=t.substring(6)),t=`${i}${t}`;try{new Function(`(${t})`)}catch{throw new Error("Passed function cannot be serialized!")}}return t}const vr=(e,t)=>{let i=gr(e);for(const[e,n]of Object.entries(t))i=i.replace(new RegExp(`PLACEHOLDER\\(\\s*(?:'${e}'|"${e}")\\s*\\)`,"g"),`(${n})`);return(e=>{let t=mr.get(e);return t||(t=new Function(`return ${e}`)(),mr.set(e,t),t)})(i)};var yr=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},wr=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});async function*br(e,t){const i={stack:[],error:void 0,hasError:!1};try{const n=yr(i,await e.evaluateHandle((async(e,t)=>{const i=[];for(;i.length<t;){const t=await e.next();if(t.done)break;i.push(t.value)}return i}),t),!1),r=await n.getProperties(),a=r.values();return yr(i,new vn,!1).defer((()=>{for(const e of a){const t={stack:[],error:void 0,hasError:!1};try{yr(t,e,!1)[mn]()}catch(e){t.error=e,t.hasError=!0}finally{wr(t)}}})),yield*a,0===r.size}catch(e){i.error=e,i.hasError=!0}finally{wr(i)}}async function*xr(e){const t={stack:[],error:void 0,hasError:!1};try{const i=yr(t,await e.evaluateHandle((e=>async function*(){yield*e}())),!1);yield*async function*(e){let t=20;for(;!(yield*br(e,t));)t<<=1}(i)}catch(e){t.error=e,t.hasError=!0}finally{wr(t)}}class kr{static create=e=>new kr(e);#C;constructor(e){this.#C=e}async get(e){return await this.#C(e)}}var Sr=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Er=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class _r{static querySelectorAll;static querySelector;static get _querySelector(){if(this.querySelector)return this.querySelector;if(!this.querySelectorAll)throw new Error("Cannot create default `querySelector`.");return this.querySelector=vr((async(e,t,i)=>{const n=PLACEHOLDER("querySelectorAll")(e,t,i);for await(const e of n)return e;return null}),{querySelectorAll:gr(this.querySelectorAll)})}static get _querySelectorAll(){if(this.querySelectorAll)return this.querySelectorAll;if(!this.querySelector)throw new Error("Cannot create default `querySelectorAll`.");return this.querySelectorAll=vr((async function*(e,t,i){const n=PLACEHOLDER("querySelector"),r=await n(e,t,i);r&&(yield r)}),{querySelector:gr(this.querySelector)})}static async*queryAll(e,t){const i={stack:[],error:void 0,hasError:!1};try{const n=Sr(i,await e.evaluateHandle(this._querySelectorAll,t,kr.create((e=>e.puppeteerUtil))),!1);yield*xr(n)}catch(e){i.error=e,i.hasError=!0}finally{Er(i)}}static async queryOne(e,t){const i={stack:[],error:void 0,hasError:!1};try{const n=Sr(i,await e.evaluateHandle(this._querySelector,t,kr.create((e=>e.puppeteerUtil))),!1);return dr in n?n.move():null}catch(e){i.error=e,i.hasError=!0}finally{Er(i)}}static async waitFor(e,t,i){const n={stack:[],error:void 0,hasError:!1};try{let r;const a=Sr(n,await(async()=>{if(dr in e)return r=e.frame,await r.isolatedRealm().adoptHandle(e);r=e})(),!1),{visible:s=!1,hidden:o=!1,timeout:c,signal:l}=i,u=s||o?"raf":i.polling;try{const e={stack:[],error:void 0,hasError:!1};try{l?.throwIfAborted();const i=Sr(e,await r.isolatedRealm().waitForFunction((async(e,t,i,n,r)=>{const a=e.createFunction(t),s=await a(n??document,i,e);return e.checkVisibility(s,r)}),{polling:u,root:a,timeout:c,signal:l},kr.create((e=>e.puppeteerUtil)),gr(this._querySelector),t,a,!!s||!o&&void 0),!1);if(l?.aborted)throw l.reason;return dr in i?await r.mainRealm().transferHandle(i):null}catch(t){e.error=t,e.hasError=!0}finally{Er(e)}}catch(e){if(!pr(e))throw e;if("AbortError"===e.name)throw e;throw e.message=`Waiting for selector \`${t}\` failed: ${e.message}`,e}}catch(e){n.error=e,n.hasError=!0}finally{Er(n)}}}class Cr{static async*map(e,t){for await(const i of e)yield await t(i)}static async*flatMap(e,t){for await(const i of e)yield*t(i)}static async collect(e){const t=[];for await(const i of e)t.push(i);return t}static async first(e){for await(const t of e)return t}}const Tr=/\[\s*(?<attribute>\w+)\s*=\s*(?<quote>"|')(?<value>\\.|.*?(?=\k<quote>))\k<quote>\s*\]/g;class Pr extends _r{static querySelector=async(e,t,{ariaQuerySelector:i})=>await i(e,t);static async*queryAll(e,t){const{name:i,role:n}=(e=>{if(e.length>1e4)throw new Error(`Selector ${e} is too long`);const t={},i=e.replace(Tr,((e,i,n,r)=>(Sn((e=>["name","role"].includes(e))(i),`Unknown aria attribute "${i}" in selector`),t[i]=r,"")));return i&&!t.name&&(t.name=i),t})(t);yield*e.queryAXTree(i,n)}static queryOne=async(e,t)=>await Cr.first(this.queryAll(e,t))??null}class Mr extends _r{static querySelector=(e,t,{cssQuerySelector:i})=>i(e,t);static querySelectorAll=(e,t,{cssQuerySelectorAll:i})=>i(e,t)}const Ir=new class{#T=!1;#P=new Set;append(e){this.#M((()=>{this.#P.add(e)}))}pop(e){this.#M((()=>{this.#P.delete(e)}))}inject(e,t=!1){(this.#T||t)&&e(this.#C()),this.#T=!1}#M(e){e(),this.#T=!0}#C(){return`(() => {\n      const module = {};\n      "use strict";var g=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var l=(t,e)=>{for(var r in e)g(t,r,{get:e[r],enumerable:!0})},J=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of B(e))!Y.call(t,n)&&n!==r&&g(t,n,{get:()=>e[n],enumerable:!(o=X(e,n))||o.enumerable});return t};var z=t=>J(g({},"__esModule",{value:!0}),t);var pe={};l(pe,{default:()=>he});module.exports=z(pe);var N=class extends Error{constructor(e,r){super(e,r),this.name=this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},p=class extends N{};var c=class t{static create(e){return new t(e)}static async race(e){let r=new Set;try{let o=e.map(n=>n instanceof t?(n.#n&&r.add(n),n.valueOrThrow()):n);return await Promise.race(o)}finally{for(let o of r)o.reject(new Error("Timeout cleared"))}}#e=!1;#r=!1;#o;#t;#a=new Promise(e=>{this.#t=e});#n;#i;constructor(e){e&&e.timeout>0&&(this.#i=new p(e.message),this.#n=setTimeout(()=>{this.reject(this.#i)},e.timeout))}#l(e){clearTimeout(this.#n),this.#o=e,this.#t()}resolve(e){this.#r||this.#e||(this.#e=!0,this.#l(e))}reject(e){this.#r||this.#e||(this.#r=!0,this.#l(e))}resolved(){return this.#e}finished(){return this.#e||this.#r}value(){return this.#o}#s;valueOrThrow(){return this.#s||(this.#s=(async()=>{if(await this.#a,this.#r)throw this.#o;return this.#o})()),this.#s}};var L=new Map,F=t=>{let e=L.get(t);return e||(e=new Function(\`return \${t}\`)(),L.set(t,e),e)};var x={};l(x,{ariaQuerySelector:()=>G,ariaQuerySelectorAll:()=>b});var G=(t,e)=>globalThis.__ariaQuerySelector(t,e),b=async function*(t,e){yield*await globalThis.__ariaQuerySelectorAll(t,e)};var E={};l(E,{cssQuerySelector:()=>K,cssQuerySelectorAll:()=>Z});var K=(t,e)=>t.querySelector(e),Z=function(t,e){return t.querySelectorAll(e)};var A={};l(A,{customQuerySelectors:()=>P});var v=class{#e=new Map;register(e,r){if(!r.queryOne&&r.queryAll){let o=r.queryAll;r.queryOne=(n,i)=>{for(let s of o(n,i))return s;return null}}else if(r.queryOne&&!r.queryAll){let o=r.queryOne;r.queryAll=(n,i)=>{let s=o(n,i);return s?[s]:[]}}else if(!r.queryOne||!r.queryAll)throw new Error("At least one query method must be defined.");this.#e.set(e,{querySelector:r.queryOne,querySelectorAll:r.queryAll})}unregister(e){this.#e.delete(e)}get(e){return this.#e.get(e)}clear(){this.#e.clear()}},P=new v;var R={};l(R,{pierceQuerySelector:()=>ee,pierceQuerySelectorAll:()=>te});var ee=(t,e)=>{let r=null,o=n=>{let i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&o(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==n&&!r&&s.matches(e)&&(r=s)}while(!r&&i.nextNode())};return t instanceof Document&&(t=t.documentElement),o(t),r},te=(t,e)=>{let r=[],o=n=>{let i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&o(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==n&&s.matches(e)&&r.push(s)}while(i.nextNode())};return t instanceof Document&&(t=t.documentElement),o(t),r};var u=(t,e)=>{if(!t)throw new Error(e)};var y=class{#e;#r;#o;#t;constructor(e,r){this.#e=e,this.#r=r}async start(){let e=this.#t=c.create(),r=await this.#e();if(r){e.resolve(r);return}this.#o=new MutationObserver(async()=>{let o=await this.#e();o&&(e.resolve(o),await this.stop())}),this.#o.observe(this.#r,{childList:!0,subtree:!0,attributes:!0})}async stop(){u(this.#t,"Polling never started."),this.#t.finished()||this.#t.reject(new Error("Polling stopped")),this.#o&&(this.#o.disconnect(),this.#o=void 0)}result(){return u(this.#t,"Polling never started."),this.#t.valueOrThrow()}},w=class{#e;#r;constructor(e){this.#e=e}async start(){let e=this.#r=c.create(),r=await this.#e();if(r){e.resolve(r);return}let o=async()=>{if(e.finished())return;let n=await this.#e();if(!n){window.requestAnimationFrame(o);return}e.resolve(n),await this.stop()};window.requestAnimationFrame(o)}async stop(){u(this.#r,"Polling never started."),this.#r.finished()||this.#r.reject(new Error("Polling stopped"))}result(){return u(this.#r,"Polling never started."),this.#r.valueOrThrow()}},S=class{#e;#r;#o;#t;constructor(e,r){this.#e=e,this.#r=r}async start(){let e=this.#t=c.create(),r=await this.#e();if(r){e.resolve(r);return}this.#o=setInterval(async()=>{let o=await this.#e();o&&(e.resolve(o),await this.stop())},this.#r)}async stop(){u(this.#t,"Polling never started."),this.#t.finished()||this.#t.reject(new Error("Polling stopped")),this.#o&&(clearInterval(this.#o),this.#o=void 0)}result(){return u(this.#t,"Polling never started."),this.#t.valueOrThrow()}};var _={};l(_,{PCombinator:()=>H,pQuerySelector:()=>fe,pQuerySelectorAll:()=>$});var a=class{static async*map(e,r){for await(let o of e)yield await r(o)}static async*flatMap(e,r){for await(let o of e)yield*r(o)}static async collect(e){let r=[];for await(let o of e)r.push(o);return r}static async first(e){for await(let r of e)return r}};var C={};l(C,{textQuerySelectorAll:()=>m});var re=new Set(["checkbox","image","radio"]),oe=t=>t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement&&!re.has(t.type),ne=new Set(["SCRIPT","STYLE"]),f=t=>!ne.has(t.nodeName)&&!document.head?.contains(t),I=new WeakMap,j=t=>{for(;t;)I.delete(t),t instanceof ShadowRoot?t=t.host:t=t.parentNode},W=new WeakSet,se=new MutationObserver(t=>{for(let e of t)j(e.target)}),d=t=>{let e=I.get(t);if(e||(e={full:"",immediate:[]},!f(t)))return e;let r="";if(oe(t))e.full=t.value,e.immediate.push(t.value),t.addEventListener("input",o=>{j(o.target)},{once:!0,capture:!0});else{for(let o=t.firstChild;o;o=o.nextSibling){if(o.nodeType===Node.TEXT_NODE){e.full+=o.nodeValue??"",r+=o.nodeValue??"";continue}r&&e.immediate.push(r),r="",o.nodeType===Node.ELEMENT_NODE&&(e.full+=d(o).full)}r&&e.immediate.push(r),t instanceof Element&&t.shadowRoot&&(e.full+=d(t.shadowRoot).full),W.has(t)||(se.observe(t,{childList:!0,characterData:!0,subtree:!0}),W.add(t))}return I.set(t,e),e};var m=function*(t,e){let r=!1;for(let o of t.childNodes)if(o instanceof Element&&f(o)){let n;o.shadowRoot?n=m(o.shadowRoot,e):n=m(o,e);for(let i of n)yield i,r=!0}r||t instanceof Element&&f(t)&&d(t).full.includes(e)&&(yield t)};var k={};l(k,{checkVisibility:()=>le,pierce:()=>T,pierceAll:()=>O});var ie=["hidden","collapse"],le=(t,e)=>{if(!t)return e===!1;if(e===void 0)return t;let r=t.nodeType===Node.TEXT_NODE?t.parentElement:t,o=window.getComputedStyle(r),n=o&&!ie.includes(o.visibility)&&!ae(r);return e===n?t:!1};function ae(t){let e=t.getBoundingClientRect();return e.width===0||e.height===0}var ce=t=>"shadowRoot"in t&&t.shadowRoot instanceof ShadowRoot;function*T(t){ce(t)?yield t.shadowRoot:yield t}function*O(t){t=T(t).next().value,yield t;let e=[document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT)];for(let r of e){let o;for(;o=r.nextNode();)o.shadowRoot&&(yield o.shadowRoot,e.push(document.createTreeWalker(o.shadowRoot,NodeFilter.SHOW_ELEMENT)))}}var Q={};l(Q,{xpathQuerySelectorAll:()=>q});var q=function*(t,e,r=-1){let n=(t.ownerDocument||document).evaluate(e,t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),i=[],s;for(;(s=n.iterateNext())&&(i.push(s),!(r&&i.length===r)););for(let h=0;h<i.length;h++)s=i[h],yield s,delete i[h]};var ue=/[-\\w\\P{ASCII}*]/u,H=(r=>(r.Descendent=">>>",r.Child=">>>>",r))(H||{}),V=t=>"querySelectorAll"in t,M=class{#e;#r=[];#o=void 0;elements;constructor(e,r){this.elements=[e],this.#e=r,this.#t()}async run(){if(typeof this.#o=="string")switch(this.#o.trimStart()){case":scope":this.#t();break}for(;this.#o!==void 0;this.#t()){let e=this.#o;typeof e=="string"?e[0]&&ue.test(e[0])?this.elements=a.flatMap(this.elements,async function*(r){V(r)&&(yield*r.querySelectorAll(e))}):this.elements=a.flatMap(this.elements,async function*(r){if(!r.parentElement){if(!V(r))return;yield*r.querySelectorAll(e);return}let o=0;for(let n of r.parentElement.children)if(++o,n===r)break;yield*r.parentElement.querySelectorAll(\`:scope>:nth-child(\${o})\${e}\`)}):this.elements=a.flatMap(this.elements,async function*(r){switch(e.name){case"text":yield*m(r,e.value);break;case"xpath":yield*q(r,e.value);break;case"aria":yield*b(r,e.value);break;default:let o=P.get(e.name);if(!o)throw new Error(\`Unknown selector type: \${e.name}\`);yield*o.querySelectorAll(r,e.value)}})}}#t(){if(this.#r.length!==0){this.#o=this.#r.shift();return}if(this.#e.length===0){this.#o=void 0;return}let e=this.#e.shift();switch(e){case">>>>":{this.elements=a.flatMap(this.elements,T),this.#t();break}case">>>":{this.elements=a.flatMap(this.elements,O),this.#t();break}default:this.#r=e,this.#t();break}}},D=class{#e=new WeakMap;calculate(e,r=[]){if(e===null)return r;e instanceof ShadowRoot&&(e=e.host);let o=this.#e.get(e);if(o)return[...o,...r];let n=0;for(let s=e.previousSibling;s;s=s.previousSibling)++n;let i=this.calculate(e.parentNode,[n]);return this.#e.set(e,i),[...i,...r]}},U=(t,e)=>{if(t.length+e.length===0)return 0;let[r=-1,...o]=t,[n=-1,...i]=e;return r===n?U(o,i):r<n?-1:1},de=async function*(t){let e=new Set;for await(let o of t)e.add(o);let r=new D;yield*[...e.values()].map(o=>[o,r.calculate(o)]).sort(([,o],[,n])=>U(o,n)).map(([o])=>o)},$=function(t,e){let r=JSON.parse(e);if(r.some(o=>{let n=0;return o.some(i=>(typeof i=="string"?++n:n=0,n>1))}))throw new Error("Multiple deep combinators found in sequence.");return de(a.flatMap(r,o=>{let n=new M(t,o);return n.run(),n.elements}))},fe=async function(t,e){for await(let r of $(t,e))return r;return null};var me=Object.freeze({...x,...A,...R,..._,...C,...k,...Q,...E,Deferred:c,createFunction:F,createTextContent:d,IntervalPoller:S,isSuitableNodeForTextMatching:f,MutationPoller:y,RAFPoller:w}),he=me;\n\n      ${[...this.#P].map((e=>`(${e})(module.exports.default);`)).join("")}\n      return module.exports.default;\n    })()`}};const Or=new class{#n=new Map;get(e){const t=this.#n.get(e);return t?t[1]:void 0}register(e,t){Sn(!this.#n.has(e),`Cannot register over existing handler: ${e}`),Sn(/^[a-zA-Z]+$/.test(e),"Custom query handler names may only contain [a-zA-Z]"),Sn(t.queryAll||t.queryOne,"At least one query method must be implemented.");const i=class extends _r{static querySelectorAll=vr(((e,t,i)=>i.customQuerySelectors.get(PLACEHOLDER("name")).querySelectorAll(e,t)),{name:JSON.stringify(e)});static querySelector=vr(((e,t,i)=>i.customQuerySelectors.get(PLACEHOLDER("name")).querySelector(e,t)),{name:JSON.stringify(e)})},n=vr((e=>{e.customQuerySelectors.register(PLACEHOLDER("name"),{queryAll:PLACEHOLDER("queryAll"),queryOne:PLACEHOLDER("queryOne")})}),{name:JSON.stringify(e),queryAll:t.queryAll?gr(t.queryAll):String(void 0),queryOne:t.queryOne?gr(t.queryOne):String(void 0)}).toString();this.#n.set(e,[n,i]),Ir.append(n)}unregister(e){const t=this.#n.get(e);if(!t)throw new Error(`Cannot unregister unknown handler: ${e}`);Ir.pop(t[0]),this.#n.delete(e)}names(){return[...this.#n.keys()]}clear(){for(const[e]of this.#n)Ir.pop(e);this.#n.clear()}};class Ar extends _r{static querySelectorAll=(e,t,{pQuerySelectorAll:i})=>i(e,t);static querySelector=(e,t,{pQuerySelector:i})=>i(e,t)}var Lr={attribute:/\[\s*(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)\s*(?:(?<operator>\W?=)\s*(?<value>.+?)\s*(\s(?<caseSensitive>[iIsS]))?\s*)?\]/gu,id:/#(?<name>[-\w\P{ASCII}]+)/gu,class:/\.(?<name>[-\w\P{ASCII}]+)/gu,comma:/\s*,\s*/g,combinator:/\s*[\s>+~]\s*/g,"pseudo-element":/::(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>*)\))?/gu,"pseudo-class":/:(?<name>[-\w\P{ASCII}]+)(?:\((?<argument>*)\))?/gu,universal:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?\*/gu,type:/(?:(?<namespace>\*|[-\w\P{ASCII}]*)\|)?(?<name>[-\w\P{ASCII}]+)/gu},Rr=new Set(["combinator","comma"]),Fr=e=>{switch(e){case"pseudo-element":case"pseudo-class":return new RegExp(Lr[e].source.replace("(?<argument>*)","(?<argument>.*)"),"gu");default:return Lr[e]}};function Nr(e,t){let i=0,n="";for(;t<e.length;t++){const r=e[t];switch(r){case"(":++i;break;case")":--i}if(n+=r,0===i)return n}return n}var Dr=/(['"])([^\\\n]+?)\1/g,jr=/\\./g;function Br(e,t=Lr){if(""===(e=e.trim()))return[];const i=[];e=(e=e.replace(jr,((e,t)=>(i.push({value:e,offset:t}),"".repeat(e.length))))).replace(Dr,((e,t,n,r)=>(i.push({value:e,offset:r}),`${t}${"".repeat(n.length)}${t}`)));{let t,n=0;for(;(t=e.indexOf("(",n))>-1;){const r=Nr(e,t);i.push({value:r,offset:t}),e=`${e.substring(0,t)}(${"".repeat(r.length-2)})${e.substring(t+r.length)}`,n=t+r.length}}const n=function(e,t=Lr){if(!e)return[];const i=[e];for(const[e,n]of Object.entries(t))for(let t=0;t<i.length;t++){const r=i[t];if("string"!=typeof r)continue;n.lastIndex=0;const a=n.exec(r);if(!a)continue;const s=a.index-1,o=[],c=a[0],l=r.slice(0,s+1);l&&o.push(l),o.push({...a.groups,type:e,content:c});const u=r.slice(s+c.length+1);u&&o.push(u),i.splice(t,1,...o)}let n=0;for(const e of i)switch(typeof e){case"string":throw new Error(`Unexpected sequence ${e} found at index ${n}`);case"object":n+=e.content.length,e.pos=[n-e.content.length,n],Rr.has(e.type)&&(e.content=e.content.trim()||" ")}return i}(e,t),r=new Set;for(const e of i.reverse())for(const t of n){const{offset:i,value:n}=e;if(!(t.pos[0]<=i&&i+n.length<=t.pos[1]))continue;const{content:a}=t,s=i-t.pos[0];t.content=a.slice(0,s)+n+a.slice(s+n.length),t.content!==a&&r.add(t)}for(const e of r){const t=Fr(e.type);if(!t)throw new Error(`Unknown token type: ${e.type}`);t.lastIndex=0;const i=t.exec(e.content);if(!i)throw new Error(`Unable to parse content for ${e.type}: ${e.content}`);Object.assign(e,i.groups)}return n}function $r(e){if(Array.isArray(e))return e.map((e=>e.content)).join("");switch(e.type){case"list":return e.list.map($r).join(",");case"relative":return e.combinator+$r(e.right);case"complex":return $r(e.left)+e.combinator+$r(e.right);case"compound":return e.list.map($r).join("");default:return e.content}}Lr.nesting=/&/g,Lr.combinator=/\s*(>>>>?|[\s>+~])\s*/g;const qr=/\\[\s\S]/g;const Ur={aria:Pr,pierce:class extends _r{static querySelector=(e,t,{pierceQuerySelector:i})=>i(e,t);static querySelectorAll=(e,t,{pierceQuerySelectorAll:i})=>i(e,t)},xpath:class extends _r{static querySelectorAll=(e,t,{xpathQuerySelectorAll:i})=>i(e,t);static querySelector=(e,t,{xpathQuerySelectorAll:i})=>{for(const n of i(e,t,1))return n;return null}},text:class extends _r{static querySelectorAll=(e,t,{textQuerySelectorAll:i})=>i(e,t)}},zr=["=","/"];function Hr(e){for(const t of[Or.names().map((e=>[e,Or.get(e)])),Object.entries(Ur)])for(const[i,n]of t)for(const t of zr){const r=`${i}${t}`;if(e.startsWith(r))return{updatedSelector:e=e.slice(r.length),polling:"aria"===i?"raf":"mutation",QueryHandler:n}}try{const[t,i,n,r]=function(e){let t=!0,i=!1,n=!1;const r=Br(e);if(0===r.length)return[[],t,n,!1];let a=[],s=[a];const o=[s],c=[];for(const e of r){switch(e.type){case"combinator":switch(e.content){case">>>":t=!1,c.length&&(a.push($r(c)),c.splice(0)),a=[],s.push(">>>"),s.push(a);continue;case">>>>":t=!1,c.length&&(a.push($r(c)),c.splice(0)),a=[],s.push(">>>>"),s.push(a);continue}break;case"pseudo-element":if(!e.name.startsWith("-p-"))break;t=!1,c.length&&(a.push($r(c)),c.splice(0));const r=e.name.slice(3);"aria"===r&&(i=!0),a.push({name:r,value:(l=e.argument??"",l.length<=1?l:('"'!==l[0]&&"'"!==l[0]||!l.endsWith(l[0])||(l=l.slice(1,-1)),l.replace(qr,(e=>e[1]))))});continue;case"pseudo-class":n=!0;break;case"comma":c.length&&(a.push($r(c)),c.splice(0)),a=[],s=[a],o.push(s);continue}c.push(e)}var l;return c.length&&a.push($r(c)),[o,t,n,i]}(e);return i?{updatedSelector:e,polling:n?"raf":"mutation",QueryHandler:Mr}:{updatedSelector:JSON.stringify(t),polling:r?"raf":"mutation",QueryHandler:Ar}}catch{return{updatedSelector:e,polling:"mutation",QueryHandler:Mr}}}var Wr=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Kr=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});const Gr=new WeakSet;function Vr(e,t){let i=!1;if(e.prototype[mn]){const t=e.prototype[mn];e.prototype[mn]=function(){if(!Gr.has(this))return t.call(this);Gr.delete(this)},i=!0}if(e.prototype[gn]){const t=e.prototype[gn];e.prototype[gn]=function(){if(!Gr.has(this))return t.call(this);Gr.delete(this)},i=!0}return i&&(e.prototype.move=function(){return Gr.add(this),this}),e}function Xr(e=e=>`Attempted to use disposed ${e.constructor.name}.`){return(t,i)=>function(...i){if(this.disposed)throw new Error(e(this));return t.call(this,...i)}}function Yr(e,t){const i=new WeakMap;let n=-1;return function(...t){if(-1===n&&(n=t.length),n!==t.length)throw new Error("Memoized method was called with the wrong number of arguments");let r=!1,a=i;for(const e of t)a.has(e)||(r=!0,a.set(e,new WeakMap)),a=a.get(e);if(r)return e.call(this,...t)}}function Jr(e=function(){return this}){return(t,i)=>{const n=new WeakMap;return async function(...i){const r={stack:[],error:void 0,hasError:!1};try{const a=e.call(this);let s=n.get(a);s||(s=new sr,n.set(a,s));Wr(r,await s.acquire(),!0);return await t.call(this,...i)}catch(e){r.error=e,r.hasError=!0}finally{const e=Kr(r);e&&await e}}}}const Qr=new WeakMap,Zr=function(e){const t=Qr.get(this)??new Map;if(t.has(e))return;const i=void 0!==e?(t,i)=>{e.includes(t)&&this.emit(t,i)}:(e,t)=>{this.emit(e,t)};t.set(e,i),Qr.set(this,t)};var ea=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},ta=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},ia=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},na=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});let ra=(()=>{let e,t,i,n,r=[Vr],a=[],s=[];return class{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;ta(this,null,i,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:e=>"getProperty"in e,get:e=>e.getProperty},metadata:o},null,s),ta(this,null,n,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:e=>"getProperties"in e,get:e=>e.getProperties},metadata:o},null,s),ta(null,e={value:t},r,{kind:"class",name:t.name,metadata:o},null,a),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),ea(t,a)}constructor(){ea(this,s)}async evaluate(e,...t){return e=$n(this.evaluate.name,e),await this.realm.evaluate(e,this,...t)}async evaluateHandle(e,...t){return e=$n(this.evaluateHandle.name,e),await this.realm.evaluateHandle(e,this,...t)}async getProperty(e){return await this.evaluateHandle(((e,t)=>e[t]),e)}async getProperties(){const e=await this.evaluate((e=>{const t=[],i=Object.getOwnPropertyDescriptors(e);for(const e in i)i[e]?.enumerable&&t.push(e);return t})),t=new Map,i=await Promise.all(e.map((e=>this.getProperty(e))));for(const[n,r]of Object.entries(e)){const e={stack:[],error:void 0,hasError:!1};try{const a=ia(e,i[n],!1);a&&t.set(r,a.move())}catch(t){e.error=t,e.hasError=!0}finally{na(e)}}return t}[(i=[Xr()],n=[Xr()],mn)](){this.dispose().catch(Nn)}[gn](){return this.dispose()}},t})();var aa=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},sa=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},oa=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},ca=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n}),la=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};function ua(e,t){return async function(...t){if(this.realm===this.frame.isolatedRealm())return await e.call(this,...t);let i;this.isolatedHandle?i=this.isolatedHandle:this.isolatedHandle=i=await this.frame.isolatedRealm().adoptHandle(this);const n=await e.call(i,...t);return n===i?this:n instanceof ra?await this.realm.transferHandle(n):(Array.isArray(n)&&await Promise.all(n.map((async(e,t,i)=>{e instanceof ra&&(i[t]=await this.realm.transferHandle(e))}))),n instanceof Map&&await Promise.all([...n.entries()].map((async([e,t])=>{t instanceof ra&&n.set(e,await this.realm.transferHandle(t))}))),n)}}let da=(()=>{let e,t,i,n,r,a,s,o,c,l,u,d,p,h,f,m,g,v,y,w,b,x,k,S,E,_,C,T,P,M,I,O,A=ra,L=[];return class R extends A{static{const R="function"==typeof Symbol&&Symbol.metadata?Object.create(A[Symbol.metadata]??null):void 0;e=[Xr(),ua],t=[Xr(),ua],i=[Xr(),ua],n=[Xr(),ua],r=[Xr()],a=[ua],o=[Xr(),ua],c=[Xr(),ua],l=[Xr(),ua],u=[Xr(),ua],d=[Xr(),ua],p=[Xr(),ua],h=[Xr(),ua],f=[Xr(),ua],m=[Xr(),ua],g=[Xr(),ua],v=[Xr(),ua],y=[Xr(),ua],w=[Xr(),ua],b=[Xr(),ua],x=[Xr(),ua],k=[Xr(),ua],S=[Xr(),ua],E=[Xr(),ua],_=[Xr(),ua],C=[Xr(),ua],T=[Xr(),ua],P=[Xr(),ua],M=[Xr(),ua],I=[Xr(),ua],O=[Xr(),ua],sa(this,null,e,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:e=>"getProperty"in e,get:e=>e.getProperty},metadata:R},null,L),sa(this,null,t,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:e=>"getProperties"in e,get:e=>e.getProperties},metadata:R},null,L),sa(this,null,i,{kind:"method",name:"jsonValue",static:!1,private:!1,access:{has:e=>"jsonValue"in e,get:e=>e.jsonValue},metadata:R},null,L),sa(this,null,n,{kind:"method",name:"$",static:!1,private:!1,access:{has:e=>"$"in e,get:e=>e.$},metadata:R},null,L),sa(this,null,r,{kind:"method",name:"$$",static:!1,private:!1,access:{has:e=>"$$"in e,get:e=>e.$$},metadata:R},null,L),sa(this,s={value:la((async function(e){return await this.#I(e)}),"#$$")},a,{kind:"method",name:"#$$",static:!1,private:!0,access:{has:e=>#O in e,get:e=>e.#O},metadata:R},null,L),sa(this,null,o,{kind:"method",name:"waitForSelector",static:!1,private:!1,access:{has:e=>"waitForSelector"in e,get:e=>e.waitForSelector},metadata:R},null,L),sa(this,null,c,{kind:"method",name:"isVisible",static:!1,private:!1,access:{has:e=>"isVisible"in e,get:e=>e.isVisible},metadata:R},null,L),sa(this,null,l,{kind:"method",name:"isHidden",static:!1,private:!1,access:{has:e=>"isHidden"in e,get:e=>e.isHidden},metadata:R},null,L),sa(this,null,u,{kind:"method",name:"toElement",static:!1,private:!1,access:{has:e=>"toElement"in e,get:e=>e.toElement},metadata:R},null,L),sa(this,null,d,{kind:"method",name:"clickablePoint",static:!1,private:!1,access:{has:e=>"clickablePoint"in e,get:e=>e.clickablePoint},metadata:R},null,L),sa(this,null,p,{kind:"method",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover},metadata:R},null,L),sa(this,null,h,{kind:"method",name:"click",static:!1,private:!1,access:{has:e=>"click"in e,get:e=>e.click},metadata:R},null,L),sa(this,null,f,{kind:"method",name:"drag",static:!1,private:!1,access:{has:e=>"drag"in e,get:e=>e.drag},metadata:R},null,L),sa(this,null,m,{kind:"method",name:"dragEnter",static:!1,private:!1,access:{has:e=>"dragEnter"in e,get:e=>e.dragEnter},metadata:R},null,L),sa(this,null,g,{kind:"method",name:"dragOver",static:!1,private:!1,access:{has:e=>"dragOver"in e,get:e=>e.dragOver},metadata:R},null,L),sa(this,null,v,{kind:"method",name:"drop",static:!1,private:!1,access:{has:e=>"drop"in e,get:e=>e.drop},metadata:R},null,L),sa(this,null,y,{kind:"method",name:"dragAndDrop",static:!1,private:!1,access:{has:e=>"dragAndDrop"in e,get:e=>e.dragAndDrop},metadata:R},null,L),sa(this,null,w,{kind:"method",name:"select",static:!1,private:!1,access:{has:e=>"select"in e,get:e=>e.select},metadata:R},null,L),sa(this,null,b,{kind:"method",name:"tap",static:!1,private:!1,access:{has:e=>"tap"in e,get:e=>e.tap},metadata:R},null,L),sa(this,null,x,{kind:"method",name:"touchStart",static:!1,private:!1,access:{has:e=>"touchStart"in e,get:e=>e.touchStart},metadata:R},null,L),sa(this,null,k,{kind:"method",name:"touchMove",static:!1,private:!1,access:{has:e=>"touchMove"in e,get:e=>e.touchMove},metadata:R},null,L),sa(this,null,S,{kind:"method",name:"touchEnd",static:!1,private:!1,access:{has:e=>"touchEnd"in e,get:e=>e.touchEnd},metadata:R},null,L),sa(this,null,E,{kind:"method",name:"focus",static:!1,private:!1,access:{has:e=>"focus"in e,get:e=>e.focus},metadata:R},null,L),sa(this,null,_,{kind:"method",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type},metadata:R},null,L),sa(this,null,C,{kind:"method",name:"press",static:!1,private:!1,access:{has:e=>"press"in e,get:e=>e.press},metadata:R},null,L),sa(this,null,T,{kind:"method",name:"boundingBox",static:!1,private:!1,access:{has:e=>"boundingBox"in e,get:e=>e.boundingBox},metadata:R},null,L),sa(this,null,P,{kind:"method",name:"boxModel",static:!1,private:!1,access:{has:e=>"boxModel"in e,get:e=>e.boxModel},metadata:R},null,L),sa(this,null,M,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:e=>"screenshot"in e,get:e=>e.screenshot},metadata:R},null,L),sa(this,null,I,{kind:"method",name:"isIntersectingViewport",static:!1,private:!1,access:{has:e=>"isIntersectingViewport"in e,get:e=>e.isIntersectingViewport},metadata:R},null,L),sa(this,null,O,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:e=>"scrollIntoView"in e,get:e=>e.scrollIntoView},metadata:R},null,L),R&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:R})}isolatedHandle=aa(this,L);handle;constructor(e){super(),this.handle=e,this[dr]=!0}get id(){return this.handle.id}get disposed(){return this.handle.disposed}async getProperty(e){return await this.handle.getProperty(e)}async getProperties(){return await this.handle.getProperties()}async evaluate(e,...t){return e=$n(this.evaluate.name,e),await this.handle.evaluate(e,...t)}async evaluateHandle(e,...t){return e=$n(this.evaluateHandle.name,e),await this.handle.evaluateHandle(e,...t)}async jsonValue(){return await this.handle.jsonValue()}toString(){return this.handle.toString()}remoteObject(){return this.handle.remoteObject()}dispose(){return this.handle.dispose()}asElement(){return this}async $(e){const{updatedSelector:t,QueryHandler:i}=Hr(e);return await i.queryOne(this,t)}async $$(e,t){return!1===t?.isolate?await this.#I(e):await this.#O(e)}get#O(){return s.value}async#I(e){const{updatedSelector:t,QueryHandler:i}=Hr(e);return await Cr.collect(i.queryAll(this,t))}async $eval(e,t,...i){const n={stack:[],error:void 0,hasError:!1};try{t=$n(this.$eval.name,t);const r=oa(n,await this.$(e),!1);if(!r)throw new Error(`Error: failed to find element matching selector "${e}"`);return await r.evaluate(t,...i)}catch(e){n.error=e,n.hasError=!0}finally{ca(n)}}async $$eval(e,t,...i){const n={stack:[],error:void 0,hasError:!1};try{t=$n(this.$$eval.name,t);const r=await this.$$(e),a=oa(n,await this.evaluateHandle(((e,...t)=>t),...r),!1),[s]=await Promise.all([a.evaluate(t,...i),...r.map((e=>e.dispose()))]);return s}catch(e){n.error=e,n.hasError=!0}finally{ca(n)}}async waitForSelector(e,t={}){const{updatedSelector:i,QueryHandler:n,polling:r}=Hr(e);return await n.waitFor(this,i,{polling:r,...t})}async#A(e){return await this.evaluate((async(e,t,i)=>Boolean(t.checkVisibility(e,i))),kr.create((e=>e.puppeteerUtil)),e)}async isVisible(){return await this.#A(!0)}async isHidden(){return await this.#A(!1)}async toElement(e){const t=await this.evaluate(((e,t)=>e.nodeName===t.toUpperCase()),e);if(!t)throw new Error(`Element is not a(n) \`${e}\` element`);return this}async clickablePoint(e){const t=await this.#L();if(!t)throw new Error("Node is either not clickable or not an Element");return void 0!==e?{x:t.x+e.x,y:t.y+e.y}:{x:t.x+t.width/2,y:t.y+t.height/2}}async hover(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().mouse.move(e,t)}async click(e={}){await this.scrollIntoViewIfNeeded();const{x:t,y:i}=await this.clickablePoint(e.offset);await this.frame.page().mouse.click(t,i,e)}async drag(e){await this.scrollIntoViewIfNeeded();const t=this.frame.page();if(t.isDragInterceptionEnabled()){const i=await this.clickablePoint();return e instanceof R&&(e=await e.clickablePoint()),await t.mouse.drag(i,e)}try{t._isDragging||(t._isDragging=!0,await this.hover(),await t.mouse.down()),e instanceof R?await e.hover():await t.mouse.move(e.x,e.y)}catch(e){throw t._isDragging=!1,e}}async dragEnter(e={items:[],dragOperationsMask:1}){const t=this.frame.page();await this.scrollIntoViewIfNeeded();const i=await this.clickablePoint();await t.mouse.dragEnter(i,e)}async dragOver(e={items:[],dragOperationsMask:1}){const t=this.frame.page();await this.scrollIntoViewIfNeeded();const i=await this.clickablePoint();await t.mouse.dragOver(i,e)}async drop(e={items:[],dragOperationsMask:1}){const t=this.frame.page();if("items"in e){await this.scrollIntoViewIfNeeded();const i=await this.clickablePoint();await t.mouse.drop(i,e)}else await e.drag(this),t._isDragging=!1,await t.mouse.up()}async dragAndDrop(e,t){const i=this.frame.page();Sn(i.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this.scrollIntoViewIfNeeded();const n=await this.clickablePoint(),r=await e.clickablePoint();await i.mouse.dragAndDrop(n,r,t)}async select(...e){for(const t of e)Sn(Un(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return await this.evaluate(((e,t)=>{const i=new Set(t);if(!(e instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");const n=new Set;if(e.multiple)for(const t of e.options)t.selected=i.has(t.value),t.selected&&n.add(t.value);else{for(const t of e.options)t.selected=!1;for(const t of e.options)if(i.has(t.value)){t.selected=!0,n.add(t.value);break}}return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),[...n.values()]}),e)}async tap(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this.frame.page().touchscreen.tap(e,t)}async touchStart(){await this.scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();return await this.frame.page().touchscreen.touchStart(e,t)}async touchMove(e){await this.scrollIntoViewIfNeeded();const{x:t,y:i}=await this.clickablePoint();if(e)return await e.move(t,i);await this.frame.page().touchscreen.touchMove(t,i)}async touchEnd(){await this.scrollIntoViewIfNeeded(),await this.frame.page().touchscreen.touchEnd()}async focus(){await this.evaluate((e=>{if(!(e instanceof HTMLElement))throw new Error("Cannot focus non-HTMLElement");return e.focus()}))}async type(e,t){await this.focus(),await this.frame.page().keyboard.type(e,t)}async press(e,t){await this.focus(),await this.frame.page().keyboard.press(e,t)}async#L(){const e=await this.evaluate((e=>e instanceof Element?[...e.getClientRects()].map((e=>({x:e.x,y:e.y,width:e.width,height:e.height}))):null));if(!e?.length)return null;await this.#R(e);let t,i=this.frame;for(;t=i?.parentFrame();){const n={stack:[],error:void 0,hasError:!1};try{const r=oa(n,await i.frameElement(),!1);if(!r)throw new Error("Unsupported frame type");const a=await r.evaluate((e=>{if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),i=window.getComputedStyle(e);return{left:t.left+parseInt(i.paddingLeft,10)+parseInt(i.borderLeftWidth,10),top:t.top+parseInt(i.paddingTop,10)+parseInt(i.borderTopWidth,10)}}));if(!a)return null;for(const t of e)t.x+=a.left,t.y+=a.top;await r.#R(e),i=t}catch(e){n.error=e,n.hasError=!0}finally{ca(n)}}const n=e.find((e=>e.width>=1&&e.height>=1));return n?{x:n.x,y:n.y,height:n.height,width:n.width}:null}async#R(e){const{documentWidth:t,documentHeight:i}=await this.frame.isolatedRealm().evaluate((()=>({documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight})));for(const n of e)pa(n,t,i)}async boundingBox(){const e=await this.evaluate((e=>{if(!(e instanceof Element))return null;if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height}}));if(!e)return null;const t=await this.#F();return t?{x:e.x+t.x,y:e.y+t.y,height:e.height,width:e.width}:null}async boxModel(){const e=await this.evaluate((e=>{if(!(e instanceof Element))return null;if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),i=window.getComputedStyle(e),n={padding:{left:parseInt(i.paddingLeft,10),top:parseInt(i.paddingTop,10),right:parseInt(i.paddingRight,10),bottom:parseInt(i.paddingBottom,10)},margin:{left:-parseInt(i.marginLeft,10),top:-parseInt(i.marginTop,10),right:-parseInt(i.marginRight,10),bottom:-parseInt(i.marginBottom,10)},border:{left:parseInt(i.borderLeft,10),top:parseInt(i.borderTop,10),right:parseInt(i.borderRight,10),bottom:parseInt(i.borderBottom,10)}},r=[{x:t.left,y:t.top},{x:t.left+t.width,y:t.top},{x:t.left+t.width,y:t.top+t.height},{x:t.left,y:t.top+t.height}],a=s(r,n.border);return{content:s(a,n.padding),padding:a,border:r,margin:s(r,n.margin),width:t.width,height:t.height};function s(e,t){return[{x:e[0].x+t.left,y:e[0].y+t.top},{x:e[1].x-t.right,y:e[1].y+t.top},{x:e[2].x-t.right,y:e[2].y-t.bottom},{x:e[3].x+t.left,y:e[3].y-t.bottom}]}}));if(!e)return null;const t=await this.#F();if(!t)return null;for(const i of["content","padding","border","margin"])for(const n of e[i])n.x+=t.x,n.y+=t.y;return e}async#F(){const e={x:0,y:0};let t,i=this.frame;for(;t=i?.parentFrame();){const n={stack:[],error:void 0,hasError:!1};try{const r=oa(n,await i.frameElement(),!1);if(!r)throw new Error("Unsupported frame type");const a=await r.evaluate((e=>{if(0===e.getClientRects().length)return null;const t=e.getBoundingClientRect(),i=window.getComputedStyle(e);return{left:t.left+parseInt(i.paddingLeft,10)+parseInt(i.borderLeftWidth,10),top:t.top+parseInt(i.paddingTop,10)+parseInt(i.borderTopWidth,10)}}));if(!a)return null;e.x+=a.left,e.y+=a.top,i=t}catch(e){n.error=e,n.hasError=!0}finally{ca(n)}}return e}async screenshot(e={}){const{scrollIntoView:t=!0,clip:i}=e,n=this.frame.page();t&&await this.scrollIntoViewIfNeeded();const r=await this.#N(),[a,s]=await this.evaluate((()=>{if(!window.visualViewport)throw new Error("window.visualViewport is not supported.");return[window.visualViewport.pageLeft,window.visualViewport.pageTop]}));return r.x+=a,r.y+=s,i&&(r.x+=i.x,r.y+=i.y,r.height=i.height,r.width=i.width),await n.screenshot({...e,clip:r})}async#N(){const e=await this.boundingBox();return Sn(e,"Node is either not visible or not an HTMLElement"),Sn(0!==e.width,"Node has 0 width."),Sn(0!==e.height,"Node has 0 height."),e}async assertConnectedElement(){const e=await this.evaluate((async e=>e.isConnected?e.nodeType!==Node.ELEMENT_NODE?"Node is not of type HTMLElement":void 0:"Node is detached from document"));if(e)throw new Error(e)}async scrollIntoViewIfNeeded(){await this.isIntersectingViewport({threshold:1})||await this.scrollIntoView()}async isIntersectingViewport(e={}){const t={stack:[],error:void 0,hasError:!1};try{await this.assertConnectedElement();const i=await this.#D(),n=oa(t,i&&await i.#j(),!1);return await(n??this).evaluate((async(e,t)=>{const i=await new Promise((t=>{const i=new IntersectionObserver((e=>{t(e[0].intersectionRatio),i.disconnect()}));i.observe(e)}));return 1===t?1===i:i>t}),e.threshold??0)}catch(e){t.error=e,t.hasError=!0}finally{ca(t)}}async scrollIntoView(){await this.assertConnectedElement(),await this.evaluate((async e=>{e.scrollIntoView({block:"center",inline:"center",behavior:"instant"})}))}async#D(){return await this.evaluate((e=>e instanceof SVGElement))?this:null}async#j(){return await this.evaluateHandle((e=>e instanceof SVGSVGElement?e:e.ownerSVGElement))}}})();function pa(e,t,i){e.width=Math.max(e.x>=0?Math.min(t-e.x,e.width):Math.min(t,e.width+e.x),0),e.height=Math.max(e.y>=0?Math.min(i-e.y,e.height):Math.min(i,e.height+e.y),0)}var ha,fa=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},ma=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});!function(e){e.Action="action"}(ha||(ha={}));class ga extends wn{static race(e){return ka.create(e)}visibility=null;_timeout=3e4;#B=!0;#$=!0;#q=!0;operators={conditions:(e,t)=>$i((i=>Yi(...e.map((e=>e(i,t)))).pipe(rn(i)))),retryAndRaceWithSignalAndTimer:(e,t)=>{const i=[];return e&&i.push(tr(e,t)),i.push(Kn(this._timeout,t)),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zt(e)}(dn({delay:Sa}),un(...i))}};get timeout(){return this._timeout}setTimeout(e){const t=this._clone();return t._timeout=e,t}setVisibility(e){const t=this._clone();return t.visibility=e,t}setWaitForEnabled(e){const t=this._clone();return t.#$=e,t}setEnsureElementIsInTheViewport(e){const t=this._clone();return t.#B=e,t}setWaitForStableBoundingBox(e){const t=this._clone();return t.#q=e,t}copyOptions(e){return this._timeout=e._timeout,this.visibility=e.visibility,this.#$=e.#$,this.#B=e.#B,this.#q=e.#q,this}#U=(e,t)=>this.#$?Ci(e.frame.waitForFunction((e=>{if(!(e instanceof HTMLElement))return!0;return!["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(e.nodeName)||!e.hasAttribute("disabled")}),{timeout:this._timeout,signal:t},e)).pipe(sn()):oi;#z=e=>this.#q?zi((()=>Ci(e.evaluate((e=>new Promise((t=>{window.requestAnimationFrame((()=>{const i=e.getBoundingClientRect();window.requestAnimationFrame((()=>{const n=e.getBoundingClientRect();t([{x:i.x,y:i.y,width:i.width,height:i.height},{x:n.x,y:n.y,width:n.width,height:n.height}])}))}))}))))))).pipe(ln((([e,t])=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height)),dn({delay:Sa}),sn()):oi;#H=e=>this.#B?Ci(e.isIntersectingViewport({threshold:0})).pipe(Zi((e=>!e)),$i((()=>Ci(e.scrollIntoView()))),$i((()=>zi((()=>Ci(e.isIntersectingViewport({threshold:0})))).pipe(ln(Ut),dn({delay:Sa}),sn())))):oi;#W(e){const t=e?.signal,i=new Error("Locator.click");return this._wait(e).pipe(this.operators.conditions([this.#H,this.#z,this.#U],t),fn((()=>this.emit(ha.Action,void 0))),$i((t=>Ci(t.click(e)).pipe(nn((e=>{throw t.dispose().catch(Nn),e}))))),this.operators.retryAndRaceWithSignalAndTimer(t,i))}#K(e,t){const i=t?.signal,n=new Error("Locator.fill");return this._wait(t).pipe(this.operators.conditions([this.#H,this.#z,this.#U],i),fn((()=>this.emit(ha.Action,void 0))),$i((t=>Ci(t.evaluate((e=>e instanceof HTMLSelectElement?"select":e instanceof HTMLTextAreaElement?"typeable-input":e instanceof HTMLInputElement?new Set(["textarea","text","url","tel","search","password","number","email"]).has(e.type)?"typeable-input":"other-input":e.isContentEditable?"contenteditable":"unknown"))).pipe($i((i=>{switch(i){case"select":return Ci(t.select(e).then(Rt));case"contenteditable":case"typeable-input":return Ci(t.evaluate(((e,t)=>{const i=e.isContentEditable?e.innerText:e.value;if(t.length<=i.length||!t.startsWith(e.value))return e.isContentEditable?e.innerText="":e.value="",t;const n=e.isContentEditable?e.innerText:e.value;return e.isContentEditable?(e.innerText="",e.innerText=n):(e.value="",e.value=n),t.substring(n.length)}),e)).pipe($i((e=>Ci(t.type(e)))));case"other-input":return Ci(t.focus()).pipe($i((()=>Ci(t.evaluate(((e,t)=>{e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}),e)))));case"unknown":throw new Error("Element cannot be filled out.")}}))).pipe(nn((e=>{throw t.dispose().catch(Nn),e}))))),this.operators.retryAndRaceWithSignalAndTimer(i,n))}#G(e){const t=e?.signal,i=new Error("Locator.hover");return this._wait(e).pipe(this.operators.conditions([this.#H,this.#z],t),fn((()=>this.emit(ha.Action,void 0))),$i((e=>Ci(e.hover()).pipe(nn((t=>{throw e.dispose().catch(Nn),t}))))),this.operators.retryAndRaceWithSignalAndTimer(t,i))}#V(e){const t=e?.signal,i=new Error("Locator.scroll");return this._wait(e).pipe(this.operators.conditions([this.#H,this.#z],t),fn((()=>this.emit(ha.Action,void 0))),$i((t=>Ci(t.evaluate(((e,t,i)=>{void 0!==t&&(e.scrollTop=t),void 0!==i&&(e.scrollLeft=i)}),e?.scrollTop,e?.scrollLeft)).pipe(nn((e=>{throw t.dispose().catch(Nn),e}))))),this.operators.retryAndRaceWithSignalAndTimer(t,i))}clone(){return this._clone()}async waitHandle(e){const t=new Error("Locator.waitHandle");return await Mi(this._wait(e).pipe(this.operators.retryAndRaceWithSignalAndTimer(e?.signal,t)))}async wait(e){const t={stack:[],error:void 0,hasError:!1};try{const i=fa(t,await this.waitHandle(e),!1);return await i.jsonValue()}catch(e){t.error=e,t.hasError=!0}finally{ma(t)}}map(e){return new ba(this._clone(),(t=>t.evaluateHandle(e)))}filter(e){return new wa(this._clone(),(async(t,i)=>(await t.frame.waitForFunction(e,{signal:i,timeout:this._timeout},t),!0)))}filterHandle(e){return new wa(this._clone(),e)}mapHandle(e){return new ba(this._clone(),e)}click(e){return Mi(this.#W(e))}fill(e,t){return Mi(this.#K(e,t))}hover(e){return Mi(this.#G(e))}scroll(e){return Mi(this.#V(e))}}class va extends ga{static create(e,t){return new va(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#X;#Y;constructor(e,t){super(),this.#X=e,this.#Y=t}_clone(){return new va(this.#X,this.#Y)}_wait(e){const t=e?.signal;return zi((()=>Ci(this.#X.waitForFunction(this.#Y,{timeout:this.timeout,signal:t})))).pipe(on())}}class ya extends ga{#J;constructor(e){super(),this.#J=e,this.copyOptions(this.#J)}get delegate(){return this.#J}setTimeout(e){const t=super.setTimeout(e);return t.#J=this.#J.setTimeout(e),t}setVisibility(e){const t=super.setVisibility(e);return t.#J=t.#J.setVisibility(e),t}setWaitForEnabled(e){const t=super.setWaitForEnabled(e);return t.#J=this.#J.setWaitForEnabled(e),t}setEnsureElementIsInTheViewport(e){const t=super.setEnsureElementIsInTheViewport(e);return t.#J=this.#J.setEnsureElementIsInTheViewport(e),t}setWaitForStableBoundingBox(e){const t=super.setWaitForStableBoundingBox(e);return t.#J=this.#J.setWaitForStableBoundingBox(e),t}}class wa extends ya{#Q;constructor(e,t){super(e),this.#Q=t}_clone(){return new wa(this.delegate.clone(),this.#Q).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe($i((t=>Ci(Promise.resolve(this.#Q(t,e?.signal))).pipe(Zi((e=>e)),Ii((()=>t))))),on())}}class ba extends ya{#Z;constructor(e,t){super(e),this.#Z=t}_clone(){return new ba(this.delegate.clone(),this.#Z).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe($i((t=>Ci(Promise.resolve(this.#Z(t,e?.signal))))))}}class xa extends ga{static create(e,t){return new xa(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#X;#ee;constructor(e,t){super(),this.#X=e,this.#ee=t}#te=e=>this.visibility?(()=>{switch(this.visibility){case"hidden":return zi((()=>Ci(e.isHidden())));case"visible":return zi((()=>Ci(e.isVisible())))}})().pipe(ln(Ut),dn({delay:Sa}),sn()):oi;_clone(){return new xa(this.#X,this.#ee).copyOptions(this)}_wait(e){const t=e?.signal;return zi((()=>Ci(this.#X.waitForSelector(this.#ee,{visible:!1,timeout:this._timeout,signal:t})))).pipe(Zi((e=>null!==e)),on(),this.operators.conditions([this.#te],t))}}class ka extends ga{static create(e){const t=function(e){for(const t of e)if(!(t instanceof ga))throw new Error("Unknown locator for race candidate");return e}(e);return new ka(t)}#ie;constructor(e){super(),this.#ie=e}_clone(){return new ka(this.#ie.map((e=>e.clone()))).copyOptions(this)}_wait(e){return en(...this.#ie.map((t=>t._wait(e))))}}const Sa=100;var Ea,_a=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},Ca=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},Ta=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Pa=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});!function(e){e.FrameNavigated=Symbol("Frame.FrameNavigated"),e.FrameSwapped=Symbol("Frame.FrameSwapped"),e.LifecycleEvent=Symbol("Frame.LifecycleEvent"),e.FrameNavigatedWithinDocument=Symbol("Frame.FrameNavigatedWithinDocument"),e.FrameDetached=Symbol("Frame.FrameDetached"),e.FrameSwappedByActivation=Symbol("Frame.FrameSwappedByActivation")}(Ea||(Ea={}));const Ma=Xr((e=>`Attempted to use detached Frame '${e._id}'.`));let Ia=(()=>{let e,t,i,n,r,a,s,o,c,l,u,d,p,h,f,m,g,v,y,w,b=wn,x=[];return class extends b{static{const k="function"==typeof Symbol&&Symbol.metadata?Object.create(b[Symbol.metadata]??null):void 0;e=[Ma],t=[Ma],i=[Ma],n=[Ma],r=[Ma],a=[Ma],s=[Ma],o=[Ma],c=[Ma],l=[Ma],u=[Ma],d=[Ma],p=[Ma],h=[Ma],f=[Ma],m=[Ma],g=[Ma],v=[Ma],y=[Ma],w=[Ma],Ca(this,null,e,{kind:"method",name:"frameElement",static:!1,private:!1,access:{has:e=>"frameElement"in e,get:e=>e.frameElement},metadata:k},null,x),Ca(this,null,t,{kind:"method",name:"evaluateHandle",static:!1,private:!1,access:{has:e=>"evaluateHandle"in e,get:e=>e.evaluateHandle},metadata:k},null,x),Ca(this,null,i,{kind:"method",name:"evaluate",static:!1,private:!1,access:{has:e=>"evaluate"in e,get:e=>e.evaluate},metadata:k},null,x),Ca(this,null,n,{kind:"method",name:"locator",static:!1,private:!1,access:{has:e=>"locator"in e,get:e=>e.locator},metadata:k},null,x),Ca(this,null,r,{kind:"method",name:"$",static:!1,private:!1,access:{has:e=>"$"in e,get:e=>e.$},metadata:k},null,x),Ca(this,null,a,{kind:"method",name:"$$",static:!1,private:!1,access:{has:e=>"$$"in e,get:e=>e.$$},metadata:k},null,x),Ca(this,null,s,{kind:"method",name:"$eval",static:!1,private:!1,access:{has:e=>"$eval"in e,get:e=>e.$eval},metadata:k},null,x),Ca(this,null,o,{kind:"method",name:"$$eval",static:!1,private:!1,access:{has:e=>"$$eval"in e,get:e=>e.$$eval},metadata:k},null,x),Ca(this,null,c,{kind:"method",name:"waitForSelector",static:!1,private:!1,access:{has:e=>"waitForSelector"in e,get:e=>e.waitForSelector},metadata:k},null,x),Ca(this,null,l,{kind:"method",name:"waitForFunction",static:!1,private:!1,access:{has:e=>"waitForFunction"in e,get:e=>e.waitForFunction},metadata:k},null,x),Ca(this,null,u,{kind:"method",name:"content",static:!1,private:!1,access:{has:e=>"content"in e,get:e=>e.content},metadata:k},null,x),Ca(this,null,d,{kind:"method",name:"addScriptTag",static:!1,private:!1,access:{has:e=>"addScriptTag"in e,get:e=>e.addScriptTag},metadata:k},null,x),Ca(this,null,p,{kind:"method",name:"addStyleTag",static:!1,private:!1,access:{has:e=>"addStyleTag"in e,get:e=>e.addStyleTag},metadata:k},null,x),Ca(this,null,h,{kind:"method",name:"click",static:!1,private:!1,access:{has:e=>"click"in e,get:e=>e.click},metadata:k},null,x),Ca(this,null,f,{kind:"method",name:"focus",static:!1,private:!1,access:{has:e=>"focus"in e,get:e=>e.focus},metadata:k},null,x),Ca(this,null,m,{kind:"method",name:"hover",static:!1,private:!1,access:{has:e=>"hover"in e,get:e=>e.hover},metadata:k},null,x),Ca(this,null,g,{kind:"method",name:"select",static:!1,private:!1,access:{has:e=>"select"in e,get:e=>e.select},metadata:k},null,x),Ca(this,null,v,{kind:"method",name:"tap",static:!1,private:!1,access:{has:e=>"tap"in e,get:e=>e.tap},metadata:k},null,x),Ca(this,null,y,{kind:"method",name:"type",static:!1,private:!1,access:{has:e=>"type"in e,get:e=>e.type},metadata:k},null,x),Ca(this,null,w,{kind:"method",name:"title",static:!1,private:!1,access:{has:e=>"title"in e,get:e=>e.title},metadata:k},null,x),k&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:k})}_id=_a(this,x);_parentId;_name;_hasStartedLoading=!1;constructor(){super()}#ne;#re(){return this.#ne||(this.#ne=this.mainRealm().evaluateHandle((()=>document))),this.#ne}clearDocumentHandle(){this.#ne=void 0}async frameElement(){const e={stack:[],error:void 0,hasError:!1};try{const t=this.parentFrame();if(!t)return null;const i=Ta(e,await t.isolatedRealm().evaluateHandle((()=>document.querySelectorAll("iframe,frame"))),!1);for await(const e of xr(i)){const i={stack:[],error:void 0,hasError:!1};try{const n=Ta(i,e,!1),r=await n.contentFrame();if(r?._id===this._id)return await t.mainRealm().adoptHandle(n)}catch(e){i.error=e,i.hasError=!0}finally{Pa(i)}}return null}catch(t){e.error=t,e.hasError=!0}finally{Pa(e)}}async evaluateHandle(e,...t){return e=$n(this.evaluateHandle.name,e),await this.mainRealm().evaluateHandle(e,...t)}async evaluate(e,...t){return e=$n(this.evaluate.name,e),await this.mainRealm().evaluate(e,...t)}locator(e){return"string"==typeof e?xa.create(this,e):va.create(this,e)}async $(e){const t=await this.#re();return await t.$(e)}async $$(e,t){const i=await this.#re();return await i.$$(e,t)}async $eval(e,t,...i){t=$n(this.$eval.name,t);const n=await this.#re();return await n.$eval(e,t,...i)}async $$eval(e,t,...i){t=$n(this.$$eval.name,t);const n=await this.#re();return await n.$$eval(e,t,...i)}async waitForSelector(e,t={}){const{updatedSelector:i,QueryHandler:n,polling:r}=Hr(e);return await n.waitFor(this,i,{polling:r,...t})}async waitForFunction(e,t={},...i){return await this.mainRealm().waitForFunction(e,t,...i)}async content(){return await this.evaluate((()=>{let e="";for(const t of document.childNodes)if(t===document.documentElement)e+=document.documentElement.outerHTML;else e+=(new XMLSerializer).serializeToString(t);return e}))}async setFrameContent(e){return await this.evaluate((e=>{document.open(),document.write(e),document.close()}),e)}name(){return this._name||""}isDetached(){return this.detached}get disposed(){return this.detached}async addScriptTag(e){let{content:t="",type:i}=e;const{path:n}=e;if(+!!e.url+ +!!n+ +!!t!=1)throw new Error("Exactly one of `url`, `path`, or `content` must be specified.");return n&&(t=await xn.value.fs.promises.readFile(n,"utf8"),t+=`//# sourceURL=${n.replace(/\n/g,"")}`),i=i??"text/javascript",await this.mainRealm().transferHandle(await this.isolatedRealm().evaluateHandle((async({url:e,id:t,type:i,content:n})=>await new Promise(((r,a)=>{const s=document.createElement("script");s.type=i,s.text=n,s.addEventListener("error",(e=>{a(new Error(e.message??"Could not load script"))}),{once:!0}),t&&(s.id=t),e?(s.src=e,s.addEventListener("load",(()=>{r(s)}),{once:!0}),document.head.appendChild(s)):(document.head.appendChild(s),r(s))}))),{...e,type:i,content:t}))}async addStyleTag(e){let{content:t=""}=e;const{path:i}=e;if(+!!e.url+ +!!i+ +!!t!=1)throw new Error("Exactly one of `url`, `path`, or `content` must be specified.");return i&&(t=await xn.value.fs.promises.readFile(i,"utf8"),t+="/*# sourceURL="+i.replace(/\n/g,"")+"*/",e.content=t),await this.mainRealm().transferHandle(await this.isolatedRealm().evaluateHandle((async({url:e,content:t})=>await new Promise(((i,n)=>{let r;if(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e,r=t}else r=document.createElement("style"),r.appendChild(document.createTextNode(t));return r.addEventListener("load",(()=>{i(r)}),{once:!0}),r.addEventListener("error",(e=>{n(new Error(e.message??"Could not load style"))}),{once:!0}),document.head.appendChild(r),r}))),e))}async click(e,t={}){const i={stack:[],error:void 0,hasError:!1};try{const n=Ta(i,await this.$(e),!1);Sn(n,`No element found for selector: ${e}`),await n.click(t),await n.dispose()}catch(e){i.error=e,i.hasError=!0}finally{Pa(i)}}async focus(e){const t={stack:[],error:void 0,hasError:!1};try{const i=Ta(t,await this.$(e),!1);Sn(i,`No element found for selector: ${e}`),await i.focus()}catch(e){t.error=e,t.hasError=!0}finally{Pa(t)}}async hover(e){const t={stack:[],error:void 0,hasError:!1};try{const i=Ta(t,await this.$(e),!1);Sn(i,`No element found for selector: ${e}`),await i.hover()}catch(e){t.error=e,t.hasError=!0}finally{Pa(t)}}async select(e,...t){const i={stack:[],error:void 0,hasError:!1};try{const n=Ta(i,await this.$(e),!1);return Sn(n,`No element found for selector: ${e}`),await n.select(...t)}catch(e){i.error=e,i.hasError=!0}finally{Pa(i)}}async tap(e){const t={stack:[],error:void 0,hasError:!1};try{const i=Ta(t,await this.$(e),!1);Sn(i,`No element found for selector: ${e}`),await i.tap()}catch(e){t.error=e,t.hasError=!0}finally{Pa(t)}}async type(e,t,i){const n={stack:[],error:void 0,hasError:!1};try{const r=Ta(n,await this.$(e),!1);Sn(r,`No element found for selector: ${e}`),await r.type(t,i)}catch(e){n.error=e,n.hasError=!0}finally{Pa(n)}}async title(){return await this.isolatedRealm().evaluate((()=>document.title))}}})();class Oa{_interceptionId;_failureText=null;_response=null;_fromMemoryCache=!1;_redirectChain=[];interception={enabled:!1,handled:!1,handlers:[],resolutionState:{action:Aa.None},requestOverrides:{},response:null,abortReason:null};constructor(){}continueRequestOverrides(){return Sn(this.interception.enabled,"Request Interception is not enabled!"),this.interception.requestOverrides}responseForRequest(){return Sn(this.interception.enabled,"Request Interception is not enabled!"),this.interception.response}abortErrorReason(){return Sn(this.interception.enabled,"Request Interception is not enabled!"),this.interception.abortReason}interceptResolutionState(){return this.interception.enabled?this.interception.handled?{action:Aa.AlreadyHandled}:{...this.interception.resolutionState}:{action:Aa.Disabled}}isInterceptResolutionHandled(){return this.interception.handled}enqueueInterceptAction(e){this.interception.handlers.push(e)}async finalizeInterceptions(){await this.interception.handlers.reduce(((e,t)=>e.then(t)),Promise.resolve()),this.interception.handlers=[];const{action:e}=this.interceptResolutionState();switch(e){case"abort":return await this._abort(this.interception.abortReason);case"respond":if(null===this.interception.response)throw new Error("Response is missing for the interception");return await this._respond(this.interception.response);case"continue":return await this._continue(this.interception.requestOverrides)}}#ae(){return!this.url().startsWith("data:")&&!this._fromMemoryCache}async continue(e={},t){if(this.#ae()){if(Sn(this.interception.enabled,"Request Interception is not enabled!"),Sn(!this.interception.handled,"Request is already handled!"),void 0===t)return await this._continue(e);if(this.interception.requestOverrides=e,void 0===this.interception.resolutionState.priority||t>this.interception.resolutionState.priority)this.interception.resolutionState={action:Aa.Continue,priority:t};else if(t===this.interception.resolutionState.priority){if("abort"===this.interception.resolutionState.action||"respond"===this.interception.resolutionState.action)return;this.interception.resolutionState.action=Aa.Continue}}}async respond(e,t){if(this.#ae()){if(Sn(this.interception.enabled,"Request Interception is not enabled!"),Sn(!this.interception.handled,"Request is already handled!"),void 0===t)return await this._respond(e);if(this.interception.response=e,void 0===this.interception.resolutionState.priority||t>this.interception.resolutionState.priority)this.interception.resolutionState={action:Aa.Respond,priority:t};else if(t===this.interception.resolutionState.priority){if("abort"===this.interception.resolutionState.action)return;this.interception.resolutionState.action=Aa.Respond}}}async abort(e="failed",t){if(!this.#ae())return;const i=Fa[e];if(Sn(i,"Unknown error code: "+e),Sn(this.interception.enabled,"Request Interception is not enabled!"),Sn(!this.interception.handled,"Request is already handled!"),void 0===t)return await this._abort(i);this.interception.abortReason=i,(void 0===this.interception.resolutionState.priority||t>=this.interception.resolutionState.priority)&&(this.interception.resolutionState={action:Aa.Abort,priority:t})}static getResponse(e){const t=Un(e)?(new TextEncoder).encode(e):e;return{contentLength:t.byteLength,base64:Cn(t)}}}var Aa;function La(e){const t=[];for(const i in e){const n=e[i];if(!Object.is(n,void 0)){const e=Array.isArray(n)?n:[n];t.push(...e.map((e=>({name:i,value:e+""}))))}}return t}!function(e){e.Abort="abort",e.Respond="respond",e.Continue="continue",e.Disabled="disabled",e.None="none",e.AlreadyHandled="already-handled"}(Aa||(Aa={}));const Ra={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"},Fa={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function Na(e){if(e.originalMessage.includes("Invalid header")||e.originalMessage.includes('Expected "header"')||e.originalMessage.includes("invalid argument"))throw e;Nn(e)}class Da{constructor(){}ok(){const e=this.status();return 0===e||e>=200&&e<=299}async buffer(){const e=await this.content();return Buffer.from(e)}async text(){const e=await this.content();return(new TextDecoder).decode(e)}async json(){const e=await this.text();return JSON.parse(e)}}function ja(){let e=0;return()=>++e}class Ba{constructor(){}}const $a=Object.freeze({Left:"left",Right:"right",Middle:"middle",Back:"back",Forward:"forward"});class qa{constructor(){}}class Ua{idGenerator=ja();touches=[];constructor(){}removeHandle(e){const t=this.touches.indexOf(e);-1!==t&&this.touches.splice(t,1)}async tap(e,t){const i=await this.touchStart(e,t);await i.end()}async touchMove(e,t){const i=this.touches[0];if(!i)throw new On("Must start a new Touch first");return await i.move(e,t)}async touchEnd(){const e=this.touches.shift();if(!e)throw new On("Must start a new Touch first");await e.end()}}class za{#se;#oe;constructor(){this.#se=null,this.#oe=null}setDefaultTimeout(e){this.#se=e}setDefaultNavigationTimeout(e){this.#oe=e}navigationTimeout(){return null!==this.#oe?this.#oe:null!==this.#se?this.#se:3e4}timeout(){return null!==this.#se?this.#se:3e4}}var Ha=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},Wa=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},Ka=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Ga=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});let Va=(()=>{let e,t=wn,i=[];return class extends t{static{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;Wa(this,null,e,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:e=>"screenshot"in e,get:e=>e.screenshot},metadata:n},null,i),n&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})}_isDragging=(Ha(this,i),!1);_timeoutSettings=new za;#ce=new WeakMap;#le=new Zt(1);constructor(){var e,t,i;super(),er(this,"request").pipe($i((e=>Ui(Ti(1),Yi(er(this,"requestfailed"),er(this,"requestfinished"),er(this,"response").pipe(Ii((e=>e.request())))).pipe(Zi((t=>t.id===e.id)),an(1),Ii((()=>-1)))))),(e=(e,t)=>Ti(e+t),t=0,void 0===i&&(i=1/0),Kt((function(n,r){var a=t;return Bi(n,r,(function(t,i){return e(a,t,i)}),i,(function(e){a=e}),!1,void 0,(function(){return a=null}))}))),hn(er(this,"close")),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=li(e);return Kt((function(t,n){(i?Ui(e,t,i):Ui(e,t)).subscribe(n)}))}(0)).subscribe(this.#le)}on(e,t){if("request"!==e)return super.on(e,t);let i=this.#ce.get(t);return void 0===i&&(i=e=>{e.enqueueInterceptAction((()=>t(e)))},this.#ce.set(t,i)),super.on(e,i)}off(e,t){return"request"===e&&(t=this.#ce.get(t)||t),super.off(e,t)}get accessibility(){return this.mainFrame().accessibility}locator(e){return"string"==typeof e?xa.create(this,e):va.create(this,e)}locatorRace(e){return ga.race(e)}async $(e){return await this.mainFrame().$(e)}async $$(e,t){return await this.mainFrame().$$(e,t)}async evaluateHandle(e,...t){return e=$n(this.evaluateHandle.name,e),await this.mainFrame().evaluateHandle(e,...t)}async $eval(e,t,...i){return t=$n(this.$eval.name,t),await this.mainFrame().$eval(e,t,...i)}async $$eval(e,t,...i){return t=$n(this.$$eval.name,t),await this.mainFrame().$$eval(e,t,...i)}async addScriptTag(e){return await this.mainFrame().addScriptTag(e)}async addStyleTag(e){return await this.mainFrame().addStyleTag(e)}url(){return this.mainFrame().url()}async content(){return await this.mainFrame().content()}async setContent(e,t){await this.mainFrame().setContent(e,t)}async goto(e,t){return await this.mainFrame().goto(e,t)}async waitForNavigation(e={}){return await this.mainFrame().waitForNavigation(e)}waitForRequest(e,t={}){const{timeout:i=this._timeoutSettings.timeout(),signal:n}=t;if("string"==typeof e){const t=e;e=e=>e.url()===t}return Mi(er(this,"request").pipe(ir(e),un(Kn(i),tr(n),er(this,"close").pipe(Ii((()=>{throw new Rn("Page closed!")}))))))}waitForResponse(e,t={}){const{timeout:i=this._timeoutSettings.timeout(),signal:n}=t;if("string"==typeof e){const t=e;e=e=>e.url()===t}return Mi(er(this,"response").pipe(ir(e),un(Kn(i),tr(n),er(this,"close").pipe(Ii((()=>{throw new Rn("Page closed!")}))))))}waitForNetworkIdle(e={}){return Mi(this.waitForNetworkIdle$(e))}waitForNetworkIdle$(e={}){const{timeout:t=this._timeoutSettings.timeout(),idleTime:i=Yn,concurrency:n=0,signal:r}=e;return this.#le.pipe(pn((e=>e>n?oi:Xi(i))),Ii((()=>{})),un(Kn(t),tr(r),er(this,"close").pipe(Ii((()=>{throw new Rn("Page closed!")})))))}async waitForFrame(e,t={}){const{timeout:i=this.getDefaultTimeout(),signal:n}=t,r=Un(e)?t=>e===t.url():e;return await Mi(Yi(er(this,"frameattached"),er(this,"framenavigated"),Ci(this.frames())).pipe(ir(r),ln(),un(Kn(i),tr(n),er(this,"close").pipe(Ii((()=>{throw new Rn("Page closed.")}))))))}async emulate(e){await Promise.all([this.setUserAgent(e.userAgent),this.setViewport(e.viewport)])}async evaluate(e,...t){return e=$n(this.evaluate.name,e),await this.mainFrame().evaluate(e,...t)}async _maybeWriteTypedArrayToFile(e,t){e&&await xn.value.fs.promises.writeFile(e,t)}async screencast(e={}){const t=xn.value.ScreenRecorder,[i,n,r]=await this.#ue();let a;if(e.crop){const{x:t,y:s,width:o,height:c}=Ya(Xa(e.crop));if(t<0||s<0)throw new Error("`crop.x` and `crop.y` must be greater than or equal to 0.");if(o<=0||c<=0)throw new Error("`crop.height` and `crop.width` must be greater than or equal to 0.");const l=i/r,u=n/r;if(t+o>l)throw new Error(`\`crop.width\` cannot be larger than the viewport width (${l}).`);if(s+c>u)throw new Error(`\`crop.height\` cannot be larger than the viewport height (${u}).`);a={x:t*r,y:s*r,width:o*r,height:c*r}}if(void 0!==e.speed&&e.speed<=0)throw new Error("`speed` must be greater than 0.");if(void 0!==e.scale&&e.scale<=0)throw new Error("`scale` must be greater than 0.");const s=new t(this,i,n,{...e,path:e.ffmpegPath,crop:a});try{await this._startScreencast()}catch(e){throw s.stop(),e}if(e.path){const{createWriteStream:t}=xn.value.fs,i=t(e.path,"binary");s.pipe(i)}return s}#de=0;#pe;async _startScreencast(){++this.#de,this.#pe||(this.#pe=this.mainFrame().client.send("Page.startScreencast",{format:"png"}).then((()=>new Promise((e=>this.mainFrame().client.once("Page.screencastFrame",(()=>e()))))))),await this.#pe}async _stopScreencast(){--this.#de,this.#pe&&(this.#pe=void 0,0===this.#de&&await this.mainFrame().client.send("Page.stopScreencast"))}async#ue(){const e={stack:[],error:void 0,hasError:!1};try{const t=this.viewport(),i=Ka(e,new vn,!1);return t&&0!==t.deviceScaleFactor&&(await this.setViewport({...t,deviceScaleFactor:0}),i.defer((()=>{this.setViewport(t).catch(Nn)}))),await this.mainFrame().isolatedRealm().evaluate((()=>[window.visualViewport.width*window.devicePixelRatio,window.visualViewport.height*window.devicePixelRatio,window.devicePixelRatio]))}catch(t){e.error=t,e.hasError=!0}finally{Ga(e)}}async screenshot(e={}){const t={stack:[],error:void 0,hasError:!1};try{Ka(t,await this.browserContext().startScreenshot(),!1);const i={...e,clip:e.clip?{...e.clip}:void 0};if(void 0===i.type&&void 0!==i.path){const e=i.path;switch(e.slice(e.lastIndexOf(".")+1).toLowerCase()){case"png":i.type="png";break;case"jpeg":case"jpg":i.type="jpeg";break;case"webp":i.type="webp"}}if(void 0!==i.quality){if(i.quality<0||i.quality>100)throw new Error(`Expected 'quality' (${i.quality}) to be between 0 and 100, inclusive.`);if(void 0===i.type||!["jpeg","webp"].includes(i.type))throw new Error(`${i.type??"png"} screenshots do not support 'quality'.`)}if(i.clip){if(i.clip.width<=0)throw new Error("'width' in 'clip' must be positive.");if(i.clip.height<=0)throw new Error("'height' in 'clip' must be positive.")}!function(e){e.optimizeForSpeed??=!1,e.type??="png",e.fromSurface??=!0,e.fullPage??=!1,e.omitBackground??=!1,e.encoding??="binary",e.captureBeyondViewport??=!0}(i);const n=Ka(t,new yn,!0);if(i.clip){if(i.fullPage)throw new Error("'clip' and 'fullPage' are mutually exclusive");i.clip=Ya(Xa(i.clip))}else if(i.fullPage){if(!i.captureBeyondViewport){const e=await this.mainFrame().isolatedRealm().evaluate((()=>{const e=document.documentElement;return{width:e.scrollWidth,height:e.scrollHeight}})),t=this.viewport();await this.setViewport({...t,...e}),n.defer((async()=>{await this.setViewport(t).catch(Nn)}))}}else i.captureBeyondViewport=!1;const r=await this._screenshot(i);if("base64"===i.encoding)return r;const a=En(r,!0);return await this._maybeWriteTypedArrayToFile(i.path,a),a}catch(e){t.error=e,t.hasError=!0}finally{const e=Ga(t);e&&await e}}async title(){return await this.mainFrame().title()}click(e,t){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,i){return this.mainFrame().type(e,t,i)}async waitForSelector(e,t={}){return await this.mainFrame().waitForSelector(e,t)}waitForFunction(e,t,...i){return this.mainFrame().waitForFunction(e,t,...i)}[(e=[Jr((function(){return this.browser()}))],mn)](){this.close().catch(Nn)}[gn](){return this.close()}}})();function Xa(e){return{...e,...e.width<0?{x:e.x+e.width,width:-e.width}:{x:e.x,width:e.width},...e.height<0?{y:e.y+e.height,height:-e.height}:{y:e.y,height:e.height}}}function Ya(e){const t=Math.round(e.x),i=Math.round(e.y),n=Math.round(e.width+e.x-t),r=Math.round(e.height+e.y-i);return{...e,x:t,y:i,width:n,height:r}}class Ja{#he;#fe;#me;#ge;#ve;#ye;#f;#we=ar.create();#be;#xe;#ke=[];constructor(e,t,i,...n){if(this.#he=e,this.#fe=t.polling,this.#me=t.root,this.#xe=t.signal,this.#xe?.addEventListener("abort",this.#Se,{once:!0}),"string"==typeof i)this.#ge=`() => {return (${i});}`;else this.#ge=gr(i);this.#ve=n,this.#he.taskManager.add(this),t.timeout&&(this.#f=new In(`Waiting failed: ${t.timeout}ms exceeded`),this.#ye=setTimeout((()=>{this.terminate(this.#f)}),t.timeout)),this.rerun()}get result(){return this.#we.valueOrThrow()}async rerun(){for(const e of this.#ke)e.abort();this.#ke.length=0;const e=new AbortController;this.#ke.push(e);try{switch(this.#fe){case"raf":this.#be=await this.#he.evaluateHandle((({RAFPoller:e,createFunction:t},i,...n)=>{const r=t(i);return new e((()=>r(...n)))}),kr.create((e=>e.puppeteerUtil)),this.#ge,...this.#ve);break;case"mutation":this.#be=await this.#he.evaluateHandle((({MutationPoller:e,createFunction:t},i,n,...r)=>{const a=t(n);return new e((()=>a(...r)),i||document)}),kr.create((e=>e.puppeteerUtil)),this.#me,this.#ge,...this.#ve);break;default:this.#be=await this.#he.evaluateHandle((({IntervalPoller:e,createFunction:t},i,n,...r)=>{const a=t(n);return new e((()=>a(...r)),i)}),kr.create((e=>e.puppeteerUtil)),this.#fe,this.#ge,...this.#ve)}await this.#be.evaluate((e=>{e.start()}));const e=await this.#be.evaluateHandle((e=>e.result()));this.#we.resolve(e),await this.terminate()}catch(t){if(e.signal.aborted)return;const i=this.getBadError(t);i&&await this.terminate(i)}}async terminate(e){if(this.#he.taskManager.delete(this),this.#xe?.removeEventListener("abort",this.#Se),clearTimeout(this.#ye),e&&!this.#we.finished()&&this.#we.reject(e),this.#be)try{await this.#be.evaluateHandle((async e=>{await e.stop()})),this.#be&&(await this.#be.dispose(),this.#be=void 0)}catch{}}getBadError(e){if(pr(e)){if(e.message.includes("Execution context is not available in detached frame"))return new Error("Waiting failed: Frame detached");if(e.message.includes("Execution context was destroyed"))return;if(e.message.includes("Cannot find context with specified id"))return;if(e.message.includes("AbortError: Actor 'MessageHandlerFrame' destroyed"))return;return e}return new Error("WaitTask failed with an error",{cause:e})}#Se=()=>{this.terminate(this.#xe?.reason)}}class Qa{#Ee=new Set;add(e){this.#Ee.add(e)}delete(e){this.#Ee.delete(e)}terminateAll(e){for(const t of this.#Ee)t.terminate(e);this.#Ee.clear()}async rerunAll(){await Promise.all([...this.#Ee].map((e=>e.rerun())))}}class Za{timeoutSettings;taskManager=new Qa;constructor(e){this.timeoutSettings=e}async waitForFunction(e,t={},...i){const{polling:n="raf",timeout:r=this.timeoutSettings.timeout(),root:a,signal:s}=t;if("number"==typeof n&&n<0)throw new Error("Cannot poll with non-positive interval");const o=new Ja(this,{polling:n,root:a,timeout:r,signal:s},e,...i);return await o.result}get disposed(){return this.#e}#e=!1;dispose(){this.#e=!0,this.taskManager.terminateAll(new Error("waitForFunction failed: frame got detached."))}[mn](){this.dispose()}}var es;exports.ao=void 0,(es=exports.ao||(exports.ao={})).PAGE="page",es.BACKGROUND_PAGE="background_page",es.SERVICE_WORKER="service_worker",es.SHARED_WORKER="shared_worker",es.BROWSER="browser",es.WEBVIEW="webview",es.OTHER="other",es.TAB="tab";class ts{constructor(){}async worker(){return null}async page(){return null}}class is extends wn{timeoutSettings=new za;#_e;constructor(e){super(),this.#_e=e}url(){return this.#_e}async evaluate(e,...t){return e=$n(this.evaluate.name,e),await this.mainRealm().evaluate(e,...t)}async evaluateHandle(e,...t){return e=$n(this.evaluateHandle.name,e),await this.mainRealm().evaluateHandle(e,...t)}async close(){throw new Ln("WebWorker.close() is not supported")}}var ns=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},rs=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class as{#Ce;#Te;constructor(e,t=""){this.#Ce=e,this.#Te=t}async snapshot(e={}){const{interestingOnly:t=!0,root:i=null,includeIframes:n=!1}=e,{nodes:r}=await this.#Ce.environment.client.send("Accessibility.getFullAXTree",{frameId:this.#Te});let a;if(i){const{node:e}=await this.#Ce.environment.client.send("DOM.describeNode",{objectId:i.id});a=e.backendNodeId}const s=ss.createTree(this.#Ce,r),o=async t=>{if("Iframe"===t.payload.role?.value){const i={stack:[],error:void 0,hasError:!1};try{if(!t.payload.backendDOMNodeId)return;const n=ns(i,await this.#Ce.adoptBackendNode(t.payload.backendDOMNodeId),!1);if(!n||!("contentFrame"in n))return;const r=await n.contentFrame();if(!r)return;const a=await r.accessibility.snapshot(e);t.iframeSnapshot=a??void 0}catch(e){i.error=e,i.hasError=!0}finally{rs(i)}}for(const e of t.children)await o(e)};let c=s;if(!s)return null;if(n&&await o(s),a&&(c=s.find((e=>e.payload.backendDOMNodeId===a))),!c)return null;if(!t)return this.serializeTree(c)[0]??null;const l=new Set;return this.collectInterestingNodes(l,s,!1),l.has(c)?this.serializeTree(c,l)[0]??null:null}serializeTree(e,t){const i=[];for(const n of e.children)i.push(...this.serializeTree(n,t));if(t&&!t.has(e))return i;const n=e.serialize();return i.length&&(n.children=i),e.iframeSnapshot&&(n.children||(n.children=[]),n.children.push(e.iframeSnapshot)),[n]}collectInterestingNodes(e,t,i){if((t.isInteresting(i)||t.iframeSnapshot)&&e.add(t),!t.isLeafNode()){i=i||t.isControl();for(const n of t.children)this.collectInterestingNodes(e,n,i)}}}class ss{payload;children=[];iframeSnapshot;#Pe=!1;#Me=!1;#Ie=!1;#Oe=!1;#Ae;#Le;#Re;#Fe;#Ce;constructor(e,t){this.payload=t,this.#Ae=this.payload.name?this.payload.name.value:"",this.#Le=this.payload.role?this.payload.role.value:"Unknown",this.#Re=this.payload.ignored,this.#Ce=e;for(const e of this.payload.properties||[])"editable"===e.name&&(this.#Pe="richtext"===e.value.value,this.#Me=!0),"focusable"===e.name&&(this.#Ie=e.value.value),"hidden"===e.name&&(this.#Oe=e.value.value)}#Ne(){return!this.#Pe&&(!!this.#Me||("textbox"===this.#Le||"searchbox"===this.#Le))}#De(){const e=this.#Le;return"LineBreak"===e||"text"===e||"InlineTextBox"===e||"StaticText"===e}#je(){if(void 0===this.#Fe){this.#Fe=!1;for(const e of this.children)if(e.#Ie||e.#je()){this.#Fe=!0;break}}return this.#Fe}find(e){if(e(this))return this;for(const t of this.children){const i=t.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length)return!0;if(this.#Ne()||this.#De())return!0;switch(this.#Le){case"doc-cover":case"graphics-symbol":case"img":case"image":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!this.#je()&&(!(!this.#Ie||!this.#Ae)||!("heading"!==this.#Le||!this.#Ae))}isControl(){switch(this.#Le){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this.#Le&&!this.#Oe&&!this.#Re&&(!(!this.#Ie&&!this.#Pe)||(!!this.isControl()||!e&&(this.isLeafNode()&&!!this.#Ae)))}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const t={role:this.#Le,elementHandle:async()=>this.payload.backendDOMNodeId?await this.#Ce.adoptBackendNode(this.payload.backendDOMNodeId):null},i=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const r of i)e.has(r)&&(t[r]=(n=r,e.get(n)));var n;const r=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],a=t=>e.get(t);for(const e of r){if("focused"===e&&"RootWebArea"===this.#Le)continue;a(e)&&(t[e]=a(e))}const s=["checked","pressed"];for(const i of s){if(!e.has(i))continue;const n=e.get(i);t[i]="mixed"===n?"mixed":"true"===n}const o=["level","valuemax","valuemin"],c=t=>e.get(t);for(const i of o)e.has(i)&&(t[i]=c(i));const l=["autocomplete","haspopup","invalid","orientation"],u=t=>e.get(t);for(const e of l){const i=u(e);i&&"false"!==i&&(t[e]=u(e))}return t}static createTree(e,t){const i=new Map;for(const n of t)i.set(n.nodeId,new ss(e,n));for(const e of i.values())for(const t of e.payload.childIds||[]){const n=i.get(t);n&&e.children.push(n)}return i.values().next().value??null}}var os,cs=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},ls=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class us{#Ae;#ge;#Be;constructor(e,t,i){this.#Ae=e,this.#ge=t,this.#Be=i}get name(){return this.#Ae}get initSource(){return this.#Be}async run(e,t,i,n){const r=new vn;try{if(!n){const n={stack:[],error:void 0,hasError:!1};try{const a=cs(n,await e.evaluateHandle(((e,t)=>globalThis[e].args.get(t)),this.#Ae,t),!1),s=await a.getProperties();for(const[e,t]of s)if(e in i)if("node"===t.remoteObject().subtype)i[+e]=t;else r.use(t);else r.use(t)}catch(e){n.error=e,n.hasError=!0}finally{ls(n)}}await e.evaluate(((e,t,i)=>{const n=globalThis[e].callbacks;n.get(t).resolve(i),n.delete(t)}),this.#Ae,t,await this.#ge(...i));for(const e of i)e instanceof ra&&r.use(e)}catch(i){pr(i)?await e.evaluate(((e,t,i,n)=>{const r=new Error(i);r.stack=n;const a=globalThis[e].callbacks;a.get(t).reject(r),a.delete(t)}),this.#Ae,t,i.message,i.stack).catch(Nn):await e.evaluate(((e,t,i)=>{const n=globalThis[e].callbacks;n.get(t).reject(i),n.delete(t)}),this.#Ae,t,i).catch(Nn)}}}class ds{#S;#$e;#ve;#qe;#Ue;constructor(e,t,i,n,r){this.#S=e,this.#$e=t,this.#ve=i,this.#qe=n,this.#Ue=r}type(){return this.#S}text(){return this.#$e}args(){return this.#ve}location(){return this.#qe[0]??(this.#Ue?{url:this.#Ue.url()}:{})}stackTrace(){return this.#qe}}class ps{#ze;#He;#We=!1;constructor(e,t){this.#ze=e,this.#He="selectSingle"!==t.mode}isMultiple(){return this.#He}async accept(e){Sn(!this.#We,"Cannot accept FileChooser which is already handled!"),this.#We=!0,await this.#ze.uploadFile(...e)}async cancel(){Sn(!this.#We,"Cannot cancel FileChooser which is already handled!"),this.#We=!0,await this.#ze.evaluate((e=>{e.dispatchEvent(new Event("cancel",{bubbles:!0}))}))}}!function(e){e.Request=Symbol("NetworkManager.Request"),e.RequestServedFromCache=Symbol("NetworkManager.RequestServedFromCache"),e.Response=Symbol("NetworkManager.Response"),e.RequestFailed=Symbol("NetworkManager.RequestFailed"),e.RequestFinished=Symbol("NetworkManager.RequestFinished")}(os||(os={}));class hs{#Ke=new Map;#Ge=ja();create(e,t,i){const n=new fs(this.#Ge(),e,t);this.#Ke.set(n.id,n);try{i(n.id)}catch(e){throw n.promise.catch(Nn).finally((()=>{this.#Ke.delete(n.id)})),n.reject(e),e}return n.promise.finally((()=>{this.#Ke.delete(n.id)}))}reject(e,t,i){const n=this.#Ke.get(e);n&&this._reject(n,t,i)}rejectRaw(e,t){const i=this.#Ke.get(e);i&&i.reject(t)}_reject(e,t,i){let n,r;t instanceof An?(n=t,n.cause=e.error,r=t.message):(n=e.error,r=t),e.reject(hr(n,`Protocol error (${e.label}): ${r}`,i))}resolve(e,t){const i=this.#Ke.get(e);i&&i.resolve(t)}clear(){for(const e of this.#Ke.values())this._reject(e,new Rn("Target closed"));this.#Ke.clear()}getPendingProtocolErrors(){const e=[];for(const t of this.#Ke.values())e.push(new Error(`${t.label} timed out. Trace: ${t.error.stack}`));return e}}class fs{#Ve;#Xe=new An;#Ye=ar.create();#Je;#Qe;constructor(e,t,i){this.#Ve=e,this.#Qe=t,i&&(this.#Je=setTimeout((()=>{this.#Ye.reject(hr(this.#Xe,`${t} timed out. Increase the 'protocolTimeout' setting in launch/connect calls for a higher timeout if needed.`))}),i))}resolve(e){clearTimeout(this.#Je),this.#Ye.resolve(e)}reject(e){clearTimeout(this.#Je),this.#Ye.reject(e)}get id(){return this.#Ve}get promise(){return this.#Ye.valueOrThrow()}get error(){return this.#Xe}get label(){return this.#Qe}}class ms extends lr{#Ze;#et;#Ke=new hs;#tt;#it;#nt;#rt=!1;constructor(e,t,i,n,r){super(),this.#tt=e,this.#et=t,this.#Ze=i,this.#it=n,this.#rt=r}_setTarget(e){this.#nt=e}_target(){return Sn(this.#nt,"Target must exist"),this.#nt}connection(){return this.#tt}parentSession(){if(!this.#it)return this;const e=this.#tt?.session(this.#it);return e??void 0}send(e,t,i){return this.#tt?this.#tt._rawSend(this.#Ke,e,t,this.#Ze,i):Promise.reject(new Rn(`Protocol error (${e}): Session closed. Most likely the ${this.#et} has been closed.`))}_onMessage(e){e.id?e.error?this.#rt?this.#Ke.rejectRaw(e.id,e.error):this.#Ke.reject(e.id,fr(e),e.error.message):this.#Ke.resolve(e.id,e.result):(Sn(!e.id),this.emit(e.method,e.params))}async detach(){if(!this.#tt)throw new Error(`Session already detached. Most likely the ${this.#et} has been closed.`);await this.#tt.send("Target.detachFromTarget",{sessionId:this.#Ze})}_onClosed(){this.#Ke.clear(),this.#tt=void 0,this.emit(cr.Disconnected,void 0)}id(){return this.#Ze}getPendingProtocolErrors(){return this.#Ke.getPendingProtocolErrors()}}const gs=Pn("puppeteer:protocol:SEND "),vs=Pn("puppeteer:protocol:RECV ");class ys extends wn{#_e;#at;#st;#ye;#ot=new Map;#ct=!1;#lt=new Set;#Ke;#rt=!1;constructor(e,t,i=0,n,r=!1){super(),this.#rt=r,this.#Ke=new hs,this.#_e=e,this.#st=i,this.#ye=n??18e4,this.#at=t,this.#at.onmessage=this.onMessage.bind(this),this.#at.onclose=this.#ut.bind(this)}static fromSession(e){return e.connection()}get delay(){return this.#st}get timeout(){return this.#ye}get _closed(){return this.#ct}get _sessions(){return this.#ot}session(e){return this.#ot.get(e)||null}url(){return this.#_e}send(e,t,i){return this._rawSend(this.#Ke,e,t,void 0,i)}_rawSend(e,t,i,n,r){return this.#ct?Promise.reject(new Error("Protocol error: Connection closed.")):e.create(t,r?.timeout??this.#ye,(e=>{const r=JSON.stringify({method:t,params:i,id:e,sessionId:n});gs(r),this.#at.send(r)}))}async closeBrowser(){await this.send("Browser.close")}async onMessage(e){this.#st&&await new Promise((e=>setTimeout(e,this.#st))),vs(e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,i=new ms(this,t.params.targetInfo.type,e,t.sessionId,this.#rt);this.#ot.set(e,i),this.emit(cr.SessionAttached,i);const n=this.#ot.get(t.sessionId);n&&n.emit(cr.SessionAttached,i)}else if("Target.detachedFromTarget"===t.method){const e=this.#ot.get(t.params.sessionId);if(e){e._onClosed(),this.#ot.delete(t.params.sessionId),this.emit(cr.SessionDetached,e);const i=this.#ot.get(t.sessionId);i&&i.emit(cr.SessionDetached,e)}}if(t.sessionId){const e=this.#ot.get(t.sessionId);e&&e._onMessage(t)}else t.id?t.error?this.#rt?this.#Ke.rejectRaw(t.id,t.error):this.#Ke.reject(t.id,fr(t),t.error.message):this.#Ke.resolve(t.id,t.result):this.emit(t.method,t.params)}#ut(){if(!this.#ct){this.#ct=!0,this.#at.onmessage=void 0,this.#at.onclose=void 0,this.#Ke.clear();for(const e of this.#ot.values())e._onClosed();this.#ot.clear(),this.emit(cr.Disconnected,void 0)}}dispose(){this.#ut(),this.#at.close()}isAutoAttached(e){return!this.#lt.has(e)}async _createSession(e,t=!0){t||this.#lt.add(e.targetId);const{sessionId:i}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});this.#lt.delete(e.targetId);const n=this.#ot.get(i);if(!n)throw new Error("CDPSession creation failed.");return n}async createSession(e){return await this._createSession(e,!1)}getPendingProtocolErrors(){const e=[];e.push(...this.#Ke.getPendingProtocolErrors());for(const t of this.#ot.values())e.push(...t.getPendingProtocolErrors());return e}}function ws(e){return e instanceof Rn}class bs{#dt;#pt;constructor(e){this.#dt=new xs(e),this.#pt=new ks(e)}updateClient(e){this.#dt.updateClient(e),this.#pt.updateClient(e)}async startJSCoverage(e={}){return await this.#dt.start(e)}async stopJSCoverage(){return await this.#dt.stop()}async startCSSCoverage(e={}){return await this.#pt.start(e)}async stopCSSCoverage(){return await this.#pt.stop()}}class xs{#ht;#ft=!1;#mt=new Map;#gt=new Map;#vt;#yt=!1;#wt=!1;#bt=!1;constructor(e){this.#ht=e}updateClient(e){this.#ht=e}async start(e={}){Sn(!this.#ft,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:i=!1,includeRawScriptCoverage:n=!1,useBlockCoverage:r=!0}=e;this.#yt=t,this.#wt=i,this.#bt=n,this.#ft=!0,this.#mt.clear(),this.#gt.clear(),this.#vt=new vn;const a=this.#vt.use(new wn(this.#ht));a.on("Debugger.scriptParsed",this.#xt.bind(this)),a.on("Runtime.executionContextsCleared",this.#kt.bind(this)),await Promise.all([this.#ht.send("Profiler.enable"),this.#ht.send("Profiler.startPreciseCoverage",{callCount:this.#bt,detailed:r}),this.#ht.send("Debugger.enable"),this.#ht.send("Debugger.setSkipAllPauses",{skip:!0})])}#kt(){this.#yt&&(this.#mt.clear(),this.#gt.clear())}async#xt(e){if(!Bn.isPuppeteerURL(e.url)&&(e.url||this.#wt))try{const t=await this.#ht.send("Debugger.getScriptSource",{scriptId:e.scriptId});this.#mt.set(e.scriptId,e.url),this.#gt.set(e.scriptId,t.scriptSource)}catch(e){Nn(e)}}async stop(){Sn(this.#ft,"JSCoverage is not enabled"),this.#ft=!1;const e=await Promise.all([this.#ht.send("Profiler.takePreciseCoverage"),this.#ht.send("Profiler.stopPreciseCoverage"),this.#ht.send("Profiler.disable"),this.#ht.send("Debugger.disable")]);this.#vt?.dispose();const t=[],i=e[0];for(const e of i.result){let i=this.#mt.get(e.scriptId);!i&&this.#wt&&(i="debugger://VM"+e.scriptId);const n=this.#gt.get(e.scriptId);if(void 0===n||void 0===i)continue;const r=[];for(const t of e.functions)r.push(...t.ranges);const a=Ss(r);this.#bt?t.push({url:i,ranges:a,text:n,rawScriptCoverage:e}):t.push({url:i,ranges:a,text:n})}return t}}class ks{#ht;#ft=!1;#St=new Map;#Et=new Map;#_t;#yt=!1;constructor(e){this.#ht=e}updateClient(e){this.#ht=e}async start(e={}){Sn(!this.#ft,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this.#yt=t,this.#ft=!0,this.#St.clear(),this.#Et.clear(),this.#_t=new vn;const i=this.#_t.use(new wn(this.#ht));i.on("CSS.styleSheetAdded",this.#Ct.bind(this)),i.on("Runtime.executionContextsCleared",this.#kt.bind(this)),await Promise.all([this.#ht.send("DOM.enable"),this.#ht.send("CSS.enable"),this.#ht.send("CSS.startRuleUsageTracking")])}#kt(){this.#yt&&(this.#St.clear(),this.#Et.clear())}async#Ct(e){const t=e.header;if(t.sourceURL)try{const e=await this.#ht.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this.#St.set(t.styleSheetId,t.sourceURL),this.#Et.set(t.styleSheetId,e.text)}catch(e){Nn(e)}}async stop(){Sn(this.#ft,"CSSCoverage is not enabled"),this.#ft=!1;const e=await this.#ht.send("CSS.stopRuleUsageTracking");await Promise.all([this.#ht.send("CSS.disable"),this.#ht.send("DOM.disable")]),this.#_t?.dispose();const t=new Map;for(const i of e.ruleUsage){let e=t.get(i.styleSheetId);e||(e=[],t.set(i.styleSheetId,e)),e.push({startOffset:i.startOffset,endOffset:i.endOffset,count:i.used?1:0})}const i=[];for(const e of this.#St.keys()){const n=this.#St.get(e);Sn(void 0!==n,`Stylesheet URL is undefined (styleSheetId=${e})`);const r=this.#Et.get(e);Sn(void 0!==r,`Stylesheet text is undefined (styleSheetId=${e})`);const a=Ss(t.get(e)||[]);i.push({url:n,ranges:a,text:r})}return i}}function Ss(e){const t=[];for(const i of e)t.push({offset:i.startOffset,type:0,range:i}),t.push({offset:i.endOffset,type:1,range:i});t.sort(((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const i=e.range.endOffset-e.range.startOffset,n=t.range.endOffset-t.range.startOffset;return 0===e.type?n-i:i-n}));const i=[],n=[];let r=0;for(const e of t){if(i.length&&r<e.offset&&i[i.length-1]>0){const t=n[n.length-1];t&&t.end===r?t.end=e.offset:n.push({start:r,end:e.offset})}r=e.offset,0===e.type?i.push(e.range.count):i.pop()}return n.filter((e=>e.end-e.start>0))}class Es extends ur{#ht;constructor(e,t,i,n=""){super(t,i,n),this.#ht=e}async handle(e){await this.#ht.send("Page.handleJavaScriptDialog",{accept:e.accept,promptText:e.text})}}var _s=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},Cs=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},Ts=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};class Ps{#Tt;#Pt;#Mt;constructor(e,t,i){this.#Tt=e,this.#Pt=t,this.#Mt=i,this.#Pt.registerState(this)}async setState(e){this.#Tt=e,await this.sync()}get state(){return this.#Tt}async sync(){await Promise.all(this.#Pt.clients().map((e=>this.#Mt(e,this.#Tt))))}}let Ms=(()=>{let e,t,i,n,r,a,s,o,c,l,u,d,p,h,f,m,g,v,y,w,b=[];return class{static{const x="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[Yr],i=[Yr],r=[Yr],s=[Yr],c=[Yr],u=[Yr],p=[Yr],f=[Yr],g=[Yr],y=[Yr],Cs(this,t={value:Ts((async function(e,t){if(!t.viewport)return void await Promise.all([e.send("Emulation.clearDeviceMetricsOverride"),e.send("Emulation.setTouchEmulationEnabled",{enabled:!1})]).catch(Nn);const{viewport:i}=t,n=i.isMobile||!1,r=i.width,a=i.height,s=i.deviceScaleFactor??1,o=i.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},c=i.hasTouch||!1;await Promise.all([e.send("Emulation.setDeviceMetricsOverride",{mobile:n,width:r,height:a,deviceScaleFactor:s,screenOrientation:o}).catch((e=>{if(!e.message.includes("Target does not support metrics override"))throw e;Nn(e)})),e.send("Emulation.setTouchEmulationEnabled",{enabled:c})])}),"#applyViewport")},e,{kind:"method",name:"#applyViewport",static:!1,private:!0,access:{has:e=>#It in e,get:e=>e.#It},metadata:x},null,b),Cs(this,n={value:Ts((async function(e,t){t.active&&(t.overrides?await e.send("Emulation.setIdleOverride",{isUserActive:t.overrides.isUserActive,isScreenUnlocked:t.overrides.isScreenUnlocked}):await e.send("Emulation.clearIdleOverride"))}),"#emulateIdleState")},i,{kind:"method",name:"#emulateIdleState",static:!1,private:!0,access:{has:e=>#Ot in e,get:e=>e.#Ot},metadata:x},null,b),Cs(this,a={value:Ts((async function(e,t){if(t.active)try{await e.send("Emulation.setTimezoneOverride",{timezoneId:t.timezoneId||""})}catch(e){if(pr(e)&&e.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${t.timezoneId}`);throw e}}),"#emulateTimezone")},r,{kind:"method",name:"#emulateTimezone",static:!1,private:!0,access:{has:e=>#At in e,get:e=>e.#At},metadata:x},null,b),Cs(this,o={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setEmulatedVisionDeficiency",{type:t.visionDeficiency||"none"})}),"#emulateVisionDeficiency")},s,{kind:"method",name:"#emulateVisionDeficiency",static:!1,private:!0,access:{has:e=>#Lt in e,get:e=>e.#Lt},metadata:x},null,b),Cs(this,l={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setCPUThrottlingRate",{rate:t.factor??1})}),"#emulateCpuThrottling")},c,{kind:"method",name:"#emulateCpuThrottling",static:!1,private:!0,access:{has:e=>#Rt in e,get:e=>e.#Rt},metadata:x},null,b),Cs(this,d={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setEmulatedMedia",{features:t.mediaFeatures})}),"#emulateMediaFeatures")},u,{kind:"method",name:"#emulateMediaFeatures",static:!1,private:!0,access:{has:e=>#Ft in e,get:e=>e.#Ft},metadata:x},null,b),Cs(this,h={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setEmulatedMedia",{media:t.type||""})}),"#emulateMediaType")},p,{kind:"method",name:"#emulateMediaType",static:!1,private:!0,access:{has:e=>#Nt in e,get:e=>e.#Nt},metadata:x},null,b),Cs(this,m={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setGeolocationOverride",t.geoLocation?{longitude:t.geoLocation.longitude,latitude:t.geoLocation.latitude,accuracy:t.geoLocation.accuracy}:void 0)}),"#setGeolocation")},f,{kind:"method",name:"#setGeolocation",static:!1,private:!0,access:{has:e=>#Dt in e,get:e=>e.#Dt},metadata:x},null,b),Cs(this,v={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setDefaultBackgroundColorOverride",{color:t.color})}),"#setDefaultBackgroundColor")},g,{kind:"method",name:"#setDefaultBackgroundColor",static:!1,private:!0,access:{has:e=>#jt in e,get:e=>e.#jt},metadata:x},null,b),Cs(this,w={value:Ts((async function(e,t){t.active&&await e.send("Emulation.setScriptExecutionDisabled",{value:!t.javaScriptEnabled})}),"#setJavaScriptEnabled")},y,{kind:"method",name:"#setJavaScriptEnabled",static:!1,private:!0,access:{has:e=>#Bt in e,get:e=>e.#Bt},metadata:x},null,b),x&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x})}#ht=_s(this,b);#$t=!1;#qt=!1;#Ut=[];#zt=new Ps({active:!1},this,this.#It);#Ht=new Ps({active:!1},this,this.#Ot);#Wt=new Ps({active:!1},this,this.#At);#Kt=new Ps({active:!1},this,this.#Lt);#Gt=new Ps({active:!1},this,this.#Rt);#Vt=new Ps({active:!1},this,this.#Ft);#Xt=new Ps({active:!1},this,this.#Nt);#Yt=new Ps({active:!1},this,this.#Dt);#Jt=new Ps({active:!1},this,this.#jt);#Qt=new Ps({javaScriptEnabled:!0,active:!1},this,this.#Bt);#Zt=new Set;constructor(e){this.#ht=e}updateClient(e){this.#ht=e,this.#Zt.delete(e)}registerState(e){this.#Ut.push(e)}clients(){return[this.#ht,...Array.from(this.#Zt)]}async registerSpeculativeSession(e){this.#Zt.add(e),e.once(cr.Disconnected,(()=>{this.#Zt.delete(e)})),Promise.all(this.#Ut.map((e=>e.sync().catch(Nn))))}get javascriptEnabled(){return this.#Qt.state.javaScriptEnabled}async emulateViewport(e){const t=this.#zt.state;if(!e&&!t.active)return!1;await this.#zt.setState(e?{viewport:e,active:!0}:{active:!1});const i=e?.isMobile||!1,n=e?.hasTouch||!1,r=this.#$t!==i||this.#qt!==n;return this.#$t=i,this.#qt=n,r}get#It(){return t.value}async emulateIdleState(e){await this.#Ht.setState({active:!0,overrides:e})}get#Ot(){return n.value}get#At(){return a.value}async emulateTimezone(e){await this.#Wt.setState({timezoneId:e,active:!0})}get#Lt(){return o.value}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","reducedContrast","tritanopia"]);Sn(!e||t.has(e),`Unsupported vision deficiency: ${e}`),await this.#Kt.setState({active:!0,visionDeficiency:e})}get#Rt(){return l.value}async emulateCPUThrottling(e){Sn(null===e||e>=1,"Throttling rate should be greater or equal to 1"),await this.#Gt.setState({active:!0,factor:e??void 0})}get#Ft(){return d.value}async emulateMediaFeatures(e){if(Array.isArray(e))for(const t of e){const e=t.name;Sn(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(e),"Unsupported media feature: "+e)}await this.#Vt.setState({active:!0,mediaFeatures:e})}get#Nt(){return h.value}async emulateMediaType(e){Sn("screen"===e||"print"===e||void 0===(e??void 0),"Unsupported media type: "+e),await this.#Xt.setState({type:e,active:!0})}get#Dt(){return m.value}async setGeolocation(e){const{longitude:t,latitude:i,accuracy:n=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(i<-90||i>90)throw new Error(`Invalid latitude "${i}": precondition -90 <= LATITUDE <= 90 failed.`);if(n<0)throw new Error(`Invalid accuracy "${n}": precondition 0 <= ACCURACY failed.`);await this.#Yt.setState({active:!0,geoLocation:{longitude:t,latitude:i,accuracy:n}})}get#jt(){return v.value}async resetDefaultBackgroundColor(){await this.#Jt.setState({active:!0,color:void 0})}async setTransparentBackgroundColor(){await this.#Jt.setState({active:!0,color:{r:0,g:0,b:0,a:0}})}get#Bt(){return w.value}async setJavaScriptEnabled(e){await this.#Qt.setState({active:!0,javaScriptEnabled:e})}}})();class Is extends wn{#tt;#ei=new Map;#ti=new Map;#ii=new Map;#ni;#ri;#ai=new WeakMap;#si=ar.create();#oi=new Set;constructor(e,t,i){super(),this.#tt=e,this.#ni=i,this.#ri=t,this.#tt.on("Target.targetCreated",this.#ci),this.#tt.on("Target.targetDestroyed",this.#li),this.#tt.on(cr.SessionDetached,this.#ui),this.setupAttachmentListeners(this.#tt)}setupAttachmentListeners(e){const t=t=>this.#di(e,t);Sn(!this.#ai.has(e)),this.#ai.set(e,t),e.on("Target.attachedToTarget",t)}#ui=e=>{this.removeSessionListeners(e),this.#ii.delete(e.id())};removeSessionListeners(e){this.#ai.has(e)&&(e.off("Target.attachedToTarget",this.#ai.get(e)),this.#ai.delete(e))}getAvailableTargets(){return this.#ti}getChildTargets(e){return new Set}dispose(){this.#tt.off("Target.targetCreated",this.#ci),this.#tt.off("Target.targetDestroyed",this.#li)}async initialize(){await this.#tt.send("Target.setDiscoverTargets",{discover:!0,filter:[{}]}),this.#oi=new Set(this.#ei.keys()),await this.#si.valueOrThrow()}#ci=async e=>{if(this.#ei.has(e.targetInfo.targetId))return;if(this.#ei.set(e.targetInfo.targetId,e.targetInfo),"browser"===e.targetInfo.type&&e.targetInfo.attached){const t=this.#ri(e.targetInfo,void 0);return t._initialize(),this.#ti.set(e.targetInfo.targetId,t),void this.#pi(t._targetId)}const t=this.#ri(e.targetInfo,void 0);!this.#ni||this.#ni(t)?(t._initialize(),this.#ti.set(e.targetInfo.targetId,t),this.emit("targetAvailable",t),this.#pi(t._targetId)):this.#pi(e.targetInfo.targetId)};#li=e=>{this.#ei.delete(e.targetId),this.#pi(e.targetId);const t=this.#ti.get(e.targetId);t&&(this.emit("targetGone",t),this.#ti.delete(e.targetId))};#di=async(e,t)=>{const i=t.targetInfo,n=this.#tt.session(t.sessionId);if(!n)throw new Error(`Session ${t.sessionId} was not created.`);const r=this.#ti.get(i.targetId);Sn(r,`Target ${i.targetId} is missing`),n._setTarget(r),this.setupAttachmentListeners(n),this.#ii.set(n.id(),this.#ti.get(i.targetId)),e.emit(cr.Ready,n)};#pi(e){this.#oi.delete(e),0===this.#oi.size&&this.#si.resolve()}}class Os{#Ve;#hi;#fi=new WeakMap;constructor(e,t,i){this.#Ve=t,this.#hi=i,this.#fi.set(e,t)}get id(){return this.#Ve}get source(){return this.#hi}getIdForFrame(e){return this.#fi.get(e)}setIdForFrame(e,t){this.#fi.set(e,t)}}class As{id;name;constructor(e,t){this.id=e,this.name=t}}class Ls{#ht;#mi;#Ve;#We=!1;#gi=this.#vi.bind(this);#yi=new Set;devices=[];constructor(e,t,i){this.#ht=e,this.#mi=t,this.#Ve=i.id,this.#ht.on("DeviceAccess.deviceRequestPrompted",this.#gi),this.#ht.on("Target.detachedFromTarget",(()=>{this.#ht=null})),this.#vi(i)}#vi(e){if(e.id===this.#Ve)for(const t of e.devices){if(this.devices.some((e=>e.id===t.id)))continue;const e=new As(t.id,t.name);this.devices.push(e);for(const t of this.#yi)t.filter(e)&&t.promise.resolve(e)}}async waitForDevice(e,t={}){for(const t of this.devices)if(e(t))return t;const{timeout:i=this.#mi.timeout()}=t,n=ar.create({message:`Waiting for \`DeviceRequestPromptDevice\` failed: ${i}ms exceeded`,timeout:i});t.signal&&t.signal.addEventListener("abort",(()=>{n.reject(t.signal?.reason)}),{once:!0});const r={filter:e,promise:n};this.#yi.add(r);try{return await n.valueOrThrow()}finally{this.#yi.delete(r)}}async select(e){return Sn(null!==this.#ht,"Cannot select device through detached session!"),Sn(this.devices.includes(e),"Cannot select unknown device!"),Sn(!this.#We,"Cannot select DeviceRequestPrompt which is already handled!"),this.#ht.off("DeviceAccess.deviceRequestPrompted",this.#gi),this.#We=!0,await this.#ht.send("DeviceAccess.selectPrompt",{id:this.#Ve,deviceId:e.id})}async cancel(){return Sn(null!==this.#ht,"Cannot cancel prompt through detached session!"),Sn(!this.#We,"Cannot cancel DeviceRequestPrompt which is already handled!"),this.#ht.off("DeviceAccess.deviceRequestPrompted",this.#gi),this.#We=!0,await this.#ht.send("DeviceAccess.cancelPrompt",{id:this.#Ve})}}class Rs{#ht;#mi;#wi=new Set;constructor(e,t){this.#ht=e,this.#mi=t,this.#ht.on("DeviceAccess.deviceRequestPrompted",(e=>{this.#bi(e)})),this.#ht.on("Target.detachedFromTarget",(()=>{this.#ht=null}))}async waitForDevicePrompt(e={}){Sn(null!==this.#ht,"Cannot wait for device prompt through detached session!");let t;0===this.#wi.size&&(t=this.#ht.send("DeviceAccess.enable"));const{timeout:i=this.#mi.timeout()}=e,n=ar.create({message:`Waiting for \`DeviceRequestPrompt\` failed: ${i}ms exceeded`,timeout:i});e.signal&&e.signal.addEventListener("abort",(()=>{n.reject(e.signal?.reason)}),{once:!0}),this.#wi.add(n);try{const[e]=await Promise.all([n.valueOrThrow(),t]);return e}finally{this.#wi.delete(n)}}#bi(e){if(!this.#wi.size)return;Sn(null!==this.#ht);const t=new Ls(this.#ht,this.#mi,e);for(const e of this.#wi)e.resolve(t);this.#wi.clear()}}function Fs(e){let t,i;if(e.exception){if(!("object"===e.exception.type&&"error"===e.exception.subtype||e.exception.objectId))return Ds(e.exception);{const n=Ns(e);t=n.name,i=n.message}}else t="Error",i=e.text;const n=i.split("\n").length,r=new Error(i);r.name=t;const a=r.stack.split("\n"),s=a.splice(0,n);if(a.shift(),e.stackTrace&&a.length<Error.stackTraceLimit)for(const t of e.stackTrace.callFrames.reverse()){if(Bn.isPuppeteerURL(t.url)&&t.url!==Bn.INTERNAL_URL){const e=Bn.parse(t.url);a.unshift(`    at ${t.functionName||e.functionName} (${e.functionName} at ${e.siteString}, <anonymous>:${t.lineNumber}:${t.columnNumber})`)}else a.push(`    at ${t.functionName||"<anonymous>"} (${t.url}:${t.lineNumber}:${t.columnNumber})`);if(a.length>=Error.stackTraceLimit)break}return r.stack=[...s,...a].join("\n"),r}const Ns=e=>{let t,i="";const n=e.exception?.description?.split("\n    at ")??[],r=Math.min(e.stackTrace?.callFrames.length??0,n.length-1);return n.splice(-r,r),e.exception?.className&&(i=e.exception.className),t=n.join("\n"),i&&t.startsWith(`${i}: `)&&(t=t.slice(i.length+2)),{message:t,name:i}};function Ds(e){if(Sn(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value}function js(e,t,i){globalThis[t]||Object.assign(globalThis,{[t](...n){const r=globalThis[t];r.args??=new Map,r.callbacks??=new Map;const a=(r.lastSeq??0)+1;return r.lastSeq=a,r.args.set(a,n),globalThis[i+t](JSON.stringify({type:e,name:t,seq:a,args:n,isTrivial:!n.some((e=>e instanceof Node))})),new Promise(((e,t)=>{r.callbacks.set(a,{resolve(t){r.args.delete(a),e(t)},reject(e){r.args.delete(a),t(e)}})}))}})}const Bs="puppeteer_";class $s extends ra{#e=!1;#xi;#he;constructor(e,t){super(),this.#he=e,this.#xi=t}get disposed(){return this.#e}get realm(){return this.#he}get client(){return this.realm.environment.client}async jsonValue(){if(!this.#xi.objectId)return Ds(this.#xi);const e=await this.evaluate((e=>e));if(void 0===e)throw new Error("Could not serialize referenced object");return e}asElement(){return null}async dispose(){this.#e||(this.#e=!0,await qs(this.client,this.#xi))}toString(){if(!this.#xi.objectId)return"JSHandle:"+Ds(this.#xi);return"JSHandle@"+(this.#xi.subtype||this.#xi.type)}get id(){return this.#xi.objectId}remoteObject(){return this.#xi}async getProperties(){const e=await this.client.send("Runtime.getProperties",{objectId:this.#xi.objectId,ownProperties:!0}),t=new Map;for(const i of e.result)i.enumerable&&i.value&&t.set(i.name,this.#he.createCdpHandle(i.value));return t}}async function qs(e,t){t.objectId&&await e.send("Runtime.releaseObject",{objectId:t.objectId}).catch((e=>{Nn(e)}))}var Us=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},zs=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0};const Hs=new Set(["StaticText","InlineTextBox"]);let Ws=(()=>{let e,t,i,n,r=da,a=[];return class extends r{static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;e=[Xr()],t=[Xr(),ua],i=[Xr(),ua],n=[Xr()],zs(this,null,e,{kind:"method",name:"contentFrame",static:!1,private:!1,access:{has:e=>"contentFrame"in e,get:e=>e.contentFrame},metadata:s},null,a),zs(this,null,t,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:e=>"scrollIntoView"in e,get:e=>e.scrollIntoView},metadata:s},null,a),zs(this,null,i,{kind:"method",name:"uploadFile",static:!1,private:!1,access:{has:e=>"uploadFile"in e,get:e=>e.uploadFile},metadata:s},null,a),zs(this,null,n,{kind:"method",name:"autofill",static:!1,private:!1,access:{has:e=>"autofill"in e,get:e=>e.autofill},metadata:s},null,a),s&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}#ki=Us(this,a);constructor(e,t){super(new $s(e,t))}get realm(){return this.handle.realm}get client(){return this.handle.client}remoteObject(){return this.handle.remoteObject()}get#Si(){return this.frame._frameManager}get frame(){return this.realm.environment}async contentFrame(){const e=await this.client.send("DOM.describeNode",{objectId:this.id});return"string"!=typeof e.node.frameId?null:this.#Si.frame(e.node.frameId)}async scrollIntoView(){await this.assertConnectedElement();try{await this.client.send("DOM.scrollIntoViewIfNeeded",{objectId:this.id})}catch(e){Nn(e),await super.scrollIntoView()}}async uploadFile(...e){const t=await this.evaluate((e=>e.multiple));Sn(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>");const i=xn.value.path;if(i&&(e=e.map((e=>i.win32.isAbsolute(e)||i.posix.isAbsolute(e)?e:i.resolve(e)))),0===e.length)return void await this.evaluate((e=>{e.files=(new DataTransfer).files,e.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}));const{node:{backendNodeId:n}}=await this.client.send("DOM.describeNode",{objectId:this.id});await this.client.send("DOM.setFileInputFiles",{objectId:this.id,files:e,backendNodeId:n})}async autofill(e){const t=(await this.client.send("DOM.describeNode",{objectId:this.handle.id})).node.backendNodeId,i=this.frame._id;await this.client.send("Autofill.trigger",{fieldId:t,frameId:i,card:e.creditCard})}async*queryAXTree(e,t){const{nodes:i}=await this.client.send("Accessibility.queryAXTree",{objectId:this.id,accessibleName:e,role:t}),n=i.filter((e=>!e.ignored&&(!!e.role&&!Hs.has(e.role.value))));return yield*Cr.map(n,(e=>this.realm.adoptBackendNode(e.backendDOMNodeId)))}async backendNodeId(){if(this.#ki)return this.#ki;const{node:e}=await this.client.send("DOM.describeNode",{objectId:this.handle.id});return this.#ki=e.backendNodeId,this.#ki}}})();var Ks=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Gs=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});const Vs=new us("__ariaQuerySelector",Pr.queryOne,""),Xs=new us("__ariaQuerySelectorAll",(async(e,t)=>{const i=Pr.queryAll(e,t);return await e.realm.evaluateHandle(((...e)=>e),...await Cr.collect(i))}),"");class Ys extends wn{#ht;#he;#Ve;#Ae;#Ei=new vn;constructor(e,t,i){super(),this.#ht=e,this.#he=i,this.#Ve=t.id,t.name&&(this.#Ae=t.name);const n=this.#Ei.use(new wn(this.#ht));n.on("Runtime.bindingCalled",this.#_i.bind(this)),n.on("Runtime.executionContextDestroyed",(async e=>{e.executionContextId===this.#Ve&&this[mn]()})),n.on("Runtime.executionContextsCleared",(async()=>{this[mn]()})),n.on("Runtime.consoleAPICalled",this.#Ci.bind(this)),n.on(cr.Disconnected,(()=>{this[mn]()}))}#Ti=new Map;#v=new sr;async#Pi(e){const t={stack:[],error:void 0,hasError:!1};try{if(this.#Ti.has(e.name))return;Ks(t,await this.#v.acquire(),!1);try{await this.#ht.send("Runtime.addBinding",this.#Ae?{name:Bs+e.name,executionContextName:this.#Ae}:{name:Bs+e.name,executionContextId:this.#Ve}),await this.evaluate(js,"internal",e.name,Bs),this.#Ti.set(e.name,e)}catch(e){if(e instanceof Error){if(e.message.includes("Execution context was destroyed"))return;if(e.message.includes("Cannot find context with specified id"))return}Nn(e)}}catch(e){t.error=e,t.hasError=!0}finally{Gs(t)}}async#_i(e){if(e.executionContextId!==this.#Ve)return;let t;try{t=JSON.parse(e.payload)}catch{return}const{type:i,name:n,seq:r,args:a,isTrivial:s}=t;if("internal"===i)if(this.#Ti.has(n))try{const e=this.#Ti.get(n);await(e?.run(this,r,a,s))}catch(e){Nn(e)}else this.emit("bindingcalled",e);else this.emit("bindingcalled",e)}get id(){return this.#Ve}#Ci(e){e.executionContextId===this.#Ve&&this.emit("consoleapicalled",e)}#Mi=!1;#Ii;get puppeteerUtil(){let e=Promise.resolve();return this.#Mi||(e=Promise.all([this.#Oi(Vs),this.#Oi(Xs)]),this.#Mi=!0),Ir.inject((t=>{this.#Ii&&this.#Ii.then((e=>{e.dispose()})),this.#Ii=e.then((()=>this.evaluateHandle(t)))}),!this.#Ii),this.#Ii}async#Oi(e){try{await this.#Pi(e)}catch(e){Nn(e)}}async evaluate(e,...t){return await this.#Ai(!0,e,...t)}async evaluateHandle(e,...t){return await this.#Ai(!1,e,...t)}async#Ai(e,t,...i){const n=Xn(qn(t)?.toString()??Bn.INTERNAL_URL);if(Un(t)){const i=this.#Ve,r=t,a=Vn.test(r)?r:`${r}\n${n}\n`,{exceptionDetails:s,result:o}=await this.#ht.send("Runtime.evaluate",{expression:a,contextId:i,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(Js);if(s)throw Fs(s);return e?Ds(o):this.#he.createCdpHandle(o)}const r=gr(t),a=Vn.test(r)?r:`${r}\n${n}\n`;let s;try{s=this.#ht.send("Runtime.callFunctionOn",{functionDeclaration:a,executionContextId:this.#Ve,arguments:i.some((e=>e instanceof kr))?await Promise.all(i.map((e=>async function(e,t){t instanceof kr&&(t=await t.get(e));return l(e,t)}(this,e)))):i.map((e=>l(this,e))),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Recursive objects are not allowed."),e}const{exceptionDetails:o,result:c}=await s.catch(Js);if(o)throw Fs(o);return e?Ds(c):this.#he.createCdpHandle(c);function l(e,t){if("bigint"==typeof t)return{unserializableValue:`${t.toString()}n`};if(Object.is(t,-0))return{unserializableValue:"-0"};if(Object.is(t,1/0))return{unserializableValue:"Infinity"};if(Object.is(t,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(t,NaN))return{unserializableValue:"NaN"};const i=t&&(t instanceof $s||t instanceof Ws)?t:null;if(i){if(i.realm!==e.#he)throw new Error("JSHandles can be evaluated only in the context they were created!");if(i.disposed)throw new Error("JSHandle is disposed!");return i.remoteObject().unserializableValue?{unserializableValue:i.remoteObject().unserializableValue}:i.remoteObject().objectId?{objectId:i.remoteObject().objectId}:{value:i.remoteObject().value}}return{value:t}}}[mn](){this.#Ei.dispose(),this.emit("disposed",void 0)}}const Js=e=>{if(e.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e};var Qs;!function(e){e.FrameAttached=Symbol("FrameManager.FrameAttached"),e.FrameNavigated=Symbol("FrameManager.FrameNavigated"),e.FrameDetached=Symbol("FrameManager.FrameDetached"),e.FrameSwapped=Symbol("FrameManager.FrameSwapped"),e.LifecycleEvent=Symbol("FrameManager.LifecycleEvent"),e.FrameNavigatedWithinDocument=Symbol("FrameManager.FrameNavigatedWithinDocument"),e.ConsoleApiCalled=Symbol("FrameManager.ConsoleApiCalled"),e.BindingCalled=Symbol("FrameManager.BindingCalled")}(Qs||(Qs={}));class Zs extends Za{#Li;#i=new wn;#Ri;constructor(e,t){super(t),this.#Ri=e}get environment(){return this.#Ri}get client(){return this.#Ri.client}get emitter(){return this.#i}setContext(e){this.#Li?.[mn](),e.once("disposed",this.#Fi.bind(this)),e.on("consoleapicalled",this.#Ni.bind(this)),e.on("bindingcalled",this.#Di.bind(this)),this.#Li=e,this.#i.emit("context",e),this.taskManager.rerunAll()}#Fi(){this.#Li=void 0,"clearDocumentHandle"in this.#Ri&&this.#Ri.clearDocumentHandle()}#Ni(e){this.#i.emit("consoleapicalled",e)}#Di(e){this.#i.emit("bindingcalled",e)}hasContext(){return!!this.#Li}get context(){return this.#Li}#ji(){if(this.disposed)throw new Error(`Execution context is not available in detached frame or worker "${this.environment.url()}" (are you trying to evaluate?)`);return this.#Li}async#Bi(){const e=new Error("Execution context was destroyed");return await Mi(er(this.#i,"context").pipe(un(er(this.#i,"disposed").pipe(Ii((()=>{throw e}))),Kn(this.timeoutSettings.timeout()))))}async evaluateHandle(e,...t){e=$n(this.evaluateHandle.name,e);let i=this.#ji();return i||(i=await this.#Bi()),await i.evaluateHandle(e,...t)}async evaluate(e,...t){e=$n(this.evaluate.name,e);let i=this.#ji();return i||(i=await this.#Bi()),await i.evaluate(e,...t)}async adoptBackendNode(e){let t=this.#ji();t||(t=await this.#Bi());const{object:i}=await this.client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:t.id});return this.createCdpHandle(i)}async adoptHandle(e){if(e.realm===this)return await e.evaluateHandle((e=>e));const t=await this.client.send("DOM.describeNode",{objectId:e.id});return await this.adoptBackendNode(t.node.backendNodeId)}async transferHandle(e){if(e.realm===this)return e;if(void 0===e.remoteObject().objectId)return e;const t=await this.client.send("DOM.describeNode",{objectId:e.remoteObject().objectId}),i=await this.adoptBackendNode(t.node.backendNodeId);return await e.dispose(),i}createCdpHandle(e){return"node"===e.subtype?new Ws(this,e):new $s(this,e)}[mn](){this.#Li?.[mn](),this.#i.emit("disposed",void 0),super[mn](),this.#i.removeAllListeners()}}const eo=Symbol("mainWorld"),to=Symbol("puppeteerWorld"),io=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);class no{#$i;#Ue;#ye;#qi=null;#vt=new vn;#Ui;#zi;#Hi=ar.create();#Wi=ar.create();#Ki=ar.create();#Gi;#Vi;#Xi;constructor(e,t,i,n,r){Array.isArray(i)?i=i.slice():"string"==typeof i&&(i=[i]),this.#Ui=t._loaderId,this.#$i=i.map((e=>{const t=io.get(e);return Sn(t,"Unknown value for options.waitUntil: "+e),t})),r?.addEventListener("abort",(()=>{this.#zi.reject(r.reason)})),this.#Ue=t,this.#ye=n;this.#vt.use(new wn(t._frameManager)).on(Qs.LifecycleEvent,this.#Yi.bind(this));const a=this.#vt.use(new wn(t));a.on(Ea.FrameNavigatedWithinDocument,this.#Ji.bind(this)),a.on(Ea.FrameNavigated,this.#Qi.bind(this)),a.on(Ea.FrameSwapped,this.#Zi.bind(this)),a.on(Ea.FrameSwappedByActivation,this.#Zi.bind(this)),a.on(Ea.FrameDetached,this.#en.bind(this));const s=this.#vt.use(new wn(e));s.on(os.Request,this.#tn.bind(this)),s.on(os.Response,this.#in.bind(this)),s.on(os.RequestFailed,this.#nn.bind(this)),this.#zi=ar.create({timeout:this.#ye,message:`Navigation timeout of ${this.#ye} ms exceeded`}),this.#Yi()}#tn(e){e.frame()===this.#Ue&&e.isNavigationRequest()&&(this.#qi=e,this.#Xi?.resolve(),this.#Xi=ar.create(),null!==e.response()&&this.#Xi?.resolve())}#nn(e){this.#qi?.id===e.id&&this.#Xi?.resolve()}#in(e){this.#qi?.id===e.request().id&&this.#Xi?.resolve()}#en(e){this.#Ue!==e?this.#Yi():this.#zi.resolve(new Error("Navigating frame was detached"))}async navigationResponse(){return await(this.#Xi?.valueOrThrow()),this.#qi?this.#qi.response():null}sameDocumentNavigationPromise(){return this.#Hi.valueOrThrow()}newDocumentNavigationPromise(){return this.#Ki.valueOrThrow()}lifecyclePromise(){return this.#Wi.valueOrThrow()}terminationPromise(){return this.#zi.valueOrThrow()}#Ji(){this.#Gi=!0,this.#Yi()}#Qi(e){if("BackForwardCacheRestore"===e)return this.#Zi();this.#Yi()}#Zi(){this.#Vi=!0,this.#Yi()}#Yi(){(function e(t,i){for(const e of i)if(!t._lifecycleEvents.has(e))return!1;for(const n of t.childFrames())if(n._hasStartedLoading&&!e(n,i))return!1;return!0})(this.#Ue,this.#$i)&&(this.#Wi.resolve(),this.#Gi&&this.#Hi.resolve(void 0),(this.#Vi||this.#Ue._loaderId!==this.#Ui)&&this.#Ki.resolve(void 0))}dispose(){this.#vt.dispose(),this.#zi.resolve(new Error("LifecycleWatcher disposed"))}}var ro=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},ao=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0};let so=(()=>{let e,t,i,n,r,a,s,o=Ia,c=[];return class extends o{static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;ao(this,null,e,{kind:"method",name:"goto",static:!1,private:!1,access:{has:e=>"goto"in e,get:e=>e.goto},metadata:l},null,c),ao(this,null,t,{kind:"method",name:"waitForNavigation",static:!1,private:!1,access:{has:e=>"waitForNavigation"in e,get:e=>e.waitForNavigation},metadata:l},null,c),ao(this,null,i,{kind:"method",name:"setContent",static:!1,private:!1,access:{has:e=>"setContent"in e,get:e=>e.setContent},metadata:l},null,c),ao(this,null,n,{kind:"method",name:"addPreloadScript",static:!1,private:!1,access:{has:e=>"addPreloadScript"in e,get:e=>e.addPreloadScript},metadata:l},null,c),ao(this,null,r,{kind:"method",name:"addExposedFunctionBinding",static:!1,private:!1,access:{has:e=>"addExposedFunctionBinding"in e,get:e=>e.addExposedFunctionBinding},metadata:l},null,c),ao(this,null,a,{kind:"method",name:"removeExposedFunctionBinding",static:!1,private:!1,access:{has:e=>"removeExposedFunctionBinding"in e,get:e=>e.removeExposedFunctionBinding},metadata:l},null,c),ao(this,null,s,{kind:"method",name:"waitForDevicePrompt",static:!1,private:!1,access:{has:e=>"waitForDevicePrompt"in e,get:e=>e.waitForDevicePrompt},metadata:l},null,c),l&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})}#_e=(ro(this,c),"");#rn=!1;#ht;_frameManager;_loaderId="";_lifecycleEvents=new Set;_id;_parentId;accessibility;worlds;constructor(e,t,i,n){super(),this._frameManager=e,this.#_e="",this._id=t,this._parentId=i,this.#rn=!1,this.#ht=n,this._loaderId="",this.worlds={[eo]:new Zs(this,this._frameManager.timeoutSettings),[to]:new Zs(this,this._frameManager.timeoutSettings)},this.accessibility=new as(this.worlds[eo],t),this.on(Ea.FrameSwappedByActivation,(()=>{this._onLoadingStarted(),this._onLoadingStopped()})),this.worlds[eo].emitter.on("consoleapicalled",this.#an.bind(this)),this.worlds[eo].emitter.on("bindingcalled",this.#sn.bind(this))}#an(e){this._frameManager.emit(Qs.ConsoleApiCalled,[this.worlds[eo],e])}#sn(e){this._frameManager.emit(Qs.BindingCalled,[this.worlds[eo],e])}_client(){return this.#ht}updateId(e){this._id=e}updateClient(e){this.#ht=e}page(){return this._frameManager.page()}async goto(e,t={}){const{referer:i=this._frameManager.networkManager.extraHTTPHeaders().referer,referrerPolicy:n=this._frameManager.networkManager.extraHTTPHeaders()["referer-policy"],waitUntil:r=["load"],timeout:a=this._frameManager.timeoutSettings.navigationTimeout()}=t;let s=!1;const o=new no(this._frameManager.networkManager,this,r,a);let c=await ar.race([async function(e,t,i,n,r){try{const a=await e.send("Page.navigate",{url:t,referrer:i,frameId:r,referrerPolicy:n});return s=!!a.loaderId,"net::ERR_HTTP_RESPONSE_CODE_FAILURE"===a.errorText?null:a.errorText?new Error(`${a.errorText} at ${t}`):null}catch(e){if(pr(e))return e;throw e}}(this.#ht,e,i,n,this._id),o.terminationPromise()]);c||(c=await ar.race([o.terminationPromise(),s?o.newDocumentNavigationPromise():o.sameDocumentNavigationPromise()]));try{if(c)throw c;return await o.navigationResponse()}finally{o.dispose()}}async waitForNavigation(e={}){const{waitUntil:t=["load"],timeout:i=this._frameManager.timeoutSettings.navigationTimeout(),signal:n}=e,r=new no(this._frameManager.networkManager,this,t,i,n),a=await ar.race([r.terminationPromise(),...e.ignoreSameDocumentNavigation?[]:[r.sameDocumentNavigationPromise()],r.newDocumentNavigationPromise()]);try{if(a)throw a;const e=await ar.race([r.terminationPromise(),r.navigationResponse()]);if(e instanceof Error)throw a;return e||null}finally{r.dispose()}}get client(){return this.#ht}mainRealm(){return this.worlds[eo]}isolatedRealm(){return this.worlds[to]}async setContent(e,t={}){const{waitUntil:i=["load"],timeout:n=this._frameManager.timeoutSettings.navigationTimeout()}=t;await this.setFrameContent(e);const r=new no(this._frameManager.networkManager,this,i,n),a=await ar.race([r.terminationPromise(),r.lifecyclePromise()]);if(r.dispose(),a)throw a}url(){return this.#_e}parentFrame(){return this._frameManager._frameTree.parentFrame(this._id)||null}childFrames(){return this._frameManager._frameTree.childFrames(this._id)}#on(){return this._frameManager._deviceRequestPromptManager(this.#ht)}async addPreloadScript(e){const t=this.parentFrame();if(t&&this.#ht===t.client)return;if(e.getIdForFrame(this))return;const{identifier:i}=await this.#ht.send("Page.addScriptToEvaluateOnNewDocument",{source:e.source});e.setIdForFrame(this,i)}async addExposedFunctionBinding(e){(this===this._frameManager.mainFrame()||this._hasStartedLoading)&&await Promise.all([this.#ht.send("Runtime.addBinding",{name:Bs+e.name}),this.evaluate(e.initSource).catch(Nn)])}async removeExposedFunctionBinding(e){(this===this._frameManager.mainFrame()||this._hasStartedLoading)&&await Promise.all([this.#ht.send("Runtime.removeBinding",{name:Bs+e.name}),this.evaluate((e=>{globalThis[e]=void 0}),e.name).catch(Nn)])}async waitForDevicePrompt(e={}){return await this.#on().waitForDevicePrompt(e)}_navigated(e){this._name=e.name,this.#_e=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this.#_e=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_onLoadingStarted(){this._hasStartedLoading=!0}get detached(){return this.#rn}[(e=[Ma],t=[Ma],i=[Ma],n=[Ma],r=[Ma],a=[Ma],s=[Ma],mn)](){this.#rn||(this.#rn=!0,this.worlds[eo][mn](),this.worlds[to][mn]())}exposeFunction(){throw new Ln}async frameElement(){if(this.page().target()._targetManager()instanceof Is)return await super.frameElement();const e=this.parentFrame();if(!e)return null;const{backendNodeId:t}=await e.client.send("DOM.getFrameOwner",{frameId:this._id});return await e.mainRealm().adoptBackendNode(t)}}})();class oo{#cn=new Map;#ln=new Map;#un=new Map;#dn;#pn=!1;#hn=new Map;getMainFrame(){return this.#dn}getById(e){return this.#cn.get(e)}waitForFrame(e){const t=this.getById(e);if(t)return Promise.resolve(t);const i=ar.create();return(this.#hn.get(e)||new Set).add(i),i.valueOrThrow()}frames(){return Array.from(this.#cn.values())}addFrame(e){this.#cn.set(e._id,e),e._parentId?(this.#ln.set(e._id,e._parentId),this.#un.has(e._parentId)||this.#un.set(e._parentId,new Set),this.#un.get(e._parentId).add(e._id)):this.#dn&&!this.#pn||(this.#dn=e,this.#pn=!1),this.#hn.get(e._id)?.forEach((t=>t.resolve(e)))}removeFrame(e){this.#cn.delete(e._id),this.#ln.delete(e._id),e._parentId?this.#un.get(e._parentId)?.delete(e._id):this.#pn=!0}childFrames(e){const t=this.#un.get(e);return t?Array.from(t).map((e=>this.getById(e))).filter((e=>void 0!==e)):[]}parentFrame(e){const t=this.#ln.get(e);return t?this.getById(t):void 0}}class co extends Oa{id;#ht;#fn;#_e;#mn;#gn;#vn=!1;#yn;#wn={};#Ue;#bn;get client(){return this.#ht}set client(e){this.#ht=e}constructor(e,t,i,n,r,a){super(),this.#ht=e,this.id=r.requestId,this.#fn=r.requestId===r.loaderId&&"Document"===r.type,this._interceptionId=i,this.#_e=r.request.url,this.#mn=(r.type||"other").toLowerCase(),this.#gn=r.request.method,this.#yn=r.request.postData,this.#vn=r.request.hasPostData??!1,this.#Ue=t,this._redirectChain=a,this.#bn=r.initiator,this.interception.enabled=n;for(const[e,t]of Object.entries(r.request.headers))this.#wn[e.toLowerCase()]=t}url(){return this.#_e}resourceType(){return this.#mn}method(){return this.#gn}postData(){return this.#yn}hasPostData(){return this.#vn}async fetchPostData(){try{return(await this.#ht.send("Network.getRequestPostData",{requestId:this.id})).postData}catch(e){return void Nn(e)}}headers(){return this.#wn}response(){return this._response}frame(){return this.#Ue}isNavigationRequest(){return this.#fn}initiator(){return this.#bn}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async _continue(e={}){const{url:t,method:i,postData:n,headers:r}=e;this.interception.handled=!0;const a=n?_n(n):void 0;if(void 0===this._interceptionId)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.continueRequest");await this.#ht.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:i,postData:a,headers:r?La(r):void 0}).catch((e=>(this.interception.handled=!1,Na(e))))}async _respond(e){let t;this.interception.handled=!0,e.body&&(t=Oa.getResponse(e.body));const i={};if(e.headers)for(const t of Object.keys(e.headers)){const n=e.headers[t];i[t.toLowerCase()]=Array.isArray(n)?n.map((e=>String(e))):String(n)}e.contentType&&(i["content-type"]=e.contentType),t?.contentLength&&!("content-length"in i)&&(i["content-length"]=String(t.contentLength));const n=e.status||200;if(void 0===this._interceptionId)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.fulfillRequest");await this.#ht.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:n,responsePhrase:Ra[n],responseHeaders:La(i),body:t?.base64}).catch((e=>(this.interception.handled=!1,Na(e))))}async _abort(e){if(this.interception.handled=!0,void 0===this._interceptionId)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.failRequest");await this.#ht.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:e||"Failed"}).catch(Na)}}class lo{#xn;#kn;#Sn;#En;#_n;#Cn;constructor(e){this.#xn=e.subjectName,this.#kn=e.issuer,this.#Sn=e.validFrom,this.#En=e.validTo,this.#_n=e.protocol,this.#Cn=e.sanList}issuer(){return this.#kn}validFrom(){return this.#Sn}validTo(){return this.#En}protocol(){return this.#_n}subjectName(){return this.#xn}subjectAlternativeNames(){return this.#Cn}}class uo extends Da{#Tn;#Pn=null;#Mn=ar.create();#In;#On;#An;#_e;#Ln;#Rn;#wn={};#Fn;#Nn;constructor(e,t,i){super(),this.#Tn=e,this.#In={ip:t.remoteIPAddress,port:t.remotePort},this.#An=this.#Dn(i)||t.statusText,this.#_e=e.url(),this.#Ln=!!t.fromDiskCache,this.#Rn=!!t.fromServiceWorker,this.#On=i?i.statusCode:t.status;const n=i?i.headers:t.headers;for(const[e,t]of Object.entries(n))this.#wn[e.toLowerCase()]=t;this.#Fn=t.securityDetails?new lo(t.securityDetails):null,this.#Nn=t.timing||null}#Dn(e){if(!e||!e.headersText)return;const t=e.headersText.split("\r",1)[0];if(!t||t.length>1e3)return;const i=t.match(/[^ ]* [^ ]* (.*)/);if(!i)return;const n=i[1];return n||void 0}_resolveBody(e){return e?this.#Mn.reject(e):this.#Mn.resolve()}remoteAddress(){return this.#In}url(){return this.#_e}status(){return this.#On}statusText(){return this.#An}headers(){return this.#wn}securityDetails(){return this.#Fn}timing(){return this.#Nn}content(){return this.#Pn||(this.#Pn=this.#Mn.valueOrThrow().then((async()=>{try{const e=await this.#Tn.client.send("Network.getResponseBody",{requestId:this.#Tn.id});return En(e.body,e.base64Encoded)}catch(e){if(e instanceof An&&"No resource with given identifier found"===e.originalMessage)throw new An("Could not load body for this request. This might happen if the request is a preflight request.");throw e}}))),this.#Pn}request(){return this.#Tn}fromCache(){return this.#Ln||this.#Tn._fromMemoryCache}fromServiceWorker(){return this.#Rn}frame(){return this.#Tn.frame()}}class po{#jn=new Map;#Bn=new Map;#$n=new Map;#qn=new Map;#Un=new Map;#zn=new Map;forget(e){this.#jn.delete(e),this.#Bn.delete(e),this.#zn.delete(e),this.#Un.delete(e),this.#qn.delete(e)}responseExtraInfo(e){return this.#qn.has(e)||this.#qn.set(e,[]),this.#qn.get(e)}queuedRedirectInfo(e){return this.#Un.has(e)||this.#Un.set(e,[]),this.#Un.get(e)}queueRedirectInfo(e,t){this.queuedRedirectInfo(e).push(t)}takeQueuedRedirectInfo(e){return this.queuedRedirectInfo(e).shift()}inFlightRequestsCount(){let e=0;for(const t of this.#$n.values())t.response()||e++;return e}storeRequestWillBeSent(e,t){this.#jn.set(e,t)}getRequestWillBeSent(e){return this.#jn.get(e)}forgetRequestWillBeSent(e){this.#jn.delete(e)}getRequestPaused(e){return this.#Bn.get(e)}forgetRequestPaused(e){this.#Bn.delete(e)}storeRequestPaused(e,t){this.#Bn.set(e,t)}getRequest(e){return this.#$n.get(e)}storeRequest(e,t){this.#$n.set(e,t)}forgetRequest(e){this.#$n.delete(e)}getQueuedEventGroup(e){return this.#zn.get(e)}queueEventGroup(e,t){this.#zn.set(e,t)}forgetQueuedEventGroup(e){this.#zn.delete(e)}printState(){function e(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t instanceof co?{dataType:"CdpHTTPRequest",value:`${t.id}: ${t.url()}`}:t}console.log("httpRequestsMap",JSON.stringify(this.#$n,e,2)),console.log("requestWillBeSentMap",JSON.stringify(this.#jn,e,2)),console.log("requestWillBeSentMap",JSON.stringify(this.#qn,e,2)),console.log("requestWillBeSentMap",JSON.stringify(this.#Bn,e,2))}}class ho extends wn{#Si;#Hn=new po;#Wn;#Kn=null;#Gn=new Set;#Vn=!1;#Xn=!1;#Yn;#Jn;#Qn;#Zn;#n=[["Fetch.requestPaused",this.#er],["Fetch.authRequired",this.#tr],["Network.requestWillBeSent",this.#ir],["Network.requestServedFromCache",this.#nr],["Network.responseReceived",this.#rr],["Network.loadingFinished",this.#ar],["Network.loadingFailed",this.#sr],["Network.responseReceivedExtraInfo",this.#or],[cr.Disconnected,this.#cr]];#lr=new Map;constructor(e){super(),this.#Si=e}async addClient(e){if(this.#lr.has(e))return;const t=new vn;this.#lr.set(e,t);const i=t.use(new wn(e));for(const[t,n]of this.#n)i.on(t,(t=>n.bind(this)(e,t)));await Promise.all([e.send("Network.enable"),this.#ur(e),this.#dr(e),this.#pr(e),this.#hr(e),this.#fr(e)])}async#cr(e){this.#lr.get(e)?.dispose(),this.#lr.delete(e)}async authenticate(e){this.#Kn=e;const t=this.#Vn||!!this.#Kn;t!==this.#Xn&&(this.#Xn=t,await this.#mr(this.#hr.bind(this)))}async setExtraHTTPHeaders(e){const t={};for(const[i,n]of Object.entries(e))Sn(Un(n),`Expected value of header "${i}" to be String, but "${typeof n}" is found.`),t[i.toLowerCase()]=n;this.#Wn=t,await this.#mr(this.#ur.bind(this))}async#ur(e){void 0!==this.#Wn&&await e.send("Network.setExtraHTTPHeaders",{headers:this.#Wn})}extraHTTPHeaders(){return Object.assign({},this.#Wn)}inFlightRequestsCount(){return this.#Hn.inFlightRequestsCount()}async setOfflineMode(e){this.#Jn||(this.#Jn={offline:!1,upload:-1,download:-1,latency:0}),this.#Jn.offline=e,await this.#mr(this.#dr.bind(this))}async emulateNetworkConditions(e){this.#Jn||(this.#Jn={offline:!1,upload:-1,download:-1,latency:0}),this.#Jn.upload=e?e.upload:-1,this.#Jn.download=e?e.download:-1,this.#Jn.latency=e?e.latency:0,await this.#mr(this.#dr.bind(this))}async#mr(e){await Promise.all(Array.from(this.#lr.keys()).map((t=>e(t))))}async#dr(e){void 0!==this.#Jn&&await e.send("Network.emulateNetworkConditions",{offline:this.#Jn.offline,latency:this.#Jn.latency,uploadThroughput:this.#Jn.upload,downloadThroughput:this.#Jn.download})}async setUserAgent(e,t){this.#Qn=e,this.#Zn=t,await this.#mr(this.#fr.bind(this))}async#fr(e){void 0!==this.#Qn&&await e.send("Network.setUserAgentOverride",{userAgent:this.#Qn,userAgentMetadata:this.#Zn})}async setCacheEnabled(e){this.#Yn=!e,await this.#mr(this.#pr.bind(this))}async setRequestInterception(e){this.#Vn=e;const t=this.#Vn||!!this.#Kn;t!==this.#Xn&&(this.#Xn=t,await this.#mr(this.#hr.bind(this)))}async#hr(e){void 0===this.#Yn&&(this.#Yn=!1),this.#Xn?await Promise.all([this.#pr(e),e.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this.#pr(e),e.send("Fetch.disable")])}async#pr(e){void 0!==this.#Yn&&await e.send("Network.setCacheDisabled",{cacheDisabled:this.#Yn})}#ir(e,t){if(!this.#Vn||t.request.url.startsWith("data:"))this.#tn(e,t,void 0);else{const{requestId:i}=t;this.#Hn.storeRequestWillBeSent(i,t);const n=this.#Hn.getRequestPaused(i);if(n){const{requestId:r}=n;this.#gr(t,n),this.#tn(e,t,r),this.#Hn.forgetRequestPaused(i)}}}#tr(e,t){let i="Default";this.#Gn.has(t.requestId)?i="CancelAuth":this.#Kn&&(i="ProvideCredentials",this.#Gn.add(t.requestId));const{username:n,password:r}=this.#Kn||{username:void 0,password:void 0};e.send("Fetch.continueWithAuth",{requestId:t.requestId,authChallengeResponse:{response:i,username:n,password:r}}).catch(Nn)}#er(e,t){!this.#Vn&&this.#Xn&&e.send("Fetch.continueRequest",{requestId:t.requestId}).catch(Nn);const{networkId:i,requestId:n}=t;if(!i)return void this.#vr(e,t);const r=(()=>{const e=this.#Hn.getRequestWillBeSent(i);if(!e||e.request.url===t.request.url&&e.request.method===t.request.method)return e;this.#Hn.forgetRequestWillBeSent(i)})();r?(this.#gr(r,t),this.#tn(e,r,n)):this.#Hn.storeRequestPaused(i,t)}#gr(e,t){e.request.headers={...e.request.headers,...t.request.headers}}#vr(e,t){const i=t.frameId?this.#Si.frame(t.frameId):null,n=new co(e,i,t.requestId,this.#Vn,t,[]);this.emit(os.Request,n),n.finalizeInterceptions()}#tn(e,t,i,n=!1){let r=[];if(t.redirectResponse){let n=null;if(t.redirectHasExtraInfo&&(n=this.#Hn.responseExtraInfo(t.requestId).shift(),!n))return void this.#Hn.queueRedirectInfo(t.requestId,{event:t,fetchRequestId:i});const a=this.#Hn.getRequest(t.requestId);a&&(this.#yr(e,a,t.redirectResponse,n),r=a._redirectChain)}const a=t.frameId?this.#Si.frame(t.frameId):null,s=new co(e,a,i,this.#Vn,t,r);s._fromMemoryCache=n,this.#Hn.storeRequest(t.requestId,s),this.emit(os.Request,s),s.finalizeInterceptions()}#nr(e,t){const i=this.#Hn.getRequestWillBeSent(t.requestId);let n=this.#Hn.getRequest(t.requestId);n&&(n._fromMemoryCache=!0),!n&&i&&(this.#tn(e,i,void 0,!0),n=this.#Hn.getRequest(t.requestId)),n?this.emit(os.RequestServedFromCache,n):Nn(new Error(`Request ${t.requestId} was served from cache but we could not find the corresponding request object`))}#yr(e,t,i,n){const r=new uo(t,i,n);t._response=r,t._redirectChain.push(t),r._resolveBody(new Error("Response body is unavailable for redirect responses")),this.#wr(t,!1),this.emit(os.Response,r),this.emit(os.RequestFinished,t)}#br(e,t,i){const n=this.#Hn.getRequest(t.requestId);if(!n)return;this.#Hn.responseExtraInfo(t.requestId).length&&Nn(new Error("Unexpected extraInfo events for request "+t.requestId)),t.response.fromDiskCache&&(i=null);const r=new uo(n,t.response,i);n._response=r,this.emit(os.Response,r)}#rr(e,t){const i=this.#Hn.getRequest(t.requestId);let n=null;!i||i._fromMemoryCache||!t.hasExtraInfo||(n=this.#Hn.responseExtraInfo(t.requestId).shift(),n)?this.#br(e,t,n):this.#Hn.queueEventGroup(t.requestId,{responseReceivedEvent:t})}#or(e,t){const i=this.#Hn.takeQueuedRedirectInfo(t.requestId);if(i)return this.#Hn.responseExtraInfo(t.requestId).push(t),void this.#tn(e,i.event,i.fetchRequestId);const n=this.#Hn.getQueuedEventGroup(t.requestId);if(n)return this.#Hn.forgetQueuedEventGroup(t.requestId),this.#br(e,n.responseReceivedEvent,t),n.loadingFinishedEvent&&this.#xr(e,n.loadingFinishedEvent),void(n.loadingFailedEvent&&this.#kr(e,n.loadingFailedEvent));this.#Hn.responseExtraInfo(t.requestId).push(t)}#wr(e,t){const i=e.id,n=e._interceptionId;this.#Hn.forgetRequest(i),void 0!==n&&this.#Gn.delete(n),t&&this.#Hn.forget(i)}#ar(e,t){const i=this.#Hn.getQueuedEventGroup(t.requestId);i?i.loadingFinishedEvent=t:this.#xr(e,t)}#xr(e,t){const i=this.#Hn.getRequest(t.requestId);i&&(this.#Sr(e,i),i.response()&&i.response()?._resolveBody(),this.#wr(i,!0),this.emit(os.RequestFinished,i))}#sr(e,t){const i=this.#Hn.getQueuedEventGroup(t.requestId);i?i.loadingFailedEvent=t:this.#kr(e,t)}#kr(e,t){const i=this.#Hn.getRequest(t.requestId);if(!i)return;this.#Sr(e,i),i._failureText=t.errorText;const n=i.response();n&&n._resolveBody(),this.#wr(i,!0),this.emit(os.RequestFailed,i)}#Sr(e,t){e!==t.client&&t.isNavigationRequest()&&(t.client=e)}}class fo extends wn{#Er;#_r;#mi;#Cr=new Set;#ht;#Tr=new Map;#Ti=new Set;_frameTree=new oo;#Pr=new Set;#Mr=new WeakMap;#Ir;get timeoutSettings(){return this.#mi}get networkManager(){return this.#_r}get client(){return this.#ht}constructor(e,t,i){super(),this.#ht=e,this.#Er=t,this.#_r=new ho(this),this.#mi=i,this.setupEventListeners(this.#ht),e.once(cr.Disconnected,(()=>{this.#Or().catch(Nn)}))}async#Or(){const e=this._frameTree.getMainFrame();if(!e)return;for(const t of e.childFrames())this.#Ar(t);const t=ar.create({timeout:100,message:"Frame was not swapped"});e.once(Ea.FrameSwappedByActivation,(()=>{t.resolve()}));try{await t.valueOrThrow()}catch{this.#Ar(e)}}async swapFrameTree(e){this.#ht=e,Sn(this.#ht instanceof ms,"CDPSession is not an instance of CDPSessionImpl.");const t=this._frameTree.getMainFrame();t&&(this.#Pr.add(this.#ht._target()._targetId),this._frameTree.removeFrame(t),t.updateId(this.#ht._target()._targetId),this._frameTree.addFrame(t),t.updateClient(e)),this.setupEventListeners(e),e.once(cr.Disconnected,(()=>{this.#Or().catch(Nn)})),await this.initialize(e,t),await this.#_r.addClient(e),t&&t.emit(Ea.FrameSwappedByActivation,void 0)}async registerSpeculativeSession(e){await this.#_r.addClient(e)}setupEventListeners(e){e.on("Page.frameAttached",(async t=>{await(this.#Ir?.valueOrThrow()),this.#Lr(e,t.frameId,t.parentFrameId)})),e.on("Page.frameNavigated",(async e=>{this.#Pr.add(e.frame.id),await(this.#Ir?.valueOrThrow()),this.#Rr(e.frame,e.type)})),e.on("Page.navigatedWithinDocument",(async e=>{await(this.#Ir?.valueOrThrow()),this.#Fr(e.frameId,e.url)})),e.on("Page.frameDetached",(async e=>{await(this.#Ir?.valueOrThrow()),this.#en(e.frameId,e.reason)})),e.on("Page.frameStartedLoading",(async e=>{await(this.#Ir?.valueOrThrow()),this.#Nr(e.frameId)})),e.on("Page.frameStoppedLoading",(async e=>{await(this.#Ir?.valueOrThrow()),this.#Dr(e.frameId)})),e.on("Runtime.executionContextCreated",(async t=>{await(this.#Ir?.valueOrThrow()),this.#jr(t.context,e)})),e.on("Page.lifecycleEvent",(async e=>{await(this.#Ir?.valueOrThrow()),this.#Br(e)}))}async initialize(e,t){try{this.#Ir?.resolve(),this.#Ir=ar.create(),await Promise.all([this.#_r.addClient(e),e.send("Page.enable"),e.send("Page.getFrameTree").then((({frameTree:t})=>{this.#$r(e,t),this.#Ir?.resolve()})),e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Runtime.enable").then((()=>this.#qr(e,Gn))),...(t?Array.from(this.#Tr.values()):[]).map((e=>t?.addPreloadScript(e))),...(t?Array.from(this.#Ti.values()):[]).map((e=>t?.addExposedFunctionBinding(e)))])}catch(e){if(this.#Ir?.resolve(),pr(e)&&ws(e))return;throw e}}page(){return this.#Er}mainFrame(){const e=this._frameTree.getMainFrame();return Sn(e,"Requesting main frame too early!"),e}frames(){return Array.from(this._frameTree.frames())}frame(e){return this._frameTree.getById(e)||null}async addExposedFunctionBinding(e){this.#Ti.add(e),await Promise.all(this.frames().map((async t=>await t.addExposedFunctionBinding(e))))}async removeExposedFunctionBinding(e){this.#Ti.delete(e),await Promise.all(this.frames().map((async t=>await t.removeExposedFunctionBinding(e))))}async evaluateOnNewDocument(e){const{identifier:t}=await this.mainFrame()._client().send("Page.addScriptToEvaluateOnNewDocument",{source:e}),i=new Os(this.mainFrame(),t,e);return this.#Tr.set(t,i),await Promise.all(this.frames().map((async e=>await e.addPreloadScript(i)))),{identifier:t}}async removeScriptToEvaluateOnNewDocument(e){const t=this.#Tr.get(e);if(!t)throw new Error(`Script to evaluate on new document with id ${e} not found`);this.#Tr.delete(e),await Promise.all(this.frames().map((e=>{const i=t.getIdForFrame(e);if(i)return e._client().send("Page.removeScriptToEvaluateOnNewDocument",{identifier:i}).catch(Nn)})))}onAttachedToTarget(e){if("iframe"!==e._getTargetInfo().type)return;const t=this.frame(e._getTargetInfo().targetId);t&&t.updateClient(e._session()),this.setupEventListeners(e._session()),this.initialize(e._session(),t)}_deviceRequestPromptManager(e){let t=this.#Mr.get(e);return void 0===t&&(t=new Rs(e,this.#mi),this.#Mr.set(e,t)),t}#Br(e){const t=this.frame(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(Qs.LifecycleEvent,t),t.emit(Ea.LifecycleEvent,void 0))}#Nr(e){const t=this.frame(e);t&&t._onLoadingStarted()}#Dr(e){const t=this.frame(e);t&&(t._onLoadingStopped(),this.emit(Qs.LifecycleEvent,t),t.emit(Ea.LifecycleEvent,void 0))}#$r(e,t){if(t.frame.parentId&&this.#Lr(e,t.frame.id,t.frame.parentId),this.#Pr.has(t.frame.id)?this.#Pr.delete(t.frame.id):this.#Rr(t.frame,"Navigation"),t.childFrames)for(const i of t.childFrames)this.#$r(e,i)}#Lr(e,t,i){let n=this.frame(t);if(n){const t=this.frame(i);e&&t&&n.client!==t?.client&&n.updateClient(e)}else n=new so(this,t,i,e),this._frameTree.addFrame(n),this.emit(Qs.FrameAttached,n)}async#Rr(e,t){const i=e.id,n=!e.parentId;let r=this._frameTree.getById(i);if(r)for(const e of r.childFrames())this.#Ar(e);n&&(r?(this._frameTree.removeFrame(r),r._id=i):r=new so(this,i,void 0,this.#ht),this._frameTree.addFrame(r)),r=await this._frameTree.waitForFrame(i),r._navigated(e),this.emit(Qs.FrameNavigated,r),r.emit(Ea.FrameNavigated,t)}async#qr(e,t){const i=`${e.id()}:${t}`;this.#Cr.has(i)||(await e.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${Bn.INTERNAL_URL}`,worldName:t}),await Promise.all(this.frames().filter((t=>t.client===e)).map((i=>e.send("Page.createIsolatedWorld",{frameId:i._id,worldName:t,grantUniveralAccess:!0}).catch(Nn)))),this.#Cr.add(i))}#Fr(e,t){const i=this.frame(e);i&&(i._navigatedWithinDocument(t),this.emit(Qs.FrameNavigatedWithinDocument,i),i.emit(Ea.FrameNavigatedWithinDocument,void 0),this.emit(Qs.FrameNavigated,i),i.emit(Ea.FrameNavigated,"Navigation"))}#en(e,t){const i=this.frame(e);if(i)switch(t){case"remove":this.#Ar(i);break;case"swap":this.emit(Qs.FrameSwapped,i),i.emit(Ea.FrameSwapped,void 0)}}#jr(e,t){const i=e.auxData,n=i&&i.frameId,r="string"==typeof n?this.frame(n):void 0;let a;if(r){if(r.client!==t)return;e.auxData&&e.auxData.isDefault?a=r.worlds[eo]:e.name===Gn&&(a=r.worlds[to])}if(!a)return;const s=new Ys(r?.client||this.#ht,e,a);a.setContext(s)}#Ar(e){for(const t of e.childFrames())this.#Ar(t);e[mn](),this._frameTree.removeFrame(e),this.emit(Qs.FrameDetached,e),e.emit(Ea.FrameDetached,e)}}const mo={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}};class go extends Ba{#ht;#Ur=new Set;_modifiers=0;constructor(e){super(),this.#ht=e}updateClient(e){this.#ht=e}async down(e,t={text:void 0,commands:[]}){const i=this.#zr(e),n=this.#Ur.has(i.code);this.#Ur.add(i.code),this._modifiers|=this.#Hr(i.key);const r=void 0===t.text?i.text:t.text;await this.#ht.send("Input.dispatchKeyEvent",{type:r?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:r,unmodifiedText:r,autoRepeat:n,location:i.location,isKeypad:3===i.location,commands:t.commands})}#Hr(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}#zr(e){const t=8&this._modifiers,i={key:"",keyCode:0,code:"",text:"",location:0},n=mo[e];return Sn(n,`Unknown key: "${e}"`),n.key&&(i.key=n.key),t&&n.shiftKey&&(i.key=n.shiftKey),n.keyCode&&(i.keyCode=n.keyCode),t&&n.shiftKeyCode&&(i.keyCode=n.shiftKeyCode),n.code&&(i.code=n.code),n.location&&(i.location=n.location),1===i.key.length&&(i.text=i.key),n.text&&(i.text=n.text),t&&n.shiftText&&(i.text=n.shiftText),-9&this._modifiers&&(i.text=""),i}async up(e){const t=this.#zr(e);this._modifiers&=~this.#Hr(t.key),this.#Ur.delete(t.code),await this.#ht.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this.#ht.send("Input.insertText",{text:e})}charIsKey(e){return!!mo[e]}async type(e,t={}){const i=t.delay||void 0;for(const t of e)this.charIsKey(t)?await this.press(t,{delay:i}):(i&&await new Promise((e=>setTimeout(e,i))),await this.sendCharacter(t))}async press(e,t={}){const{delay:i=null}=t;await this.down(e,t),i&&await new Promise((e=>setTimeout(e,t.delay))),await this.up(e)}}const vo=e=>{switch(e){case $a.Left:return 1;case $a.Right:return 2;case $a.Middle:return 4;case $a.Back:return 8;case $a.Forward:return 16}},yo=e=>1&e?$a.Left:2&e?$a.Right:4&e?$a.Middle:8&e?$a.Back:16&e?$a.Forward:"none";class wo extends qa{#ht;#Wr;constructor(e,t){super(),this.#ht=e,this.#Wr=t}updateClient(e){this.#ht=e}#Kr={position:{x:0,y:0},buttons:0};get#Tt(){return Object.assign({...this.#Kr},...this.#Gr)}#Gr=[];#Vr(){const e={};this.#Gr.push(e);const t=()=>{this.#Gr.splice(this.#Gr.indexOf(e),1)};return{update:t=>{Object.assign(e,t)},commit:()=>{this.#Kr={...this.#Kr,...e},t()},rollback:t}}async#Xr(e){const{update:t,commit:i,rollback:n}=this.#Vr();try{await e(t),i()}catch(e){throw n(),e}}async reset(){const e=[];for(const[t,i]of[[1,$a.Left],[4,$a.Middle],[2,$a.Right],[16,$a.Forward],[8,$a.Back]])this.#Tt.buttons&t&&e.push(this.up({button:i}));0===this.#Tt.position.x&&0===this.#Tt.position.y||e.push(this.move(0,0)),await Promise.all(e)}async move(e,t,i={}){const{steps:n=1}=i,r=this.#Tt.position,a=e,s=t;for(let e=1;e<=n;e++)await this.#Xr((t=>{t({position:{x:r.x+(a-r.x)*(e/n),y:r.y+(s-r.y)*(e/n)}});const{buttons:i,position:o}=this.#Tt;return this.#ht.send("Input.dispatchMouseEvent",{type:"mouseMoved",modifiers:this.#Wr._modifiers,buttons:i,button:yo(i),...o})}))}async down(e={}){const{button:t=$a.Left,clickCount:i=1}=e,n=vo(t);if(!n)throw new Error(`Unsupported mouse button: ${t}`);if(this.#Tt.buttons&n)throw new Error(`'${t}' is already pressed.`);await this.#Xr((e=>{e({buttons:this.#Tt.buttons|n});const{buttons:r,position:a}=this.#Tt;return this.#ht.send("Input.dispatchMouseEvent",{type:"mousePressed",modifiers:this.#Wr._modifiers,clickCount:i,buttons:r,button:t,...a})}))}async up(e={}){const{button:t=$a.Left,clickCount:i=1}=e,n=vo(t);if(!n)throw new Error(`Unsupported mouse button: ${t}`);if(!(this.#Tt.buttons&n))throw new Error(`'${t}' is not pressed.`);await this.#Xr((e=>{e({buttons:this.#Tt.buttons&~n});const{buttons:r,position:a}=this.#Tt;return this.#ht.send("Input.dispatchMouseEvent",{type:"mouseReleased",modifiers:this.#Wr._modifiers,clickCount:i,buttons:r,button:t,...a})}))}async click(e,t,i={}){const{delay:n,count:r=1,clickCount:a=r}=i;if(r<1)throw new Error("Click must occur a positive number of times.");const s=[this.move(e,t)];if(a===r)for(let e=1;e<r;++e)s.push(this.down({...i,clickCount:e}),this.up({...i,clickCount:e}));s.push(this.down({...i,clickCount:a})),"number"==typeof n&&(await Promise.all(s),s.length=0,await new Promise((e=>{setTimeout(e,n)}))),s.push(this.up({...i,clickCount:a})),await Promise.all(s)}async wheel(e={}){const{deltaX:t=0,deltaY:i=0}=e,{position:n,buttons:r}=this.#Tt;await this.#ht.send("Input.dispatchMouseEvent",{type:"mouseWheel",pointerType:"mouse",modifiers:this.#Wr._modifiers,deltaY:i,deltaX:t,buttons:r,...n})}async drag(e,t){const i=new Promise((e=>{this.#ht.once("Input.dragIntercepted",(t=>e(t.data)))}));return await this.move(e.x,e.y),await this.down(),await this.move(t.x,t.y),await i}async dragEnter(e,t){await this.#ht.send("Input.dispatchDragEvent",{type:"dragEnter",x:e.x,y:e.y,modifiers:this.#Wr._modifiers,data:t})}async dragOver(e,t){await this.#ht.send("Input.dispatchDragEvent",{type:"dragOver",x:e.x,y:e.y,modifiers:this.#Wr._modifiers,data:t})}async drop(e,t){await this.#ht.send("Input.dispatchDragEvent",{type:"drop",x:e.x,y:e.y,modifiers:this.#Wr._modifiers,data:t})}async dragAndDrop(e,t,i={}){const{delay:n=null}=i,r=await this.drag(e,t);await this.dragEnter(t,r),await this.dragOver(t,r),n&&await new Promise((e=>setTimeout(e,n))),await this.drop(t,r),await this.up()}}class bo{#Yr=!1;#Jr;#Qr;#ht;#Wr;constructor(e,t,i,n){this.#ht=e,this.#Jr=t,this.#Wr=i,this.#Qr=n}updateClient(e){this.#ht=e}async start(){if(this.#Yr)throw new On("Touch has already started");await this.#ht.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:[this.#Qr],modifiers:this.#Wr._modifiers}),this.#Yr=!0}move(e,t){return this.#Qr.x=Math.round(e),this.#Qr.y=Math.round(t),this.#ht.send("Input.dispatchTouchEvent",{type:"touchMove",touchPoints:[this.#Qr],modifiers:this.#Wr._modifiers})}async end(){await this.#ht.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[this.#Qr],modifiers:this.#Wr._modifiers}),this.#Jr.removeHandle(this)}}class xo extends Ua{#ht;#Wr;constructor(e,t){super(),this.#ht=e,this.#Wr=t}updateClient(e){this.#ht=e,this.touches.forEach((t=>{t.updateClient(e)}))}async touchStart(e,t){const i=this.idGenerator(),n={x:Math.round(e),y:Math.round(t),radiusX:.5,radiusY:.5,force:.5,id:i},r=new bo(this.#ht,this,this.#Wr,n);return await r.start(),this.touches.push(r),r}}class ko{#ht;#Zr=!1;#ea;constructor(e){this.#ht=e}updateClient(e){this.#ht=e}async start(e={}){Sn(!this.#Zr,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler"],{path:i,screenshots:n=!1,categories:r=t}=e;n&&r.push("disabled-by-default-devtools.screenshot");const a=r.filter((e=>e.startsWith("-"))).map((e=>e.slice(1))),s=r.filter((e=>!e.startsWith("-")));this.#ea=i,this.#Zr=!0,await this.#ht.send("Tracing.start",{transferMode:"ReturnAsStream",traceConfig:{excludedCategories:a,includedCategories:s}})}async stop(){const e=ar.create();return this.#ht.once("Tracing.tracingComplete",(async t=>{try{Sn(t.stream,'Missing "stream"');const i=await Wn(this.#ht,t.stream),n=await Hn(i,this.#ea);e.resolve(n??void 0)}catch(t){pr(t)?e.reject(t):e.reject(new Error(`Unknown error: ${t}`))}})),await this.#ht.send("Tracing.end"),this.#Zr=!1,await e.valueOrThrow()}}class So extends is{#he;#ht;#Ve;#et;constructor(e,t,i,n,r,a){super(t),this.#Ve=i,this.#ht=e,this.#et=n,this.#he=new Zs(this,new za),this.#ht.once("Runtime.executionContextCreated",(async t=>{this.#he.setContext(new Ys(e,t.context,this.#he))})),this.#he.emitter.on("consoleapicalled",(async e=>{try{return r(e.type,e.args.map((e=>new $s(this.#he,e))),e.stackTrace)}catch(e){Nn(e)}})),this.#ht.on("Runtime.exceptionThrown",a),this.#ht.once(cr.Disconnected,(()=>{this.#he.dispose()})),this.#ht.send("Runtime.enable").catch(Nn)}mainRealm(){return this.#he}get client(){return this.#ht}async close(){switch(this.#et){case exports.ao.SERVICE_WORKER:case exports.ao.SHARED_WORKER:await(this.client.connection()?.send("Target.closeTarget",{targetId:this.#Ve})),await(this.client.connection()?.send("Target.detachFromTarget",{sessionId:this.client.id()}));break;default:await this.evaluate((()=>{self.close()}))}}}var Eo=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},_o=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});function Co(e){return"warning"===e?"warn":e}class To extends Va{static async _create(e,t,i){const n=new To(e,t);if(await n.#ta(),i)try{await n.setViewport(i)}catch(e){if(!pr(e)||!ws(e))throw e;Nn(e)}return n}#ct=!1;#ia;#na;#ra;#aa;#sa;#Wr;#oa;#ca;#Si;#la;#ua;#Ti=new Map;#da=new Map;#pa;#ha;#fa=new Map;#ma=new Set;#ga=ar.create();#va=!1;#ya=!1;constructor(e,t){super(),this.#na=e,this.#aa=e.parentSession(),Sn(this.#aa,"Tab target session is not defined."),this.#sa=this.#aa._target(),Sn(this.#sa,"Tab target is not defined."),this.#ra=t,this.#ia=t._targetManager(),this.#Wr=new go(e),this.#oa=new wo(e,this.#Wr),this.#ca=new xo(e,this.#Wr),this.#Si=new fo(e,this,this._timeoutSettings),this.#la=new Ms(e),this.#ua=new ko(e),this.#pa=new bs(e),this.#ha=null;const i=new wn(this.#Si);i.on(Qs.FrameAttached,(e=>{this.emit("frameattached",e)})),i.on(Qs.FrameDetached,(e=>{this.emit("framedetached",e)})),i.on(Qs.FrameNavigated,(e=>{this.emit("framenavigated",e)})),i.on(Qs.ConsoleApiCalled,(([e,t])=>{this.#Ci(e,t)})),i.on(Qs.BindingCalled,(([e,t])=>{this.#_i(e,t)}));const n=new wn(this.#Si.networkManager);n.on(os.Request,(e=>{this.emit("request",e)})),n.on(os.RequestServedFromCache,(e=>{this.emit("requestservedfromcache",e)})),n.on(os.Response,(e=>{this.emit("response",e)})),n.on(os.RequestFailed,(e=>{this.emit("requestfailed",e)})),n.on(os.RequestFinished,(e=>{this.emit("requestfinished",e)})),this.#aa.on(cr.Swapped,this.#wa.bind(this)),this.#aa.on(cr.Ready,this.#ba.bind(this)),this.#ia.on("targetGone",this.#xa),this.#sa._isClosedDeferred.valueOrThrow().then((()=>{this.#ia.off("targetGone",this.#xa),this.emit("close",void 0),this.#ct=!0})).catch(Nn),this.#ka(),this.#Sa()}#Sa(){const e=[];for(const t of this.#ia.getChildTargets(this.#ra))e.push(t);let t=0;for(;t<e.length;){const i=e[t];t++;const n=i._session();n&&this.#di(n);for(const t of this.#ia.getChildTargets(i))e.push(t)}}async#wa(e){this.#na=e,Sn(this.#na instanceof ms,"CDPSession is not instance of CDPSessionImpl"),this.#ra=this.#na._target(),Sn(this.#ra,"Missing target on swap"),this.#Wr.updateClient(e),this.#oa.updateClient(e),this.#ca.updateClient(e),this.#la.updateClient(e),this.#ua.updateClient(e),this.#pa.updateClient(e),await this.#Si.swapFrameTree(e),this.#ka()}async#ba(e){Sn(e instanceof ms),"prerender"===e._target()._subtype()&&(this.#Si.registerSpeculativeSession(e).catch(Nn),this.#la.registerSpeculativeSession(e).catch(Nn))}#ka(){const e=new wn(this.#na);e.on(cr.Ready,this.#di),e.on(cr.Disconnected,(()=>{this.#ga.reject(new Rn("Target closed"))})),e.on("Page.domContentEventFired",(()=>{this.emit("domcontentloaded",void 0)})),e.on("Page.loadEventFired",(()=>{this.emit("load",void 0)})),e.on("Page.javascriptDialogOpening",this.#Ea.bind(this)),e.on("Runtime.exceptionThrown",this.#_a.bind(this)),e.on("Inspector.targetCrashed",this.#Ca.bind(this)),e.on("Performance.metrics",this.#Ta.bind(this)),e.on("Log.entryAdded",this.#Pa.bind(this)),e.on("Page.fileChooserOpened",this.#Ma.bind(this))}#xa=e=>{const t=e._session()?.id(),i=this.#fa.get(t);i&&(this.#fa.delete(t),this.emit("workerdestroyed",i))};#di=e=>{if(Sn(e instanceof ms),this.#Si.onAttachedToTarget(e._target()),"worker"===e._target()._getTargetInfo().type){const t=new So(e,e._target().url(),e._target()._targetId,e._target().type(),this.#Ia.bind(this),this.#_a.bind(this));this.#fa.set(e.id(),t),this.emit("workercreated",t)}e.on(cr.Ready,this.#di)};async#ta(){try{await Promise.all([this.#Si.initialize(this.#na),this.#na.send("Performance.enable"),this.#na.send("Log.enable")])}catch(e){if(!pr(e)||!ws(e))throw e;Nn(e)}}async#Ma(e){const t={stack:[],error:void 0,hasError:!1};try{if(!this.#ma.size)return;const i=this.#Si.frame(e.frameId);Sn(i,"This should never happen.");const n=Eo(t,await i.worlds[eo].adoptBackendNode(e.backendNodeId),!1),r=new ps(n.move(),e);for(const e of this.#ma)e.resolve(r);this.#ma.clear()}catch(e){t.error=e,t.hasError=!0}finally{_o(t)}}_client(){return this.#na}isServiceWorkerBypassed(){return this.#va}isDragInterceptionEnabled(){return this.#ya}isJavaScriptEnabled(){return this.#la.javascriptEnabled}async waitForFileChooser(e={}){const t=0===this.#ma.size,{timeout:i=this._timeoutSettings.timeout()}=e,n=ar.create({message:`Waiting for \`FileChooser\` failed: ${i}ms exceeded`,timeout:i});let r;e.signal&&e.signal.addEventListener("abort",(()=>{n.reject(e.signal?.reason)}),{once:!0}),this.#ma.add(n),t&&(r=this.#na.send("Page.setInterceptFileChooserDialog",{enabled:!0}));try{const[e]=await Promise.all([n.valueOrThrow(),r]);return e}catch(e){throw this.#ma.delete(n),e}}async setGeolocation(e){return await this.#la.setGeolocation(e)}target(){return this.#ra}browser(){return this.#ra.browser()}browserContext(){return this.#ra.browserContext()}#Ca(){this.emit("error",new Error("Page crashed!"))}#Pa(e){const{level:t,text:i,args:n,source:r,url:a,lineNumber:s}=e.entry;n&&n.map((e=>{qs(this.#na,e)})),"worker"!==r&&this.emit("console",new ds(Co(t),i,[],[{url:a,lineNumber:s}]))}mainFrame(){return this.#Si.mainFrame()}get keyboard(){return this.#Wr}get touchscreen(){return this.#ca}get coverage(){return this.#pa}get tracing(){return this.#ua}frames(){return this.#Si.frames()}workers(){return Array.from(this.#fa.values())}async setRequestInterception(e){return await this.#Si.networkManager.setRequestInterception(e)}async setBypassServiceWorker(e){return this.#va=e,await this.#na.send("Network.setBypassServiceWorker",{bypass:e})}async setDragInterception(e){return this.#ya=e,await this.#na.send("Input.setInterceptDrags",{enabled:e})}async setOfflineMode(e){return await this.#Si.networkManager.setOfflineMode(e)}async emulateNetworkConditions(e){return await this.#Si.networkManager.emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}getDefaultTimeout(){return this._timeoutSettings.timeout()}getDefaultNavigationTimeout(){return this._timeoutSettings.navigationTimeout()}async queryObjects(e){Sn(!e.disposed,"Prototype JSHandle is disposed!"),Sn(e.id,"Prototype JSHandle must not be referencing primitive value");const t=await this.mainFrame().client.send("Runtime.queryObjects",{prototypeObjectId:e.id});return this.mainFrame().mainRealm().createCdpHandle(t.objects)}async cookies(...e){const t=(await this.#na.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["sourcePort"];return t.map((e=>{for(const t of i)delete e[t];return e})).map((e=>({...e,partitionKey:e.partitionKey?e.partitionKey.topLevelSite:void 0})))}async deleteCookie(...e){const t=this.url();for(const i of e){const e={...i,partitionKey:Mo(i.partitionKey)};if(!i.url&&t.startsWith("http")&&(e.url=t),await this.#na.send("Network.deleteCookies",e),t.startsWith("http")&&!e.partitionKey){const i=new URL(t);await this.#na.send("Network.deleteCookies",{...e,partitionKey:{topLevelSite:i.origin.replace(`:${i.port}`,""),hasCrossSiteAncestor:!1}})}}}async setCookie(...e){const t=this.url(),i=t.startsWith("http"),n=e.map((e=>{const n=Object.assign({},e);return!n.url&&i&&(n.url=t),Sn("about:blank"!==n.url,`Blank page can not have cookie "${n.name}"`),Sn(!String.prototype.startsWith.call(n.url||"","data:"),`Data URL page can not have cookie "${n.name}"`),n}));await this.deleteCookie(...n),n.length&&await this.#na.send("Network.setCookies",{cookies:n.map((e=>({...e,partitionKey:Mo(e.partitionKey)})))})}async exposeFunction(e,t){if(this.#Ti.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);const i=function(e,t){return zn(js,e,t,Bs)}("exposedFun",e);let n;if("function"==typeof t)n=new us(e,t,i);else n=new us(e,t.default,i);this.#Ti.set(e,n);const[{identifier:r}]=await Promise.all([this.#Si.evaluateOnNewDocument(i),this.#Si.addExposedFunctionBinding(n)]);this.#da.set(e,r)}async removeExposedFunction(e){const t=this.#da.get(e);if(!t)throw new Error(`Function with name "${e}" does not exist`);const i=this.#Ti.get(e);this.#da.delete(e),this.#Ti.delete(e),await Promise.all([this.#Si.removeScriptToEvaluateOnNewDocument(t),this.#Si.removeExposedFunctionBinding(i)])}async authenticate(e){return await this.#Si.networkManager.authenticate(e)}async setExtraHTTPHeaders(e){return await this.#Si.networkManager.setExtraHTTPHeaders(e)}async setUserAgent(e,t){return await this.#Si.networkManager.setUserAgent(e,t)}async metrics(){const e=await this.#na.send("Performance.getMetrics");return this.#Oa(e.metrics)}#Ta(e){this.emit("metrics",{title:e.title,metrics:this.#Oa(e.metrics)})}#Oa(e){const t={};for(const i of e||[])Po.has(i.name)&&(t[i.name]=i.value);return t}#_a(e){this.emit("pageerror",function(e){let t,i;if(e.exception){if(!("object"===e.exception.type&&"error"===e.exception.subtype||e.exception.objectId))return Ds(e.exception);{const n=Ns(e);t=n.name,i=n.message}}else t="Error",i=e.text;const n=new Error(i);n.name=t;const r=n.message.split("\n").length,a=n.stack.split("\n").splice(0,r),s=[];if(e.stackTrace)for(const t of e.stackTrace.callFrames)if(s.push(`    at ${t.functionName||"<anonymous>"} (${t.url}:${t.lineNumber+1}:${t.columnNumber+1})`),s.length>=Error.stackTraceLimit)break;return n.stack=[...a,...s].join("\n"),n}(e.exceptionDetails))}#Ci(e,t){const i=t.args.map((t=>e.createCdpHandle(t)));this.#Ia(Co(t.type),i,t.stackTrace)}async#_i(e,t){let i;try{i=JSON.parse(t.payload)}catch{return}const{type:n,name:r,seq:a,args:s,isTrivial:o}=i;if("exposedFun"!==n)return;const c=e.context;if(!c)return;const l=this.#Ti.get(r);await(l?.run(c,a,s,o))}#Ia(e,t,i){if(!this.listenerCount("console"))return void t.forEach((e=>e.dispose()));const n=[];for(const e of t){const t=e.remoteObject();t.objectId?n.push(e.toString()):n.push(Ds(t))}const r=[];if(i)for(const e of i.callFrames)r.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber});const a=new ds(Co(e),n.join(" "),t,r);this.emit("console",a)}#Ea(e){const t=function(e){let t=null;return new Set(["alert","confirm","prompt","beforeunload"]).has(e)&&(t=e),Sn(t,`Unknown javascript dialog type: ${e}`),t}(e.type),i=new Es(this.#na,t,e.message,e.defaultPrompt);this.emit("dialog",i)}async reload(e){const[t]=await Promise.all([this.waitForNavigation({...e,ignoreSameDocumentNavigation:!0}),this.#na.send("Page.reload")]);return t}async createCDPSession(){return await this.target().createCDPSession()}async goBack(e={}){return await this.#Aa(-1,e)}async goForward(e={}){return await this.#Aa(1,e)}async#Aa(e,t){const i=await this.#na.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];if(!n)return null;return(await Promise.all([this.waitForNavigation(t),this.#na.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]}async bringToFront(){await this.#na.send("Page.bringToFront")}async setJavaScriptEnabled(e){return await this.#la.setJavaScriptEnabled(e)}async setBypassCSP(e){await this.#na.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){return await this.#la.emulateMediaType(e)}async emulateCPUThrottling(e){return await this.#la.emulateCPUThrottling(e)}async emulateMediaFeatures(e){return await this.#la.emulateMediaFeatures(e)}async emulateTimezone(e){return await this.#la.emulateTimezone(e)}async emulateIdleState(e){return await this.#la.emulateIdleState(e)}async emulateVisionDeficiency(e){return await this.#la.emulateVisionDeficiency(e)}async setViewport(e){const t=await this.#la.emulateViewport(e);this.#ha=e,t&&await this.reload()}viewport(){return this.#ha}async evaluateOnNewDocument(e,...t){const i=zn(e,...t);return await this.#Si.evaluateOnNewDocument(i)}async removeScriptToEvaluateOnNewDocument(e){return await this.#Si.removeScriptToEvaluateOnNewDocument(e)}async setCacheEnabled(e=!0){await this.#Si.networkManager.setCacheEnabled(e)}async _screenshot(e){const t={stack:[],error:void 0,hasError:!1};try{const{fromSurface:i,omitBackground:n,optimizeForSpeed:r,quality:a,clip:s,type:o,captureBeyondViewport:c}=e,l=this.target()._targetManager()instanceof Is,u=Eo(t,new yn,!0);l||!n||"png"!==o&&"webp"!==o||(await this.#la.setTransparentBackgroundColor(),u.defer((async()=>{await this.#la.resetDefaultBackgroundColor().catch(Nn)})));let d=s;if(d&&!c){d=function(e,t){const i=Math.max(e.x,t.x),n=Math.max(e.y,t.y);return{x:i,y:n,width:Math.max(Math.min(e.x+e.width,t.x+t.width)-i,0),height:Math.max(Math.min(e.y+e.height,t.y+t.height)-n,0)}}(d,await this.mainFrame().isolatedRealm().evaluate((()=>{const{height:e,pageLeft:t,pageTop:i,width:n}=window.visualViewport;return{x:t,y:i,height:e,width:n}})))}const{data:p}=await this.#na.send("Page.captureScreenshot",{format:o,...r?{optimizeForSpeed:r}:{},...void 0!==a?{quality:Math.round(a)}:{},...d?{clip:{...d,scale:d.scale??1}}:{},...i?{}:{fromSurface:i},captureBeyondViewport:c});return p}catch(e){t.error=e,t.hasError=!0}finally{const e=_o(t);e&&await e}}async createPDFStream(e={}){const{timeout:t=this._timeoutSettings.timeout()}=e,{landscape:i,displayHeaderFooter:n,headerTemplate:r,footerTemplate:a,printBackground:s,scale:o,width:c,height:l,margin:u,pageRanges:d,preferCSSPageSize:p,omitBackground:h,tagged:f,outline:m,waitForFonts:g}=Jn(e);h&&await this.#la.setTransparentBackgroundColor(),g&&await Mi(Ci(this.mainFrame().isolatedRealm().evaluate((()=>document.fonts.ready))).pipe(un(Kn(t))));const v=this.#na.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:i,displayHeaderFooter:n,headerTemplate:r,footerTemplate:a,printBackground:s,scale:o,paperWidth:c,paperHeight:l,marginTop:u.top,marginBottom:u.bottom,marginLeft:u.left,marginRight:u.right,pageRanges:d,preferCSSPageSize:p,generateTaggedPDF:f,generateDocumentOutline:m}),y=await Mi(Ci(v).pipe(un(Kn(t))));return h&&await this.#la.resetDefaultBackgroundColor(),Sn(y.stream,"`stream` is missing from `Page.printToPDF"),await Wn(this.#na,y.stream)}async pdf(e={}){const{path:t}=e,i=await this.createPDFStream(e),n=await Hn(i,t);return Sn(n,"Could not create typed array"),n}async close(e={runBeforeUnload:void 0}){const t={stack:[],error:void 0,hasError:!1};try{Eo(t,await this.browserContext().waitForScreenshotOperations(),!1);const i=this.#na.connection();Sn(i,"Protocol error: Connection closed. Most likely the page has been closed.");!!e.runBeforeUnload?await this.#na.send("Page.close"):(await i.send("Target.closeTarget",{targetId:this.#ra._targetId}),await this.#sa._isClosedDeferred.valueOrThrow())}catch(e){t.error=e,t.hasError=!0}finally{_o(t)}}isClosed(){return this.#ct}get mouse(){return this.#oa}async waitForDevicePrompt(e={}){return await this.mainFrame().waitForDevicePrompt(e)}}const Po=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);function Mo(e){if(void 0!==e)return"string"==typeof e?{topLevelSite:e,hasCrossSiteAncestor:!1}:{topLevelSite:e.sourceOrigin,hasCrossSiteAncestor:e.hasCrossSiteAncestor??!1}}var Io,Oo=function(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],i&&(r=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:i})}else i&&e.stack.push({async:!0});return t},Ao=function(e){return function(t){function i(i){t.error=t.hasError?new e(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===r)return r=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(e,(function(t){return i(t),e()}))}else r|=1}catch(e){i(e)}if(1===r)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,i){var n=new Error(i);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Lo extends or{#tt;#La;#Ve;constructor(e,t,i){super(),this.#tt=e,this.#La=t,this.#Ve=i}get id(){return this.#Ve}targets(){return this.#La.targets().filter((e=>e.browserContext()===this))}async pages(){return(await Promise.all(this.targets().filter((e=>"page"===e.type()||"other"===e.type()&&this.#La._getIsPageTargetCallback()?.(e))).map((e=>e.page())))).filter((e=>!!e))}async overridePermissions(e,t){const i=t.map((e=>{const t=nr.get(e);if(!t)throw new Error("Unknown permission: "+e);return t}));await this.#tt.send("Browser.grantPermissions",{origin:e,browserContextId:this.#Ve||void 0,permissions:i})}async clearPermissionOverrides(){await this.#tt.send("Browser.resetPermissions",{browserContextId:this.#Ve||void 0})}async newPage(){const e={stack:[],error:void 0,hasError:!1};try{Oo(e,await this.waitForScreenshotOperations(),!1);return await this.#La._createPageInContext(this.#Ve)}catch(t){e.error=t,e.hasError=!0}finally{Ao(e)}}browser(){return this.#La}async close(){Sn(this.#Ve,"Default BrowserContext cannot be closed!"),await this.#La._disposeContext(this.#Ve)}async cookies(){const{cookies:e}=await this.#tt.send("Storage.getCookies",{browserContextId:this.#Ve});return e.map((e=>({...e,partitionKey:e.partitionKey?{sourceOrigin:e.partitionKey.topLevelSite,hasCrossSiteAncestor:e.partitionKey.hasCrossSiteAncestor}:void 0})))}async setCookie(...e){return await this.#tt.send("Storage.setCookies",{browserContextId:this.#Ve,cookies:e.map((e=>({...e,partitionKey:Mo(e.partitionKey)})))})}async setDownloadBehavior(e){await this.#tt.send("Browser.setDownloadBehavior",{behavior:e.policy,downloadPath:e.downloadPath,browserContextId:this.#Ve})}}!function(e){e.SUCCESS="success",e.ABORTED="aborted"}(Io||(Io={}));class Ro extends ts{#Ra;#Fa;#Na;#ia;#Da;#ja=new Set;_initializedDeferred=ar.create();_isClosedDeferred=ar.create();_targetId;constructor(e,t,i,n,r){super(),this.#Fa=t,this.#ia=n,this.#Na=e,this.#Ra=i,this._targetId=e.targetId,this.#Da=r,this.#Fa&&this.#Fa instanceof ms&&this.#Fa._setTarget(this)}async asPage(){const e=this._session();return e?await To._create(e,this,null):await this.createCDPSession().then((e=>To._create(e,this,null)))}_subtype(){return this.#Na.subtype}_session(){return this.#Fa}_addChildTarget(e){this.#ja.add(e)}_removeChildTarget(e){this.#ja.delete(e)}_childTargets(){return this.#ja}_sessionFactory(){if(!this.#Da)throw new Error("sessionFactory is not initialized");return this.#Da}createCDPSession(){if(!this.#Da)throw new Error("sessionFactory is not initialized");return this.#Da(!1).then((e=>(e._setTarget(this),e)))}url(){return this.#Na.url}type(){switch(this.#Na.type){case"page":return exports.ao.PAGE;case"background_page":return exports.ao.BACKGROUND_PAGE;case"service_worker":return exports.ao.SERVICE_WORKER;case"shared_worker":return exports.ao.SHARED_WORKER;case"browser":return exports.ao.BROWSER;case"webview":return exports.ao.WEBVIEW;case"tab":return exports.ao.TAB;default:return exports.ao.OTHER}}_targetManager(){if(!this.#ia)throw new Error("targetManager is not initialized");return this.#ia}_getTargetInfo(){return this.#Na}browser(){if(!this.#Ra)throw new Error("browserContext is not initialized");return this.#Ra.browser()}browserContext(){if(!this.#Ra)throw new Error("browserContext is not initialized");return this.#Ra}opener(){const{openerId:e}=this.#Na;if(e)return this.browser().targets().find((t=>t._targetId===e))}_targetInfoChanged(e){this.#Na=e,this._checkIfInitialized()}_initialize(){this._initializedDeferred.resolve(Io.SUCCESS)}_isTargetExposed(){return this.type()!==exports.ao.TAB&&!this._subtype()}_checkIfInitialized(){this._initializedDeferred.resolved()||this._initializedDeferred.resolve(Io.SUCCESS)}}class Fo extends Ro{#Ba;pagePromise;constructor(e,t,i,n,r,a){super(e,t,i,n,r),this.#Ba=a??void 0}_initialize(){this._initializedDeferred.valueOrThrow().then((async e=>{if(e===Io.ABORTED)return;const t=this.opener();if(!(t instanceof Fo))return;if(!t||!t.pagePromise||"page"!==this.type())return!0;const i=await t.pagePromise;if(!i.listenerCount("popup"))return!0;const n=await this.page();return i.emit("popup",n),!0})).catch(Nn),this._checkIfInitialized()}async page(){if(!this.pagePromise){const e=this._session();this.pagePromise=(e?Promise.resolve(e):this._sessionFactory()(!1)).then((e=>To._create(e,this,this.#Ba??null)))}return await this.pagePromise??null}_checkIfInitialized(){this._initializedDeferred.resolved()||""!==this._getTargetInfo().url&&this._initializedDeferred.resolve(Io.SUCCESS)}}class No extends Fo{}class Do extends Ro{#$a;async worker(){if(!this.#$a){const e=this._session();this.#$a=(e?Promise.resolve(e):this._sessionFactory()(!1)).then((e=>new So(e,this._getTargetInfo().url,this._targetId,this.type(),(()=>{}),(()=>{}))))}return await this.#$a}}class jo extends Ro{}class Bo extends wn{#tt;#ei=new Map;#qa=new Map;#Ua=new Map;#za=new Set;#ni;#ri;#ai=new WeakMap;#Ha=new WeakMap;#si=ar.create();#oi=new Set;#Wa=!0;#Ka=[{}];constructor(e,t,i,n=!0){super(),this.#tt=e,this.#ni=i,this.#ri=t,this.#Wa=n,this.#tt.on("Target.targetCreated",this.#ci),this.#tt.on("Target.targetDestroyed",this.#li),this.#tt.on("Target.targetInfoChanged",this.#Ga),this.#tt.on(cr.SessionDetached,this.#ui),this.#Va(this.#tt)}#Xa=()=>{if(this.#Wa)for(const[e,t]of this.#ei.entries()){const i=new Ro(t,void 0,void 0,this,void 0),n="page"===t.type||"iframe"===t.type,r=t.url.startsWith("chrome-extension://");this.#ni&&!this.#ni(i)||!n||r||this.#oi.add(e)}};async initialize(){await this.#tt.send("Target.setDiscoverTargets",{discover:!0,filter:this.#Ka}),this.#Xa(),await this.#tt.send("Target.setAutoAttach",{waitForDebuggerOnStart:!0,flatten:!0,autoAttach:!0,filter:[{type:"page",exclude:!0},...this.#Ka]}),this.#pi(),await this.#si.valueOrThrow()}getChildTargets(e){return e._childTargets()}dispose(){this.#tt.off("Target.targetCreated",this.#ci),this.#tt.off("Target.targetDestroyed",this.#li),this.#tt.off("Target.targetInfoChanged",this.#Ga),this.#tt.off(cr.SessionDetached,this.#ui),this.#Ya(this.#tt)}getAvailableTargets(){return this.#qa}#Va(e){const t=t=>{this.#di(e,t)};Sn(!this.#ai.has(e)),this.#ai.set(e,t),e.on("Target.attachedToTarget",t);const i=t=>this.#xa(e,t);Sn(!this.#Ha.has(e)),this.#Ha.set(e,i),e.on("Target.detachedFromTarget",i)}#Ya(e){const t=this.#ai.get(e);t&&(e.off("Target.attachedToTarget",t),this.#ai.delete(e)),this.#Ha.has(e)&&(e.off("Target.detachedFromTarget",this.#Ha.get(e)),this.#Ha.delete(e))}#ui=e=>{this.#Ya(e)};#ci=async e=>{if(this.#ei.set(e.targetInfo.targetId,e.targetInfo),this.emit("targetDiscovered",e.targetInfo),"browser"===e.targetInfo.type&&e.targetInfo.attached){if(this.#qa.has(e.targetInfo.targetId))return;const t=this.#ri(e.targetInfo,void 0);t._initialize(),this.#qa.set(e.targetInfo.targetId,t)}};#li=e=>{const t=this.#ei.get(e.targetId);if(this.#ei.delete(e.targetId),this.#pi(e.targetId),"service_worker"===t?.type&&this.#qa.has(e.targetId)){const t=this.#qa.get(e.targetId);t&&(this.emit("targetGone",t),this.#qa.delete(e.targetId))}};#Ga=e=>{if(this.#ei.set(e.targetInfo.targetId,e.targetInfo),this.#za.has(e.targetInfo.targetId)||!this.#qa.has(e.targetInfo.targetId)||!e.targetInfo.attached)return;const t=this.#qa.get(e.targetInfo.targetId);if(!t)return;const i=t.url(),n=t._initializedDeferred.value()===Io.SUCCESS;if(function(e,t){return Boolean(e._subtype())&&!t.subtype}(t,e.targetInfo)){const e=t?._session();Sn(e,"Target that is being activated is missing a CDPSession."),e.parentSession()?.emit(cr.Swapped,e)}t._targetInfoChanged(e.targetInfo),n&&i!==t.url()&&this.emit("targetChanged",{target:t,wasInitialized:n,previousURL:i})};#di=async(e,t)=>{const i=t.targetInfo,n=this.#tt.session(t.sessionId);if(!n)throw new Error(`Session ${t.sessionId} was not created.`);const r=async()=>{await n.send("Runtime.runIfWaitingForDebugger").catch(Nn),await e.send("Target.detachFromTarget",{sessionId:n.id()}).catch(Nn)};if(!this.#tt.isAutoAttached(i.targetId))return;if("service_worker"===i.type){if(this.#pi(i.targetId),await r(),this.#qa.has(i.targetId))return;const e=this.#ri(i);return e._initialize(),this.#qa.set(i.targetId,e),void this.emit("targetAvailable",e)}const a=this.#qa.has(i.targetId),s=a?this.#qa.get(i.targetId):this.#ri(i,n,e instanceof lr?e:void 0);if(this.#ni&&!this.#ni(s))return this.#za.add(i.targetId),this.#pi(i.targetId),void await r();this.#Va(n),a?(n._setTarget(s),this.#Ua.set(n.id(),this.#qa.get(i.targetId))):(s._initialize(),this.#qa.set(i.targetId,s),this.#Ua.set(n.id(),s));const o=e instanceof lr?e._target():null;o?._addChildTarget(s),e.emit(cr.Ready,n),this.#oi.delete(s._targetId),a||this.emit("targetAvailable",s),this.#pi(),await Promise.all([n.send("Target.setAutoAttach",{waitForDebuggerOnStart:!0,flatten:!0,autoAttach:!0,filter:this.#Ka}),n.send("Runtime.runIfWaitingForDebugger")]).catch(Nn)};#pi(e){void 0!==e&&this.#oi.delete(e),0===this.#oi.size&&this.#si.resolve()}#xa=(e,t)=>{const i=this.#Ua.get(t.sessionId);this.#Ua.delete(t.sessionId),i&&(e instanceof lr&&e._target()._removeChildTarget(i),this.#qa.delete(i._targetId),this.emit("targetGone",i))}}class $o extends rr{protocol="cdp";static async _create(e,t,i,n,r,a,s,o,c,l,u=!0){const d=new $o(e,t,i,r,s,o,c,l,u);return n&&await t.send("Security.setIgnoreCertificateErrors",{ignore:!0}),await d._attach(a),d}#Ba;#Ja;#tt;#Qa;#ni;#Za;#es;#ts=new Map;#ia;constructor(e,t,i,n,r,a,s,o,c=!0){super(),e=e||"chrome",this.#Ba=n,this.#Ja=r,this.#tt=t,this.#Qa=a||(()=>{}),this.#ni=s||(()=>!0),this.#is(o),this.#ia="firefox"===e?new Is(t,this.#ns,this.#ni):new Bo(t,this.#ns,this.#ni,c),this.#es=new Lo(this.#tt,this);for(const e of i)this.#ts.set(e,new Lo(this.#tt,this,e))}#rs=()=>{this.emit("disconnected",void 0)};async _attach(e){this.#tt.on(cr.Disconnected,this.#rs),e&&await this.#es.setDownloadBehavior(e),this.#ia.on("targetAvailable",this.#di),this.#ia.on("targetGone",this.#xa),this.#ia.on("targetChanged",this.#as),this.#ia.on("targetDiscovered",this.#ss),await this.#ia.initialize()}_detach(){this.#tt.off(cr.Disconnected,this.#rs),this.#ia.off("targetAvailable",this.#di),this.#ia.off("targetGone",this.#xa),this.#ia.off("targetChanged",this.#as),this.#ia.off("targetDiscovered",this.#ss)}process(){return this.#Ja??null}_targetManager(){return this.#ia}#is(e){this.#Za=e||(e=>"page"===e.type()||"background_page"===e.type()||"webview"===e.type())}_getIsPageTargetCallback(){return this.#Za}async createBrowserContext(e={}){const{proxyServer:t,proxyBypassList:i,downloadBehavior:n}=e,{browserContextId:r}=await this.#tt.send("Target.createBrowserContext",{proxyServer:t,proxyBypassList:i&&i.join(",")}),a=new Lo(this.#tt,this,r);return n&&await a.setDownloadBehavior(n),this.#ts.set(r,a),a}browserContexts(){return[this.#es,...Array.from(this.#ts.values())]}defaultBrowserContext(){return this.#es}async _disposeContext(e){e&&(await this.#tt.send("Target.disposeBrowserContext",{browserContextId:e}),this.#ts.delete(e))}#ns=(e,t)=>{const{browserContextId:i}=e,n=i&&this.#ts.has(i)?this.#ts.get(i):this.#es;if(!n)throw new Error("Missing browser context");const r=t=>this.#tt._createSession(e,t),a=new jo(e,t,n,this.#ia,r);return e.url?.startsWith("devtools://")?new No(e,t,n,this.#ia,r,this.#Ba??null):this.#Za(a)?new Fo(e,t,n,this.#ia,r,this.#Ba??null):"service_worker"===e.type||"shared_worker"===e.type?new Do(e,t,n,this.#ia,r):a};#di=async e=>{e._isTargetExposed()&&await e._initializedDeferred.valueOrThrow()===Io.SUCCESS&&(this.emit("targetcreated",e),e.browserContext().emit("targetcreated",e))};#xa=async e=>{e._initializedDeferred.resolve(Io.ABORTED),e._isClosedDeferred.resolve(),e._isTargetExposed()&&await e._initializedDeferred.valueOrThrow()===Io.SUCCESS&&(this.emit("targetdestroyed",e),e.browserContext().emit("targetdestroyed",e))};#as=({target:e})=>{this.emit("targetchanged",e),e.browserContext().emit("targetchanged",e)};#ss=e=>{this.emit("targetdiscovered",e)};wsEndpoint(){return this.#tt.url()}async newPage(){return await this.#es.newPage()}async _createPageInContext(e){const{targetId:t}=await this.#tt.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=await this.waitForTarget((e=>e._targetId===t));if(!i)throw new Error(`Missing target for page (id = ${t})`);if(!(await i._initializedDeferred.valueOrThrow()===Io.SUCCESS))throw new Error(`Failed to create target for page (id = ${t})`);const n=await i.page();if(!n)throw new Error(`Failed to create a page for context (id = ${e})`);return n}targets(){return Array.from(this.#ia.getAvailableTargets().values()).filter((e=>e._isTargetExposed()&&e._initializedDeferred.value()===Io.SUCCESS))}target(){const e=this.targets().find((e=>"browser"===e.type()));if(!e)throw new Error("Browser target is not found");return e}async version(){return(await this.#os()).product}async userAgent(){return(await this.#os()).userAgent}async close(){await this.#Qa.call(null),await this.disconnect()}disconnect(){return this.#ia.dispose(),this.#tt.dispose(),this._detach(),Promise.resolve()}get connected(){return!this.#tt._closed}#os(){return this.#tt.send("Browser.getVersion")}get debugInfo(){return{pendingProtocolErrors:this.#tt.getPendingProtocolErrors()}}}const qo=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S8",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:360,height:740,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S8 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:740,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S9+",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:320,height:658,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S9+ landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:658,height:320,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Tab S4",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:712,height:1138,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Tab S4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:1138,height:712,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 6)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 6) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 7)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:810,height:1080,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 7) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1080,height:810,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro 11",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:834,height:1194,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro 11 landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1194,height:834,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 14",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:390,height:663,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 14 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:750,height:340,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 14 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:428,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 14 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:832,height:378,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 14 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:393,height:659,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 14 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:734,height:343,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 14 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:430,height:739,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 14 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",viewport:{width:814,height:380,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 15",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:393,height:659,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 15 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:734,height:343,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 15 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:430,height:739,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 15 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:814,height:380,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 15 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:393,height:659,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 15 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:734,height:343,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 15 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:430,height:739,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 15 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Mobile/15E148 Safari/604.1",viewport:{width:814,height:380,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 3",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:393,height:786,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 3 landscape",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:786,height:393,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4a (5G)",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4a (5G) landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 5",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:393,height:851,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:851,height:393,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Moto G4",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Moto G4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}}],Uo={};for(const e of qo)Uo[e.name]=e;async function zo(e,t,i){const{acceptInsecureCerts:n=!1,defaultViewport:r=Dn}=i,{bidiConnection:a,cdpConnection:s,closeCallback:o}=await async function(e,t,i){const n=await Promise.resolve().then((function(){return require("./bidi-5sHVXGFD.js")})),{slowMo:r=0,protocolTimeout:a}=i,s=new n.BidiConnection(t,e,r,a);try{const e=await s.send("session.status",{});if("type"in e&&"success"===e.type)return{bidiConnection:s,closeCallback:async()=>{await s.send("browser.close",{}).catch(Nn)}}}catch(e){if(!(e instanceof An))throw e}s.unbind();const o=new ys(t,e,r,a,!0),c=await o.send("Browser.getVersion");if(c.product.toLowerCase().includes("firefox"))throw new Ln("Firefox is not supported in BiDi over CDP mode.");const l=await n.connectBidiOverCdp(o);return{cdpConnection:o,bidiConnection:l,closeCallback:async()=>{await o.send("Browser.close").catch(Nn)}}}(e,t,i),c=await Promise.resolve().then((function(){return require("./bidi-5sHVXGFD.js")}));return await c.BidiBrowser.create({connection:a,cdpConnection:s,closeCallback:o,process:void 0,defaultViewport:r,acceptInsecureCerts:n,capabilities:i.capabilities})}Object.freeze(Uo);const Ho=async()=>bn?(await Promise.resolve().then((function(){return lh}))).NodeWebSocketTransport:(await Promise.resolve().then((function(){return require("./BrowserWebSocketTransport-CAQ1oIlD.js")}))).BrowserWebSocketTransport;async function Wo(e){const{connectionTransport:t,endpointUrl:i}=await async function(e){const{browserWSEndpoint:t,browserURL:i,transport:n,headers:r={}}=e;if(Sn(Number(!!t)+Number(!!i)+Number(!!n)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect"),n)return{connectionTransport:n,endpointUrl:""};if(t){const e=await Ho();return{connectionTransport:await e.create(t,r),endpointUrl:t}}if(i){const e=await async function(e){const t=new URL("/json/version",e);try{const e=await globalThis.fetch(t.toString(),{method:"GET"});if(!e.ok)throw new Error(`HTTP ${e.statusText}`);return(await e.json()).webSocketDebuggerUrl}catch(e){throw pr(e)&&(e.message=`Failed to fetch browser webSocket URL from ${t}: `+e.message),e}}(i),t=await Ho();return{connectionTransport:await t.create(e),endpointUrl:e}}throw new Error("Invalid connection options")}(e);if("webDriverBiDi"===e.protocol){return await zo(t,i,e)}{const n=await async function(e,t,i){const{acceptInsecureCerts:n=!1,defaultViewport:r=Dn,downloadBehavior:a,targetFilter:s,_isPageTarget:o,slowMo:c=0,protocolTimeout:l}=i,u=new ys(t,e,c,l),d=(await u.send("Browser.getVersion")).product.toLowerCase().includes("firefox")?"firefox":"chrome",{browserContextIds:p}=await u.send("Target.getBrowserContexts");return await $o._create(d||"chrome",u,p,n,r,a,void 0,(()=>u.send("Browser.close").catch(Nn)),s,o)}(t,i,e);return n}}class Ko{static customQueryHandlers=Or;static registerCustomQueryHandler(e,t){return this.customQueryHandlers.register(e,t)}static unregisterCustomQueryHandler(e){return this.customQueryHandlers.unregister(e)}static customQueryHandlerNames(){return this.customQueryHandlers.names()}static clearCustomQueryHandlers(){return this.customQueryHandlers.clear()}_isPuppeteerCore;_changedBrowsers=!1;constructor(e){this._isPuppeteerCore=e.isPuppeteerCore,this.connect=this.connect.bind(this)}connect(e){return Wo(e)}}const Go=Object.freeze({chrome:"131.0.6778.204","chrome-headless-shell":"131.0.6778.204",firefox:"stable_133.0.3"});var Vo,Xo,Yo,Jo;!function(e){e.CHROME="chrome",e.CHROMEHEADLESSSHELL="chrome-headless-shell",e.CHROMIUM="chromium",e.FIREFOX="firefox",e.CHROMEDRIVER="chromedriver"}(Vo||(Vo={})),function(e){e.LINUX="linux",e.MAC="mac",e.MAC_ARM="mac_arm",e.WIN32="win32",e.WIN64="win64"}(Xo||(Xo={})),function(e){e.CANARY="canary",e.NIGHTLY="nightly",e.BETA="beta",e.DEV="dev",e.DEVEDITION="devedition",e.STABLE="stable",e.ESR="esr",e.LATEST="latest"}(Yo||(Yo={})),function(e){e.STABLE="stable",e.DEV="dev",e.CANARY="canary",e.BETA="beta"}(Jo||(Jo={}));var Qo,Zo,ec,tc,ic,nc,rc,ac,sc,oc,cc,lc,uc,dc,pc,hc,fc,mc,gc,vc,yc,wc,bc,xc,kc,Sc,Ec,_c,Cc,Tc,Pc,Mc,Ic,Oc,Ac,Lc,Rc,Fc,Nc,Dc,jc,Bc,$c,qc,Uc,zc,Hc,Wc,Kc,Gc,Vc,Xc,Yc,Jc,Qc,Zc,el,tl,il,nl,rl,al,sl,ol,cl,ll,ul,dl,pl,hl,fl,ml,gl,vl,yl,wl,bl,xl,kl,Sl,El,_l,Cl,Tl,Pl,Ml,Il,Ol,Al,Ll={exports:{}};function Rl(){if(Zo)return Qo;Zo=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return Qo={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}function Fl(){if(tc)return ec;tc=1;const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return ec=e}function Nl(){return ic||(ic=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:r}=Rl(),a=Fl(),s=(t=e.exports={}).re=[],o=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[d,n]],h=(e,t,i)=>{const n=(e=>{for(const[t,i]of p)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e})(t),r=u++;a(e,r,t),l[e]=r,c[r]=t,s[r]=new RegExp(t,i?"g":void 0),o[r]=new RegExp(n,i?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),h("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${d}+`),h("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),h("FULL",`^${c[l.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),h("LOOSE",`^${c[l.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),h("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),h("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?`+`(?:${c[l.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[l.COERCE],!0),h("COERCERTLFULL",c[l.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Ll,Ll.exports)),Ll.exports}function Dl(){if(rc)return nc;rc=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return nc=i=>i?"object"!=typeof i?e:i:t}function jl(){if(sc)return ac;sc=1;const e=/^[0-9]+$/,t=(t,i)=>{const n=e.test(t),r=e.test(i);return n&&r&&(t=+t,i=+i),t===i?0:n&&!r?-1:r&&!n?1:t<i?-1:1};return ac={compareIdentifiers:t,rcompareIdentifiers:(e,i)=>t(i,e)}}function Bl(){if(cc)return oc;cc=1;const e=Fl(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:i}=Rl(),{safeRe:n,t:r}=Nl(),a=Dl(),{compareIdentifiers:s}=jl();class o{constructor(s,c){if(c=a(c),s instanceof o){if(s.loose===!!c.loose&&s.includePrerelease===!!c.includePrerelease)return s;s=s.version}else if("string"!=typeof s)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof s}".`);if(s.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",s,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const l=s.trim().match(c.loose?n[r.LOOSE]:n[r.FULL]);if(!l)throw new TypeError(`Invalid Version: ${s}`);if(this.raw=s,this.major=+l[1],this.minor=+l[2],this.patch=+l[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");l[4]?this.prerelease=l[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=l[5]?l[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(e("SemVer.compare",this.version,this.options,t),!(t instanceof o)){if("string"==typeof t&&t===this.version)return 0;t=new o(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){return e instanceof o||(e=new o(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(t){if(t instanceof o||(t=new o(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let i=0;do{const n=this.prerelease[i],r=t.prerelease[i];if(e("prerelease compare",i,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return s(n,r)}while(++i)}compareBuild(t){t instanceof o||(t=new o(t,this.options));let i=0;do{const n=this.build[i],r=t.build[i];if(e("build compare",i,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return s(n,r)}while(++i)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(i)?1:0;if(!t&&!1===i)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return oc=o}function $l(){if(uc)return lc;uc=1;const e=Bl();return lc=(t,i,n=!1)=>{if(t instanceof e)return t;try{return new e(t,i)}catch(e){if(!n)return null;throw e}}}function ql(){if(Pc)return Tc;Pc=1;const e=Bl();return Tc=(t,i,n)=>new e(t,n).compare(new e(i,n))}function Ul(){if(Rc)return Lc;Rc=1;const e=Bl();return Lc=(t,i,n)=>{const r=new e(t,n),a=new e(i,n);return r.compare(a)||r.compareBuild(a)}}function zl(){if($c)return Bc;$c=1;const e=ql();return Bc=(t,i,n)=>e(t,i,n)>0}function Hl(){if(Uc)return qc;Uc=1;const e=ql();return qc=(t,i,n)=>e(t,i,n)<0}function Wl(){if(Hc)return zc;Hc=1;const e=ql();return zc=(t,i,n)=>0===e(t,i,n)}function Kl(){if(Kc)return Wc;Kc=1;const e=ql();return Wc=(t,i,n)=>0!==e(t,i,n)}function Gl(){if(Vc)return Gc;Vc=1;const e=ql();return Gc=(t,i,n)=>e(t,i,n)>=0}function Vl(){if(Yc)return Xc;Yc=1;const e=ql();return Xc=(t,i,n)=>e(t,i,n)<=0}function Xl(){if(Qc)return Jc;Qc=1;const e=Wl(),t=Kl(),i=zl(),n=Gl(),r=Hl(),a=Vl();return Jc=(s,o,c,l)=>{switch(o){case"===":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s===c;case"!==":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s!==c;case"":case"=":case"==":return e(s,c,l);case"!=":return t(s,c,l);case">":return i(s,c,l);case">=":return n(s,c,l);case"<":return r(s,c,l);case"<=":return a(s,c,l);default:throw new TypeError(`Invalid operator: ${o}`)}}}function Yl(){if(rl)return nl;rl=1;const e=/\s+/g;class t{constructor(i,a){if(a=n(a),i instanceof t)return i.loose===!!a.loose&&i.includePrerelease===!!a.includePrerelease?i:new t(i.raw,a);if(i instanceof r)return this.raw=i.value,this.set=[[i]],this.formatted=void 0,this;if(this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease,this.raw=i.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&p)|(this.options.loose&&h))+":"+e,n=i.get(t);if(n)return n;const s=this.options.loose,m=s?o[c.HYPHENRANGELOOSE]:o[c.HYPHENRANGE];e=e.replace(m,T(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(o[c.COMPARATORTRIM],l),a("comparator trim",e),e=e.replace(o[c.TILDETRIM],u),a("tilde trim",e),e=e.replace(o[c.CARETTRIM],d),a("caret trim",e);let g=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));s&&(g=g.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(o[c.COMPARATORLOOSE]))))),a("range list",g);const y=new Map,w=g.map((e=>new r(e,this.options)));for(const e of w){if(f(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");const b=[...y.values()];return i.set(t,b),b}intersects(e,i){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>g(t,i)&&e.set.some((e=>g(e,i)&&t.every((t=>e.every((e=>t.intersects(e,i)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}nl=t;const i=new(il?tl:(il=1,tl=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}})),n=Dl(),r=Jl(),a=Fl(),s=Bl(),{safeRe:o,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:d}=Nl(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:h}=Rl(),f=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let i=!0;const n=e.slice();let r=n.pop();for(;i&&n.length;)i=n.every((e=>r.intersects(e,t))),r=n.pop();return i},v=(e,t)=>(a("comp",e,t),e=x(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=_(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{const i=t.loose?o[c.TILDELOOSE]:o[c.TILDE];return e.replace(i,((t,i,n,r,s)=>{let o;return a("tilde",e,t,i,n,r,s),y(i)?o="":y(n)?o=`>=${i}.0.0 <${+i+1}.0.0-0`:y(r)?o=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${i}.${n}.${r}-${s} <${i}.${+n+1}.0-0`):o=`>=${i}.${n}.${r} <${i}.${+n+1}.0-0`,a("tilde return",o),o}))},x=(e,t)=>e.trim().split(/\s+/).map((e=>k(e,t))).join(" "),k=(e,t)=>{a("caret",e,t);const i=t.loose?o[c.CARETLOOSE]:o[c.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,((t,i,r,s,o)=>{let c;return a("caret",e,t,i,r,s,o),y(i)?c="":y(r)?c=`>=${i}.0.0${n} <${+i+1}.0.0-0`:y(s)?c="0"===i?`>=${i}.${r}.0${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.0${n} <${+i+1}.0.0-0`:o?(a("replaceCaret pr",o),c="0"===i?"0"===r?`>=${i}.${r}.${s}-${o} <${i}.${r}.${+s+1}-0`:`>=${i}.${r}.${s}-${o} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${s}-${o} <${+i+1}.0.0-0`):(a("no pr"),c="0"===i?"0"===r?`>=${i}.${r}.${s}${n} <${i}.${r}.${+s+1}-0`:`>=${i}.${r}.${s}${n} <${i}.${+r+1}.0-0`:`>=${i}.${r}.${s} <${+i+1}.0.0-0`),a("caret return",c),c}))},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>E(e,t))).join(" ")),E=(e,t)=>{e=e.trim();const i=t.loose?o[c.XRANGELOOSE]:o[c.XRANGE];return e.replace(i,((i,n,r,s,o,c)=>{a("xRange",e,i,n,r,s,o,c);const l=y(r),u=l||y(s),d=u||y(o),p=d;return"="===n&&p&&(n=""),c=t.includePrerelease?"-0":"",l?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(s=0),o=0,">"===n?(n=">=",u?(r=+r+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?r=+r+1:s=+s+1),"<"===n&&(c="-0"),i=`${n+r}.${s}.${o}${c}`):u?i=`>=${r}.0.0${c} <${+r+1}.0.0-0`:d&&(i=`>=${r}.${s}.0${c} <${r}.${+s+1}.0-0`),a("xRange return",i),i}))},_=(e,t)=>(a("replaceStars",e,t),e.trim().replace(o[c.STAR],"")),C=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(o[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),T=e=>(t,i,n,r,a,s,o,c,l,u,d,p)=>`${i=y(n)?"":y(r)?`>=${n}.0.0${e?"-0":""}`:y(a)?`>=${n}.${r}.0${e?"-0":""}`:s?`>=${i}`:`>=${i}${e?"-0":""}`} ${c=y(l)?"":y(u)?`<${+l+1}.0.0-0`:y(d)?`<${l}.${+u+1}.0-0`:p?`<=${l}.${u}.${d}-${p}`:e?`<${l}.${u}.${+d+1}-0`:`<=${c}`}`.trim(),P=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(a(e[i].semver),e[i].semver!==r.ANY&&e[i].semver.prerelease.length>0){const n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return nl}function Jl(){if(sl)return al;sl=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(n,r){if(r=i(r),n instanceof t){if(n.loose===!!r.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,r),this.options=r,this.loose=!!r.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(t){const i=this.options.loose?n[r.COMPARATORLOOSE]:n[r.COMPARATOR],a=t.match(i);if(!a)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==a[1]?a[1]:"","="===this.operator&&(this.operator=""),a[2]?this.semver=new o(a[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(s("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new o(t,this.options)}catch(e){return!1}return a(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,n).test(this.value):""===e.operator?""===e.value||new c(this.value,n).test(e.semver):(!(n=i(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(a(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(a(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}al=t;const i=Dl(),{safeRe:n,t:r}=Nl(),a=Xl(),s=Fl(),o=Bl(),c=Yl();return al}function Ql(){if(cl)return ol;cl=1;const e=Yl();return ol=(t,i,n)=>{try{i=new e(i,n)}catch(e){return!1}return i.test(t)},ol}function Zl(){if(yl)return vl;yl=1;const e=Yl();return vl=(t,i)=>{try{return new e(t,i).range||"*"}catch(e){return null}},vl}function eu(){if(bl)return wl;bl=1;const e=Bl(),t=Jl(),{ANY:i}=t,n=Yl(),r=Ql(),a=zl(),s=Hl(),o=Vl(),c=Gl();return wl=(l,u,d,p)=>{let h,f,m,g,v;switch(l=new e(l,p),u=new n(u,p),d){case">":h=a,f=o,m=s,g=">",v=">=";break;case"<":h=s,f=c,m=a,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(r(l,u,p))return!1;for(let e=0;e<u.set.length;++e){const n=u.set[e];let r=null,a=null;if(n.forEach((e=>{e.semver===i&&(e=new t(">=0.0.0")),r=r||e,a=a||e,h(e.semver,r.semver,p)?r=e:m(e.semver,a.semver,p)&&(a=e)})),r.operator===g||r.operator===v)return!1;if((!a.operator||a.operator===g)&&f(l,a.semver))return!1;if(a.operator===v&&m(l,a.semver))return!1}return!0},wl}var tu=function(){if(Al)return Ol;Al=1;const e=Nl(),t=Rl(),i=Bl(),n=jl(),r=$l(),a=function(){if(pc)return dc;pc=1;const e=$l();return dc=(t,i)=>{const n=e(t,i);return n?n.version:null}}(),s=function(){if(fc)return hc;fc=1;const e=$l();return hc=(t,i)=>{const n=e(t.trim().replace(/^[=v]+/,""),i);return n?n.version:null}}(),o=function(){if(gc)return mc;gc=1;const e=Bl();return mc=(t,i,n,r,a)=>{"string"==typeof n&&(a=r,r=n,n=void 0);try{return new e(t instanceof e?t.version:t,n).inc(i,r,a).version}catch(e){return null}}}(),c=function(){if(yc)return vc;yc=1;const e=$l();return vc=(t,i)=>{const n=e(t,null,!0),r=e(i,null,!0),a=n.compare(r);if(0===a)return null;const s=a>0,o=s?n:r,c=s?r:n,l=!!o.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?o.patch?"patch":o.minor?"minor":"major":"major";const u=l?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"}}(),l=function(){if(bc)return wc;bc=1;const e=Bl();return wc=(t,i)=>new e(t,i).major}(),u=function(){if(kc)return xc;kc=1;const e=Bl();return xc=(t,i)=>new e(t,i).minor}(),d=function(){if(Ec)return Sc;Ec=1;const e=Bl();return Sc=(t,i)=>new e(t,i).patch}(),p=function(){if(Cc)return _c;Cc=1;const e=$l();return _c=(t,i)=>{const n=e(t,i);return n&&n.prerelease.length?n.prerelease:null}}(),h=ql(),f=function(){if(Ic)return Mc;Ic=1;const e=ql();return Mc=(t,i,n)=>e(i,t,n)}(),m=function(){if(Ac)return Oc;Ac=1;const e=ql();return Oc=(t,i)=>e(t,i,!0)}(),g=Ul(),v=function(){if(Nc)return Fc;Nc=1;const e=Ul();return Fc=(t,i)=>t.sort(((t,n)=>e(t,n,i)))}(),y=function(){if(jc)return Dc;jc=1;const e=Ul();return Dc=(t,i)=>t.sort(((t,n)=>e(n,t,i)))}(),w=zl(),b=Hl(),x=Wl(),k=Kl(),S=Gl(),E=Vl(),_=Xl(),C=function(){if(el)return Zc;el=1;const e=Bl(),t=$l(),{safeRe:i,t:n}=Nl();return Zc=(r,a)=>{if(r instanceof e)return r;if("number"==typeof r&&(r=String(r)),"string"!=typeof r)return null;let s=null;if((a=a||{}).rtl){const e=a.includePrerelease?i[n.COERCERTLFULL]:i[n.COERCERTL];let t;for(;(t=e.exec(r))&&(!s||s.index+s[0].length!==r.length);)s&&t.index+t[0].length===s.index+s[0].length||(s=t),e.lastIndex=t.index+t[1].length+t[2].length;e.lastIndex=-1}else s=r.match(a.includePrerelease?i[n.COERCEFULL]:i[n.COERCE]);if(null===s)return null;const o=s[2],c=s[3]||"0",l=s[4]||"0",u=a.includePrerelease&&s[5]?`-${s[5]}`:"",d=a.includePrerelease&&s[6]?`+${s[6]}`:"";return t(`${o}.${c}.${l}${u}${d}`,a)}}(),T=Jl(),P=Yl(),M=Ql(),I=function(){if(ul)return ll;ul=1;const e=Yl();return ll=(t,i)=>new e(t,i).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" "))),ll}(),O=function(){if(pl)return dl;pl=1;const e=Bl(),t=Yl();return dl=(i,n,r)=>{let a=null,s=null,o=null;try{o=new t(n,r)}catch(e){return null}return i.forEach((t=>{o.test(t)&&(a&&-1!==s.compare(t)||(a=t,s=new e(a,r)))})),a},dl}(),A=function(){if(fl)return hl;fl=1;const e=Bl(),t=Yl();return hl=(i,n,r)=>{let a=null,s=null,o=null;try{o=new t(n,r)}catch(e){return null}return i.forEach((t=>{o.test(t)&&(a&&1!==s.compare(t)||(a=t,s=new e(a,r)))})),a},hl}(),L=function(){if(gl)return ml;gl=1;const e=Bl(),t=Yl(),i=zl();return ml=(n,r)=>{n=new t(n,r);let a=new e("0.0.0");if(n.test(a))return a;if(a=new e("0.0.0-0"),n.test(a))return a;a=null;for(let t=0;t<n.set.length;++t){const r=n.set[t];let s=null;r.forEach((t=>{const n=new e(t.semver.version);switch(t.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":s&&!i(n,s)||(s=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!s||a&&!i(a,s)||(a=s)}return a&&n.test(a)?a:null},ml}(),R=Zl(),F=eu(),N=function(){if(kl)return xl;kl=1;const e=eu();return xl=(t,i,n)=>e(t,i,">",n),xl}(),D=function(){if(El)return Sl;El=1;const e=eu();return Sl=(t,i,n)=>e(t,i,"<",n),Sl}(),j=function(){if(Cl)return _l;Cl=1;const e=Yl();return _l=(t,i,n)=>(t=new e(t,n),i=new e(i,n),t.intersects(i,n))}(),B=function(){if(Pl)return Tl;Pl=1;const e=Ql(),t=ql();return Tl=(i,n,r)=>{const a=[];let s=null,o=null;const c=i.sort(((e,i)=>t(e,i,r)));for(const t of c)e(t,n,r)?(o=t,s||(s=t)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);const l=[];for(const[e,t]of a)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),d="string"==typeof n.raw?n.raw:String(n);return u.length<d.length?u:n},Tl}(),$=function(){if(Il)return Ml;Il=1;const e=Yl(),t=Jl(),{ANY:i}=t,n=Ql(),r=ql(),a=[new t(">=0.0.0-0")],s=[new t(">=0.0.0")],o=(e,t,o)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=o.includePrerelease?a:s}if(1===t.length&&t[0].semver===i){if(o.includePrerelease)return!0;t=s}const u=new Set;let d,p,h,f,m,g,v;for(const t of e)">"===t.operator||">="===t.operator?d=c(d,t,o):"<"===t.operator||"<="===t.operator?p=l(p,t,o):u.add(t.semver);if(u.size>1)return null;if(d&&p){if(h=r(d.semver,p.semver,o),h>0)return null;if(0===h&&(">="!==d.operator||"<="!==p.operator))return null}for(const e of u){if(d&&!n(e,String(d),o))return null;if(p&&!n(e,String(p),o))return null;for(const i of t)if(!n(e,String(i),o))return!1;return!0}let y=!(!p||o.includePrerelease||!p.semver.prerelease.length)&&p.semver,w=!(!d||o.includePrerelease||!d.semver.prerelease.length)&&d.semver;y&&1===y.prerelease.length&&"<"===p.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(v=v||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,d)if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),">"===e.operator||">="===e.operator){if(f=c(d,e,o),f===e&&f!==d)return!1}else if(">="===d.operator&&!n(d.semver,String(e),o))return!1;if(p)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(m=l(p,e,o),m===e&&m!==p)return!1}else if("<="===p.operator&&!n(p.semver,String(e),o))return!1;if(!e.operator&&(p||d)&&0!==h)return!1}return!(d&&g&&!p&&0!==h||p&&v&&!d&&0!==h||w||y)},c=(e,t,i)=>{if(!e)return t;const n=r(e.semver,t.semver,i);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,i)=>{if(!e)return t;const n=r(e.semver,t.semver,i);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};return Ml=(t,i,n={})=>{if(t===i)return!0;t=new e(t,n),i=new e(i,n);let r=!1;e:for(const e of t.set){for(const t of i.set){const i=o(e,t,n);if(r=r||null!==i,i)continue e}if(r)return!1}return!0}}();return Ol={parse:r,valid:a,clean:s,inc:o,diff:c,major:l,minor:u,patch:d,prerelease:p,compare:h,rcompare:f,compareLoose:m,compareBuild:g,sort:v,rsort:y,gt:w,lt:b,eq:x,neq:k,gte:S,lte:E,cmp:_,coerce:C,Comparator:T,Range:P,satisfies:M,toComparators:I,maxSatisfying:O,minSatisfying:A,minVersion:L,validRange:R,outside:F,gtr:N,ltr:D,intersects:j,simplifyRange:B,subset:$,SemVer:i,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}(),iu=M(tu);const nu={};function ru(e,t,i,n=!0){const r={protocol:e.protocol,hostname:e.hostname,port:e.port,path:e.pathname+e.search,method:t,headers:n?{Connection:"keep-alive"}:void 0,auth:g.urlToHttpOptions(e).auth,agent:new nu},a=e=>{e.statusCode&&e.statusCode>=300&&e.statusCode<400&&e.headers.location?(ru(new g.URL(e.headers.location),t,i),e.resume()):i(e)},s="https:"===r.protocol?T.request(r,a):C.request(r,a);return s.end(),s}async function au(e){const t=await su(e);try{return JSON.parse(t)}catch{throw new Error("Could not parse JSON from "+e.toString())}}function su(e){return new Promise(((t,i)=>{ru(e,"GET",(e=>{let n="";if(e.statusCode&&e.statusCode>=400)return i(new Error(`Got status code ${e.statusCode}`));e.on("data",(e=>{n+=e})),e.on("end",(()=>{try{return t(String(n))}catch{return i(new Error("Chrome version not found"))}}))}),!1).on("error",(e=>{i(e)}))}))}function ou(e){switch(e){case Xo.LINUX:return"linux64";case Xo.MAC_ARM:return"mac-arm64";case Xo.MAC:return"mac-x64";case Xo.WIN32:return"win32";case Xo.WIN64:return"win64"}}async function cu(e){return Object.values(Jo).includes(e)?(await async function(e){const t=await au(new URL("https://googlechromelabs.github.io/chrome-for-testing/last-known-good-versions.json"));for(const e of Object.keys(t.channels))t.channels[e.toLowerCase()]=t.channels[e],delete t.channels[e];return t.channels[e]}(e)).version:e.match(/^\d+$/)?(await async function(e){return(await au(new URL("https://googlechromelabs.github.io/chrome-for-testing/latest-versions-per-milestone.json"))).milestones[e]}(e))?.version:e.match(/^\d+\.\d+\.\d+$/)?(await async function(e){return(await au(new URL("https://googlechromelabs.github.io/chrome-for-testing/latest-patch-versions-per-build.json"))).builds[e]}(e))?.version:void 0}function lu(e,t){if(!iu.valid(e))throw new Error(`Version ${e} is not a valid semver version`);if(!iu.valid(t))throw new Error(`Version ${t} is not a valid semver version`);return iu.gt(e,t)?1:iu.lt(e,t)?-1:0}function uu(e){switch(e){case Xo.LINUX:return"linux64";case Xo.MAC_ARM:return"mac-arm64";case Xo.MAC:return"mac-x64";case Xo.WIN32:return"win32";case Xo.WIN64:return"win64"}}function du(e){switch(e){case Xo.LINUX:return"linux64";case Xo.MAC_ARM:return"mac-arm64";case Xo.MAC:return"mac-x64";case Xo.WIN32:return"win32";case Xo.WIN64:return"win64"}}function pu(e){switch(e){case Xo.LINUX:return"Linux_x64";case Xo.MAC_ARM:return"Mac_Arm";case Xo.MAC:return"Mac";case Xo.WIN32:return"Win";case Xo.WIN64:return"Win_x64"}}function hu(e){for(const t of Object.values(fu))if(e.startsWith(t+"_"))return[t,e=e.substring(t.length+1)];return[fu.NIGHTLY,e]}var fu;async function mu(e=fu.NIGHTLY){const t={[fu.ESR]:"FIREFOX_ESR",[fu.STABLE]:"LATEST_FIREFOX_VERSION",[fu.DEVEDITION]:"FIREFOX_DEVEDITION",[fu.BETA]:"FIREFOX_DEVEDITION",[fu.NIGHTLY]:"FIREFOX_NIGHTLY"},i=(await au(new URL("https://product-details.mozilla.org/1.0/firefox_versions.json")))[t[e]];if(!i)throw new Error(`Channel ${e} is not found.`);return e+"_"+i}async function gu(e){n.existsSync(e.path)||await n.promises.mkdir(e.path,{recursive:!0}),await async function(e){const t=r.join(e.path,"prefs.js"),i=r.join(e.path,"user.js"),a=Object.entries(e.preferences).map((([e,t])=>`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`)),s=await Promise.allSettled([yu(i).then((async()=>{await n.promises.writeFile(i,a.join("\n"))})),yu(t)]);for(const e of s)if("rejected"===e.status)throw e.reason}({preferences:{...vu(e.preferences),...e.preferences},path:e.path})}function vu(e){const t="dummy.test",i={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.translations.automaticallyPopup":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${t}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${t}/dummy/discoveryURL`,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"media.sanity-test.disabled":!0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":t,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${t}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(i,e)}async function yu(e){n.existsSync(e)&&await n.promises.copyFile(e,e+".puppeteer")}!function(e){e.STABLE="stable",e.ESR="esr",e.DEVEDITION="devedition",e.BETA="beta",e.NIGHTLY="nightly"}(fu||(fu={})),Vo.CHROMEDRIVER,Vo.CHROMEHEADLESSSHELL,Vo.CHROME,Vo.CHROMIUM,Vo.FIREFOX,Vo.CHROMEDRIVER,Vo.CHROMEHEADLESSSHELL,Vo.CHROME,Vo.CHROMIUM,Vo.FIREFOX;const wu={[Vo.CHROMEDRIVER]:function(e,t){switch(e){case Xo.MAC:case Xo.MAC_ARM:return r.join("chromedriver-"+du(e),"chromedriver");case Xo.LINUX:return r.join("chromedriver-linux64","chromedriver");case Xo.WIN32:case Xo.WIN64:return r.join("chromedriver-"+du(e),"chromedriver.exe")}},[Vo.CHROMEHEADLESSSHELL]:function(e,t){switch(e){case Xo.MAC:case Xo.MAC_ARM:return r.join("chrome-headless-shell-"+uu(e),"chrome-headless-shell");case Xo.LINUX:return r.join("chrome-headless-shell-linux64","chrome-headless-shell");case Xo.WIN32:case Xo.WIN64:return r.join("chrome-headless-shell-"+uu(e),"chrome-headless-shell.exe")}},[Vo.CHROME]:function(e,t){switch(e){case Xo.MAC:case Xo.MAC_ARM:return r.join("chrome-"+ou(e),"Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing");case Xo.LINUX:return r.join("chrome-linux64","chrome");case Xo.WIN32:case Xo.WIN64:return r.join("chrome-"+ou(e),"chrome.exe")}},[Vo.CHROMIUM]:function(e,t){switch(e){case Xo.MAC:case Xo.MAC_ARM:return r.join("chrome-mac","Chromium.app","Contents","MacOS","Chromium");case Xo.LINUX:return r.join("chrome-linux","chrome");case Xo.WIN32:case Xo.WIN64:return r.join("chrome-win","chrome.exe")}},[Vo.FIREFOX]:function(e,t){const[i]=hu(t);switch(i){case fu.NIGHTLY:switch(e){case Xo.MAC_ARM:case Xo.MAC:return r.join("Firefox Nightly.app","Contents","MacOS","firefox");case Xo.LINUX:return r.join("firefox","firefox");case Xo.WIN32:case Xo.WIN64:return r.join("firefox","firefox.exe")}case fu.BETA:case fu.DEVEDITION:case fu.ESR:case fu.STABLE:switch(e){case Xo.MAC_ARM:case Xo.MAC:return r.join("Firefox.app","Contents","MacOS","firefox");case Xo.LINUX:return r.join("firefox","firefox");case Xo.WIN32:case Xo.WIN64:return r.join("core","firefox.exe")}}}},bu={[Vo.CHROMEDRIVER]:lu,[Vo.CHROMEHEADLESSSHELL]:lu,[Vo.CHROME]:lu,[Vo.CHROMIUM]:function(e,t){return Number(e)-Number(t)},[Vo.FIREFOX]:function(e,t){return parseInt(e.replace(".",""),16)-parseInt(t.replace(".",""),16)}};async function xu(e,t,i){switch(e){case Vo.FIREFOX:switch(i){case Yo.LATEST:return await mu(fu.NIGHTLY);case Yo.BETA:return await mu(fu.BETA);case Yo.NIGHTLY:return await mu(fu.NIGHTLY);case Yo.DEVEDITION:return await mu(fu.DEVEDITION);case Yo.STABLE:return await mu(fu.STABLE);case Yo.ESR:return await mu(fu.ESR);case Yo.CANARY:case Yo.DEV:throw new Error(`${i.toUpperCase()} is not available for Firefox`)}case Vo.CHROME:switch(i){case Yo.LATEST:return await cu(Jo.CANARY);case Yo.BETA:return await cu(Jo.BETA);case Yo.CANARY:return await cu(Jo.CANARY);case Yo.DEV:return await cu(Jo.DEV);case Yo.STABLE:return await cu(Jo.STABLE);case Yo.NIGHTLY:case Yo.DEVEDITION:case Yo.ESR:throw new Error(`${i.toUpperCase()} is not available for Chrome`)}case Vo.CHROMEDRIVER:switch(i){case Yo.LATEST:case Yo.CANARY:return await cu(Jo.CANARY);case Yo.BETA:return await cu(Jo.BETA);case Yo.DEV:return await cu(Jo.DEV);case Yo.STABLE:return await cu(Jo.STABLE);case Yo.NIGHTLY:case Yo.DEVEDITION:case Yo.ESR:throw new Error(`${i.toUpperCase()} is not available for ChromeDriver`)}case Vo.CHROMEHEADLESSSHELL:switch(i){case Yo.LATEST:case Yo.CANARY:return await cu(Jo.CANARY);case Yo.BETA:return await cu(Jo.BETA);case Yo.DEV:return await cu(Jo.DEV);case Yo.STABLE:return await cu(Jo.STABLE);case Yo.NIGHTLY:case Yo.DEVEDITION:case Yo.ESR:throw new Error(`${i} is not available for chrome-headless-shell`)}case Vo.CHROMIUM:switch(i){case Yo.LATEST:return await async function(e){return await su(new URL(`https://storage.googleapis.com/chromium-browser-snapshots/${pu(e)}/LAST_CHANGE`))}(t);case Yo.NIGHTLY:case Yo.CANARY:case Yo.DEV:case Yo.DEVEDITION:case Yo.BETA:case Yo.STABLE:case Yo.ESR:throw new Error(`${i} is not supported for Chromium. Use 'latest' instead.`)}}}async function ku(e,t,i){const n=i;if(Object.values(Yo).includes(n))return await xu(e,t,n);switch(e){case Vo.FIREFOX:return i;case Vo.CHROME:const e=await cu(i);return e||i;case Vo.CHROMEDRIVER:const t=await cu(i);return t||i;case Vo.CHROMEHEADLESSSHELL:const n=await cu(i);return n||i;case Vo.CHROMIUM:return i}}function Su(e,t,i){switch(e){case Vo.CHROMEDRIVER:case Vo.CHROMEHEADLESSSHELL:case Vo.FIREFOX:case Vo.CHROMIUM:throw new Error(`System browser detection is not supported for ${e} yet.`);case Vo.CHROME:return function(e,t){switch(e){case Xo.WIN64:case Xo.WIN32:switch(t){case Jo.STABLE:return`${process.env.PROGRAMFILES}\\Google\\Chrome\\Application\\chrome.exe`;case Jo.BETA:return`${process.env.PROGRAMFILES}\\Google\\Chrome Beta\\Application\\chrome.exe`;case Jo.CANARY:return`${process.env.PROGRAMFILES}\\Google\\Chrome SxS\\Application\\chrome.exe`;case Jo.DEV:return`${process.env.PROGRAMFILES}\\Google\\Chrome Dev\\Application\\chrome.exe`}case Xo.MAC_ARM:case Xo.MAC:switch(t){case Jo.STABLE:return"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";case Jo.BETA:return"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta";case Jo.CANARY:return"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary";case Jo.DEV:return"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev"}case Xo.LINUX:switch(t){case Jo.STABLE:return"/opt/google/chrome/chrome";case Jo.BETA:return"/opt/google/chrome-beta/chrome";case Jo.CANARY:return"/opt/google/chrome-canary/chrome";case Jo.DEV:return"/opt/google/chrome-unstable/chrome"}}}(t,i)}}var Eu,_u,Cu,Tu,Pu,Mu={exports:{}},Iu={exports:{}};function Ou(){if(_u)return Eu;_u=1;var e=1e3,t=60*e,i=60*t,n=24*i,r=7*n,a=365.25*n;function s(e,t,i,n){var r=t>=1.5*i;return Math.round(e/i)+" "+n+(r?"s":"")}return Eu=function(o,c){c=c||{};var l=typeof o;if("string"===l&&o.length>0)return function(s){if((s=String(s)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!o)return;var c=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*r;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(o);if("number"===l&&isFinite(o))return c.long?function(r){var a=Math.abs(r);if(a>=n)return s(r,a,n,"day");if(a>=i)return s(r,a,i,"hour");if(a>=t)return s(r,a,t,"minute");if(a>=e)return s(r,a,e,"second");return r+" ms"}(o):function(r){var a=Math.abs(r);if(a>=n)return Math.round(r/n)+"d";if(a>=i)return Math.round(r/i)+"h";if(a>=t)return Math.round(r/t)+"m";if(a>=e)return Math.round(r/e)+"s";return r+"ms"}(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))}}function Au(){if(Tu)return Cu;return Tu=1,Cu=function(e){function t(e){let n,r,a,s=null;function o(...e){if(!o.enabled)return;const i=o,r=Number(new Date),a=r-(n||r);i.diff=a,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";s++;const a=t.formatters[r];if("function"==typeof a){const t=e[s];n=a.call(i,t),e.splice(s,1),s--}return n})),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function i(e,i){const n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function n(e,t){let i=0,n=0,r=-1,a=0;for(;i<e.length;)if(n<t.length&&(t[n]===e[i]||"*"===t[n]))"*"===t[n]?(r=n,a=i,n++):(i++,n++);else{if(-1===r)return!1;n=r+1,a++,i=a}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of i)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const i of t.skips)if(n(e,i))return!1;for(const i of t.names)if(n(e,i))return!0;return!1},t.humanize=Ou(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t},Cu}var Lu,Ru,Fu={exports:{}};function Nu(){return Lu||(Lu=1,function(e,t){const i=w,n=d;t.init=function(e){e.inspectOpts={};const i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(n.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(i){const{namespace:n,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),a=`  ${r};1m${n} [0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else i[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=n.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=require("supports-color");e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const i=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e}),{}),e.exports=Au()(t);const{formatters:r}=e.exports;r.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},r.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}}(Fu,Fu.exports)),Fu.exports}function Du(){return Ru||(Ru=1,"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?Mu.exports=(Pu||(Pu=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))})),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Au()(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Iu,Iu.exports)),Iu.exports):Mu.exports=Nu()),Mu.exports}var ju=M(Du()),Bu=Object.freeze({__proto__:null,default:ju});function $u(){switch(t.platform()){case"darwin":return"arm64"===t.arch()?Xo.MAC_ARM:Xo.MAC;case"linux":return Xo.LINUX;case"win32":return"x64"===t.arch()||"arm64"===t.arch()&&function(e){const t=e.split(".");if(t.length>2){const e=parseInt(t[0],10),i=parseInt(t[1],10),n=parseInt(t[2],10);return e>10||10===e&&i>0||10===e&&0===i&&n>=22e3}return!1}(t.release())?Xo.WIN64:Xo.WIN32;default:return}}const qu=ju("puppeteer:browsers:cache");class Uu{browser;buildId;platform;executablePath;#cs;constructor(e,t,i,n){this.#cs=e,this.browser=t,this.buildId=i,this.platform=n,this.executablePath=e.computeExecutablePath({browser:t,buildId:i,platform:n})}get path(){return this.#cs.installationDir(this.browser,this.platform,this.buildId)}readMetadata(){return this.#cs.readMetadata(this.browser)}writeMetadata(e){this.#cs.writeMetadata(this.browser,e)}}class zu{#ls;constructor(e){this.#ls=e}get rootDir(){return this.#ls}browserRoot(e){return r.join(this.#ls,e)}metadataFile(e){return r.join(this.browserRoot(e),".metadata")}readMetadata(e){const t=this.metadataFile(e);if(!n.existsSync(t))return{aliases:{}};const i=JSON.parse(n.readFileSync(t,"utf8"));if("object"!=typeof i)throw new Error(".metadata is not an object");return i}writeMetadata(e,t){const i=this.metadataFile(e);n.mkdirSync(r.dirname(i),{recursive:!0}),n.writeFileSync(i,JSON.stringify(t,null,2))}resolveAlias(e,t){const i=this.readMetadata(e);return"latest"===t?Object.values(i.aliases||{}).sort(function(e){return bu[e]}(e)).at(-1):i.aliases[t]}installationDir(e,t,i){return r.join(this.browserRoot(e),`${t}-${i}`)}clear(){n.rmSync(this.#ls,{force:!0,recursive:!0,maxRetries:10,retryDelay:500})}uninstall(e,t,i){const r=this.readMetadata(e);for(const e of Object.keys(r.aliases))r.aliases[e]===i&&delete r.aliases[e];n.rmSync(this.installationDir(e,t,i),{force:!0,recursive:!0,maxRetries:10,retryDelay:500})}getInstalledBrowsers(){if(!n.existsSync(this.#ls))return[];return n.readdirSync(this.#ls).filter((e=>Object.values(Vo).includes(e))).flatMap((e=>n.readdirSync(this.browserRoot(e)).map((t=>{const i=function(e){const t=r.basename(e).split("-");if(2!==t.length)return;const[i,n]=t;if(!n||!i)return;return{platform:i,buildId:n}}(r.join(this.browserRoot(e),t));return i?new Uu(this,e,i.buildId,i.platform):null})).filter((e=>null!==e))))}computeExecutablePath(e){if(e.platform??=$u(),!e.platform)throw new Error(`Cannot download a binary for the provided platform: ${t.platform()} (${t.arch()})`);try{e.buildId=this.resolveAlias(e.browser,e.buildId)??e.buildId}catch{qu("could not read .metadata file for the browser")}const i=this.installationDir(e.browser,e.platform,e.buildId);return r.join(i,wu[e.browser](e.platform,e.buildId))}}const Hu=ju("puppeteer:browsers:launcher");const Wu=/^DevTools listening on (ws:\/\/.*)$/,Ku=/^WebDriver BiDi listening on (ws:\/\/.*)$/,Gu=new Map,Vu={exit:(...e)=>{Gu.get("exit")?.forEach((t=>t(...e)))},SIGINT:(...e)=>{Gu.get("SIGINT")?.forEach((t=>t(...e)))},SIGHUP:(...e)=>{Gu.get("SIGHUP")?.forEach((t=>t(...e)))},SIGTERM:(...e)=>{Gu.get("SIGTERM")?.forEach((t=>t(...e)))}};function Xu(e,t){const i=Gu.get(e)||[];0===i.length&&process.on(e,Vu[e]),i.push(t),Gu.set(e,i)}function Yu(e,t){const i=Gu.get(e)||[],n=i.indexOf(t);-1!==n&&(i.splice(n,1),Gu.set(e,i),0===i.length&&process.off(e,Vu[e]))}class Ju{#us;#ve;#ds;#ps=!1;#hs=!1;#fs=async()=>{};#ms;constructor(e){this.#us=e.executablePath,this.#ve=e.args??[],e.pipe??=!1,e.dumpio??=!1,e.handleSIGINT??=!0,e.handleSIGTERM??=!0,e.handleSIGHUP??=!0,e.detached??="win32"!==process.platform;const t=this.#gs({pipe:e.pipe,dumpio:e.dumpio}),i=e.env||{};Hu(`Launching ${this.#us} ${this.#ve.join(" ")}`,{detached:e.detached,env:Object.keys(i).reduce(((e,t)=>(t.toLowerCase().startsWith("puppeteer_")&&(e[t]=i[t]),e)),{}),stdio:t}),this.#ds=h.spawn(this.#us,this.#ve,{detached:e.detached,env:i,stdio:t}),Hu(`Launched ${this.#ds.pid}`),e.dumpio&&(this.#ds.stderr?.pipe(process.stderr),this.#ds.stdout?.pipe(process.stdout)),Xu("exit",this.#vs),e.handleSIGINT&&Xu("SIGINT",this.#ys),e.handleSIGTERM&&Xu("SIGTERM",this.#ys),e.handleSIGHUP&&Xu("SIGHUP",this.#ys),e.onExit&&(this.#fs=e.onExit),this.#ms=new Promise(((e,t)=>{this.#ds.once("exit",(async()=>{Hu(`Browser process ${this.#ds.pid} onExit`),this.#ws(),this.#ps=!0;try{await this.#bs()}catch(e){return void t(e)}e()}))}))}async#bs(){this.#hs||(this.#hs=!0,await this.#fs())}get nodeProcess(){return this.#ds}#gs(e){return e.pipe?e.dumpio?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]:e.dumpio?["pipe","pipe","pipe"]:["pipe","ignore","pipe"]}#ws(){Yu("exit",this.#vs),Yu("SIGINT",this.#ys),Yu("SIGTERM",this.#ys),Yu("SIGHUP",this.#ys)}#vs=e=>{this.kill()};#ys=e=>{switch(e){case"SIGINT":this.kill(),process.exit(130);case"SIGTERM":case"SIGHUP":this.close()}};async close(){return await this.#bs(),this.#ps||this.kill(),await this.#ms}hasClosed(){return this.#ms}kill(){if(Hu(`Trying to kill ${this.#ds.pid}`),this.#ds&&this.#ds.pid&&function(e){try{return process.kill(e,0)}catch(e){if(Zu(t=e)&&("errno"in t||"code"in t||"path"in t||"syscall"in t)&&e.code&&"ESRCH"===e.code)return!1;throw e}var t}(this.#ds.pid))try{if(Hu(`Browser process ${this.#ds.pid} exists`),"win32"===process.platform)try{h.execSync(`taskkill /pid ${this.#ds.pid} /T /F`)}catch(e){Hu(`Killing ${this.#ds.pid} using taskkill failed`,e),this.#ds.kill()}else{const e=-this.#ds.pid;try{process.kill(e,"SIGKILL")}catch(e){Hu(`Killing ${this.#ds.pid} using process.kill failed`,e),this.#ds.kill("SIGKILL")}}}catch(e){throw new Error(`${Qu}\nError cause: ${Zu(e)?e.stack:e}`)}this.#ws()}waitForLineOutput(e,t=0){if(!this.#ds.stderr)throw new Error("`browserProcess` does not have stderr.");const i=y.createInterface(this.#ds.stderr);let n="";return new Promise(((r,a)=>{i.on("line",l),i.on("close",c),this.#ds.on("exit",c),this.#ds.on("error",c);const s=t>0?setTimeout((function(){o(),a(new ed(`Timed out after ${t} ms while waiting for the WS endpoint URL to appear in stdout!`))}),t):void 0,o=()=>{s&&clearTimeout(s),i.off("line",l),i.off("close",c),this.#ds.off("exit",c),this.#ds.off("error",c)};function c(e){o(),a(new Error(["Failed to launch the browser process!"+(e?" "+e.message:""),n,"","TROUBLESHOOTING: https://pptr.dev/troubleshooting",""].join("\n")))}function l(t){n+=t+"\n";const i=t.match(e);i&&(o(),r(i[1]))}}))}}const Qu="Puppeteer was unable to kill the process which ran the browser binary.\nThis means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.\nPlease check your open processes and ensure that the browser processes that Puppeteer launched have been killed.\nIf you think this is a bug, please report it on the Puppeteer issue tracker.";function Zu(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}class ed extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}var td,id,nd,rd,ad,sd,od,cd,ld,ud,dd={exports:{}},pd={exports:{}};function hd(){if(nd)return pd.exports;nd=1;var e=(id||(id=1,td=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var n=t.apply(this,e),r=e[e.length-1];return"function"==typeof n&&n!==r&&Object.keys(r).forEach((function(e){n[e]=r[e]})),n}}),td);function t(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}return pd.exports=e(t),pd.exports.strict=e(i),t.proto=t((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})),pd.exports}function fd(){if(ad)return rd;ad=1;var e=hd(),t=function(){},i=function(n,r,a){if("function"==typeof r)return i(n,null,r);r||(r={}),a=e(a||t);var s=n._writableState,o=n._readableState,c=r.readable||!1!==r.readable&&n.readable,l=r.writable||!1!==r.writable&&n.writable,u=!1,d=function(){n.writable||p()},p=function(){l=!1,c||a.call(n)},h=function(){c=!1,l||a.call(n)},f=function(e){a.call(n,e?new Error("exited with error code: "+e):null)},m=function(e){a.call(n,e)},g=function(){process.nextTick(v)},v=function(){if(!u)return(!c||o&&o.ended&&!o.destroyed)&&(!l||s&&s.ended&&!s.destroyed)?void 0:a.call(n,new Error("premature close"))},y=function(){n.req.on("finish",p)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(n)?l&&!s&&(n.on("end",d),n.on("close",d)):(n.on("complete",p),n.on("abort",g),n.req?y():n.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(n)&&n.on("exit",f),n.on("end",h),n.on("finish",p),!1!==r.error&&n.on("error",m),n.on("close",g),function(){u=!0,n.removeListener("complete",p),n.removeListener("abort",g),n.removeListener("request",y),n.req&&n.req.removeListener("finish",p),n.removeListener("end",d),n.removeListener("close",d),n.removeListener("finish",p),n.removeListener("exit",f),n.removeListener("end",h),n.removeListener("error",m),n.removeListener("close",g)}};return rd=i}function md(){if(od)return sd;od=1;var e,t=hd(),i=fd();try{e=require("fs")}catch(e){}var n=function(){},r=/^v?\.0/.test(process.version),a=function(e){return"function"==typeof e},s=function(s,o,c,l){l=t(l);var u=!1;s.on("close",(function(){u=!0})),i(s,{readable:o,writable:c},(function(e){if(e)return l(e);u=!0,l()}));var d=!1;return function(t){if(!u&&!d)return d=!0,function(t){return!!r&&!!e&&(t instanceof(e.ReadStream||n)||t instanceof(e.WriteStream||n))&&a(t.close)}(s)?s.close(n):function(e){return e.setHeader&&a(e.abort)}(s)?s.abort():a(s.destroy)?s.destroy():void l(t||new Error("stream was destroyed"))}},o=function(e){e()},c=function(e,t){return e.pipe(t)};return sd=function(){var e,t=Array.prototype.slice.call(arguments),i=a(t[t.length-1]||n)&&t.pop()||n;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(n,a){var c=a<t.length-1;return s(n,c,a>0,(function(t){e||(e=t),t&&r.forEach(o),c||(r.forEach(o),i(e))}))}));return t.reduce(c)},sd}function gd(){if(ld)return cd;ld=1;const{PassThrough:e}=b;return cd=t=>{t={...t};const{array:i}=t;let{encoding:n}=t;const r="buffer"===n;let a=!1;i?a=!(n||r):n=n||"utf8",r&&(n=null);const s=new e({objectMode:a});n&&s.setEncoding(n);let o=0;const c=[];return s.on("data",(e=>{c.push(e),a?o=c.length:o+=e.length})),s.getBufferedValue=()=>i?c:r?Buffer.concat(c,o):c.join(""),s.getBufferedLength=()=>o,s}}function vd(){if(ud)return dd.exports;ud=1;const{constants:e}=x,t=md(),i=gd();class n extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function r(r,a){if(!r)return Promise.reject(new Error("Expected a stream"));a={maxBuffer:1/0,...a};const{maxBuffer:s}=a;let o;return await new Promise(((c,l)=>{const u=t=>{t&&o.getBufferedLength()<=e.MAX_LENGTH&&(t.bufferedData=o.getBufferedValue()),l(t)};o=t(r,i(a),(e=>{e?u(e):c()})),o.on("data",(()=>{o.getBufferedLength()>s&&u(new n)}))})),o.getBufferedValue()}return dd.exports=r,dd.exports.default=r,dd.exports.buffer=(e,t)=>r(e,{...t,encoding:"buffer"}),dd.exports.array=(e,t)=>r(e,{...t,array:!0}),dd.exports.MaxBufferError=n,dd.exports}var yd,wd,bd,xd,kd,Sd,Ed,_d,Cd={},Td={};function Pd(){if(bd)return Td;bd=1;var e=n,t=d,i=b,r=i.Readable,a=i.Writable,s=i.PassThrough,o=function(){if(wd)return yd;function e(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function t(e){e.pending+=1;var t=!1;return function(r){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||r,e.pending-=1,e.waiting.length>0&&e.pending<e.max)i(e,e.waiting.shift());else if(0===e.pending){var a=e.listeners;e.listeners=[],a.forEach(n)}};function n(t){t(e.error)}}function i(e,i){i(t(e))}return wd=1,yd=e,e.prototype.go=function(e){this.pending<this.max?i(this,e):this.waiting.push(e)},e.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},e.prototype.hold=function(){return t(this)},yd}(),c=l.EventEmitter;function u(e,t){t=t||{},c.call(this),this.fd=e,this.pend=new o,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function p(e,t){t=t||{},r.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function h(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function f(e,t){c.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}return Td.createFromBuffer=function(e,t){return new f(e,t)},Td.createFromFd=function(e,t){return new u(e,t)},Td.BufferSlicer=f,Td.FdSlicer=u,t.inherits(u,c),u.prototype.read=function(t,i,n,r,a){var s=this;s.pend.go((function(o){e.read(s.fd,t,i,n,r,(function(e,t,i){o(),a(e,t,i)}))}))},u.prototype.write=function(t,i,n,r,a){var s=this;s.pend.go((function(o){e.write(s.fd,t,i,n,r,(function(e,t,i){o(),a(e,t,i)}))}))},u.prototype.createReadStream=function(e){return new p(this,e)},u.prototype.createWriteStream=function(e){return new h(this,e)},u.prototype.ref=function(){this.refCount+=1},u.prototype.unref=function(){var t=this;if(t.refCount-=1,!(t.refCount>0)){if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&e.close(t.fd,(function(e){e?t.emit("error",e):t.emit("close")}))}},t.inherits(p,r),p.prototype._read=function(t){var i=this;if(!i.destroyed){var n=Math.min(i._readableState.highWaterMark,t);if(null!=i.endOffset&&(n=Math.min(n,i.endOffset-i.pos)),n<=0)return i.destroyed=!0,i.push(null),void i.context.unref();i.context.pend.go((function(t){if(i.destroyed)return t();var r=new Buffer(n);e.read(i.context.fd,r,0,n,i.pos,(function(e,n){e?i.destroy(e):0===n?(i.destroyed=!0,i.push(null),i.context.unref()):(i.pos+=n,i.push(r.slice(0,n))),t()}))}))}},p.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},t.inherits(h,a),h.prototype._write=function(t,i,n){var r=this;if(!r.destroyed){if(r.pos+t.length>r.endOffset){var a=new Error("maximum file length exceeded");return a.code="ETOOBIG",r.destroy(),void n(a)}r.context.pend.go((function(i){if(r.destroyed)return i();e.write(r.context.fd,t,0,t.length,r.pos,(function(e,t){e?(r.destroy(),i(),n(e)):(r.bytesWritten+=t,r.pos+=t,r.emit("progress"),i(),n())}))}))}},h.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},t.inherits(f,c),f.prototype.read=function(e,t,i,n,r){var a=n+i,s=a-this.buffer.length,o=s>0?s:i;this.buffer.copy(e,t,n,a),setImmediate((function(){r(null,o)}))},f.prototype.write=function(e,t,i,n,r){e.copy(this.buffer,n,t,t+i),setImmediate((function(){r(null,i,e)}))},f.prototype.createReadStream=function(e){var t=new s(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var i=this.buffer.slice(t.start,t.pos),n=0;;){var r=n+this.maxChunkSize;if(r>=i.length){n<i.length&&t.write(i.slice(n,i.length));break}t.write(i.slice(n,r)),n=r}return t.end(),t.destroy=function(){t.destroyed=!0},t},f.prototype.createWriteStream=function(e){var t=this,i=new a(e=e||{});return i.start=e.start||0,i.endOffset=null==e.end?this.buffer.length:+e.end,i.bytesWritten=0,i.pos=i.start,i.destroyed=!1,i._write=function(e,n,r){if(!i.destroyed){var a=i.pos+e.length;if(a>i.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",i.destroyed=!0,void r(s)}e.copy(t.buffer,i.pos,0,e.length),i.bytesWritten+=e.length,i.pos=a,i.emit("progress"),r()}},i.destroy=function(){i.destroyed=!0},i},f.prototype.ref=function(){this.refCount+=1},f.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")},Td}function Md(){if(kd)return xd;kd=1;var e=x.Buffer,t=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function i(t){if(e.isBuffer(t))return t;var i="function"==typeof e.alloc&&"function"==typeof e.from;if("number"==typeof t)return i?e.alloc(t):new e(t);if("string"==typeof t)return i?e.from(t):new e(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function n(n,r){n=i(n),e.isBuffer(r)&&(r=r.readUInt32BE(0));for(var a=~r,s=0;s<n.length;s++)a=t[255&(a^n[s])]^a>>>8;return~a}function r(){return e=n.apply(null,arguments),(t=i(4)).writeInt32BE(e,0),t;var e,t}return"undefined"!=typeof Int32Array&&(t=new Int32Array(t)),r.signed=function(){return n.apply(null,arguments)},r.unsigned=function(){return n.apply(null,arguments)>>>0},xd=r}function Id(){if(Sd)return Cd;Sd=1;var e=n,t=k,i=Pd(),r=Md(),a=d,s=l.EventEmitter,o=b.Transform,c=b.PassThrough,u=b.Writable;function p(t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!1),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0),null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=I),e.fstat(t,(function(e,a){if(e)return r(e);h(i.createFromFd(t,{autoClose:!0}),a.size,n,r)}))}function h(e,t,i,n){"function"==typeof i&&(n=i,i=null),null==i&&(i={}),null==i.autoClose&&(i.autoClose=!0),null==i.lazyEntries&&(i.lazyEntries=!1),null==i.decodeStrings&&(i.decodeStrings=!0);var r=!!i.decodeStrings;if(null==i.validateEntrySizes&&(i.validateEntrySizes=!0),null==i.strictFileNames&&(i.strictFileNames=!1),null==n&&(n=I),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var a=Math.min(65557,t),s=C(a),o=t-s.length;x(e,s,0,a,o,(function(c){if(c)return n(c);for(var l=a-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var u=s.slice(l),d=u.readUInt16LE(4);if(0!==d)return n(new Error("multi-disk zip files are not supported: found disk number: "+d));var p=u.readUInt16LE(10),h=u.readUInt32LE(16),m=u.readUInt16LE(20),g=u.length-22;if(m!==g)return n(new Error("invalid comment length. expected: "+g+". found: "+m));var v=r?P(u,22,u.length,!1):u.slice(22);if(65535!==p&&4294967295!==h)return n(null,new f(e,h,t,p,v,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames));var y=C(20),w=o+l-y.length;return void x(e,y,0,y.length,w,(function(a){if(a)return n(a);if(117853008!==y.readUInt32LE(0))return n(new Error("invalid zip64 end of central directory locator signature"));var s=M(y,8),o=C(56);x(e,o,0,o.length,s,(function(a){return a?n(a):101075792!==o.readUInt32LE(0)?n(new Error("invalid zip64 end of central directory record signature")):(p=M(o,32),h=M(o,48),n(null,new f(e,h,t,p,v,i.autoClose,i.lazyEntries,r,i.validateEntrySizes,i.strictFileNames)))}))}))}n(new Error("end of central directory record signature not found"))}))}function f(e,t,i,n,r,a,o,c,l,u){var d=this;s.call(d),d.reader=e,d.reader.on("error",(function(e){g(d,e)})),d.reader.once("close",(function(){d.emit("close")})),d.readEntryCursor=t,d.fileSize=i,d.entryCount=n,d.comment=r,d.entriesRead=0,d.autoClose=!!a,d.lazyEntries=!!o,d.decodeStrings=!!c,d.validateEntrySizes=!!l,d.strictFileNames=!!u,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}function m(e,t){e.autoClose&&e.close(),g(e,t)}function g(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function v(){}function y(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function w(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function x(e,t,i,n,r,a){if(0===n)return setImmediate((function(){a(null,C(0))}));e.read(t,i,n,r,(function(e,t){return e?a(e):t<n?a(new Error("unexpected EOF")):void a()}))}function S(e){o.call(this),this.actualByteCount=0,this.expectedByteCount=e}function E(){s.call(this),this.refCount=0}function _(e){c.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}Cd.open=function(t,i,n){"function"==typeof i&&(n=i,i=null);null==i&&(i={});null==i.autoClose&&(i.autoClose=!0);null==i.lazyEntries&&(i.lazyEntries=!1);null==i.decodeStrings&&(i.decodeStrings=!0);null==i.validateEntrySizes&&(i.validateEntrySizes=!0);null==i.strictFileNames&&(i.strictFileNames=!1);null==n&&(n=I);e.open(t,"r",(function(t,r){if(t)return n(t);p(r,i,(function(t,i){t&&e.close(r,I),n(t,i)}))}))},Cd.fromFd=p,Cd.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);h(i.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},Cd.fromRandomAccessReader=h,Cd.dosDateTimeToDate=y,Cd.validateFileName=w,Cd.ZipFile=f,Cd.Entry=v,Cd.RandomAccessReader=E,a.inherits(f,s),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},f.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=C(46);x(e.reader,t,0,t.length,e.readEntryCursor,(function(i){if(i)return m(e,i);if(!e.emittedError){var n=new v,a=t.readUInt32LE(0);if(33639248!==a)return m(e,new Error("invalid central directory file header signature: 0x"+a.toString(16)));if(n.versionMadeBy=t.readUInt16LE(4),n.versionNeededToExtract=t.readUInt16LE(6),n.generalPurposeBitFlag=t.readUInt16LE(8),n.compressionMethod=t.readUInt16LE(10),n.lastModFileTime=t.readUInt16LE(12),n.lastModFileDate=t.readUInt16LE(14),n.crc32=t.readUInt32LE(16),n.compressedSize=t.readUInt32LE(20),n.uncompressedSize=t.readUInt32LE(24),n.fileNameLength=t.readUInt16LE(28),n.extraFieldLength=t.readUInt16LE(30),n.fileCommentLength=t.readUInt16LE(32),n.internalFileAttributes=t.readUInt16LE(36),n.externalFileAttributes=t.readUInt32LE(38),n.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&n.generalPurposeBitFlag)return m(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=C(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),x(e.reader,t,0,t.length,e.readEntryCursor,(function(i){if(i)return m(e,i);if(!e.emittedError){var a=!!(2048&n.generalPurposeBitFlag);n.fileName=e.decodeStrings?P(t,0,n.fileNameLength,a):t.slice(0,n.fileNameLength);var s=n.fileNameLength+n.extraFieldLength,o=t.slice(n.fileNameLength,s);n.extraFields=[];for(var c=0;c<o.length-3;){var l=o.readUInt16LE(c+0),u=o.readUInt16LE(c+2),d=c+4,p=d+u;if(p>o.length)return m(e,new Error("extra field length exceeds extra field buffer size"));var h=C(u);o.copy(h,0,d,p),n.extraFields.push({id:l,data:h}),c=p}if(n.fileComment=e.decodeStrings?P(t,s,s+n.fileCommentLength,a):t.slice(s,s+n.fileCommentLength),n.comment=n.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){var f=null;for(c=0;c<n.extraFields.length;c++){if(1===(v=n.extraFields[c]).id){f=v.data;break}}if(null==f)return m(e,new Error("expected zip64 extended information extra field"));var g=0;if(4294967295===n.uncompressedSize){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=M(f,g),g+=8}if(4294967295===n.compressedSize){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=M(f,g),g+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(g+8>f.length)return m(e,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=M(f,g),g+=8}}if(e.decodeStrings)for(c=0;c<n.extraFields.length;c++){var v;if(28789===(v=n.extraFields[c]).id){if(v.data.length<6)continue;if(1!==v.data.readUInt8(0))continue;var y=v.data.readUInt32LE(1);if(r.unsigned(t.slice(0,n.fileNameLength))!==y)continue;n.fileName=P(v.data,5,v.data.length,!0);break}}if(e.validateEntrySizes&&0===n.compressionMethod){var b=n.uncompressedSize;if(n.isEncrypted()&&(b+=12),n.compressedSize!==b){var x="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return m(e,new Error(x))}}if(e.decodeStrings){e.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var k=w(n.fileName,e.validateFileNameOptions);if(null!=k)return m(e,new Error(k))}e.emit("entry",n),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},f.prototype.openReadStream=function(e,i,n){var r=this,a=0,s=e.compressedSize;if(null==n)n=i,i={};else{if(null!=i.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==i.decrypt)throw new Error("invalid options.decrypt value: "+i.decrypt);if(e.isCompressed()&&!1!==i.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=i.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==i.decompress&&!0!==i.decompress)throw new Error("invalid options.decompress value: "+i.decompress)}if(null!=i.start||null!=i.end){if(e.isCompressed()&&!1!==i.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==i.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=i.start){if((a=i.start)<0)throw new Error("options.start < 0");if(a>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=i.end){if((s=i.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<a)throw new Error("options.end < options.start")}}if(!r.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==i.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var o=C(30);x(r.reader,o,0,o.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return n(c);var l=o.readUInt32LE(0);if(67324752!==l)return n(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,d=o.readUInt16LE(26),p=o.readUInt16LE(28),h=e.relativeOffsetOfLocalHeader+o.length+d+p;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));u=null==i.decompress||i.decompress}var f=h,m=f+e.compressedSize;if(0!==e.compressedSize&&m>r.fileSize)return n(new Error("file data overflows file bounds: "+f+" + "+e.compressedSize+" > "+r.fileSize));var g=r.reader.createReadStream({start:f+a,end:f+s}),v=g;if(u){var y=!1,w=t.createInflateRaw();g.on("error",(function(e){setImmediate((function(){y||w.emit("error",e)}))})),g.pipe(w),r.validateEntrySizes?(v=new S(e.uncompressedSize),w.on("error",(function(e){setImmediate((function(){y||v.emit("error",e)}))})),w.pipe(v)):v=w,v.destroy=function(){y=!0,w!==v&&w.unpipe(v),g.unpipe(w),g.destroy()}}n(null,v)}finally{r.reader.unref()}}))},v.prototype.getLastModDate=function(){return y(this.lastModFileDate,this.lastModFileTime)},v.prototype.isEncrypted=function(){return!!(1&this.generalPurposeBitFlag)},v.prototype.isCompressed=function(){return 8===this.compressionMethod},a.inherits(S,o),S.prototype._transform=function(e,t,i){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return i(new Error(n))}i(null,e)},S.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},a.inherits(E,s),E.prototype.ref=function(){this.refCount+=1},E.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},E.prototype.createReadStream=function(e){var t=e.start,i=e.end;if(t===i){var n=new c;return setImmediate((function(){n.end()})),n}var r=this._readStreamForRange(t,i),a=!1,s=new _(this);r.on("error",(function(e){setImmediate((function(){a||s.emit("error",e)}))})),s.destroy=function(){r.unpipe(s),s.unref(),r.destroy()};var o=new S(i-t);return s.on("error",(function(e){setImmediate((function(){a||o.emit("error",e)}))})),o.destroy=function(){a=!0,s.unpipe(o),s.destroy()},r.pipe(s).pipe(o)},E.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},E.prototype.read=function(e,t,i,n,r){var a=this.createReadStream({start:n,end:n+i}),s=new u,o=0;s._write=function(i,n,r){i.copy(e,t+o,0,i.length),o+=i.length,r()},s.on("finish",r),a.on("error",(function(e){r(e)})),a.pipe(s)},E.prototype.close=function(e){setImmediate(e)},a.inherits(_,c),_.prototype._flush=function(e){this.unref(),e()},_.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var C,T="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function P(e,t,i,n){if(n)return e.toString("utf8",t,i);for(var r="",a=t;a<i;a++)r+=T[e[a]];return r}function M(e,t){var i=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+i}function I(e){if(e)throw e}return C="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)},Cd}!function(){if(_d)return Ed;_d=1;const e=Du()("extract-zip"),{createWriteStream:t,promises:i}=n,a=vd(),s=r,{promisify:o}=d,c=b,l=Id(),u=o(l.open),p=o(c.pipeline);class h{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return e("opening",this.zipPath,"with opts",this.opts),this.zipfile=await u(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(((t,n)=>{this.zipfile.on("error",(e=>{this.canceled=!0,n(e)})),this.zipfile.readEntry(),this.zipfile.on("close",(()=>{this.canceled||(e("zip extraction complete"),t())})),this.zipfile.on("entry",(async t=>{if(this.canceled)return void e("skipping entry",t.fileName,{cancelled:this.canceled});if(e("zipfile entry",t.fileName),t.fileName.startsWith("__MACOSX/"))return void this.zipfile.readEntry();const r=s.dirname(s.join(this.opts.dir,t.fileName));try{await i.mkdir(r,{recursive:!0});const n=await i.realpath(r);if(s.relative(this.opts.dir,n).split(s.sep).includes(".."))throw new Error(`Out of bound path "${n}" found while processing file ${t.fileName}`);await this.extractEntry(t),e("finished processing",t.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),n(e)}}))}))}async extractEntry(n){if(this.canceled)return void e("skipping entry extraction",n.fileName,{cancelled:this.canceled});this.opts.onEntry&&this.opts.onEntry(n,this.zipfile);const r=s.join(this.opts.dir,n.fileName),c=n.externalFileAttributes>>16&65535,l=40960==(61440&c);let u=16384==(61440&c);!u&&n.fileName.endsWith("/")&&(u=!0);const d=n.versionMadeBy>>8;u||(u=0===d&&16===n.externalFileAttributes),e("extracting entry",{filename:n.fileName,isDir:u,isSymlink:l});const h=511&this.getExtractedMode(c,u),f=u?r:s.dirname(r),m={recursive:!0};if(u&&(m.mode=h),e("mkdir",{dir:f,...m}),await i.mkdir(f,m),u)return;e("opening read stream",r);const g=await o(this.zipfile.openReadStream.bind(this.zipfile))(n);if(l){const t=await a(g);e("creating symlink",t,r),await i.symlink(t,r)}else await p(g,t(r,{mode:h}))}getExtractedMode(e,t){let i=e;return 0===i&&(t?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}}Ed=async function(t,n){if(e("creating target directory",n.dir),!s.isAbsolute(n.dir))throw new Error("Target directory is expected to be absolute");return await i.mkdir(n.dir,{recursive:!0}),n.dir=await i.realpath(n.dir),new h(t,n).extract()}}();var Od,Ad,Ld,Rd,Fd,Nd,Dd,jd,Bd,$d,qd,Ud,zd,Hd,Wd,Kd,Gd,Vd,Xd={},Yd={};function Jd(){return Rd?Ld:(Rd=1,Ld="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):Ad?Od:(Ad=1,Od="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)))}function Qd(){if(jd)return Dd;jd=1;const e=(Nd||(Nd=1,Fd=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}),Fd);return Dd=class{constructor(t){this.hwm=t||16,this.head=new e(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const i=this.head;this.head=i.next=new e(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}}}function Zd(){if($d)return Bd;function e(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return $d=1,Bd={isBuffer:function(e){return Buffer.isBuffer(e)||e instanceof Uint8Array},isEncoding:function(e){return Buffer.isEncoding(e)},alloc:function(e,t,i){return Buffer.alloc(e,t,i)},allocUnsafe:function(e){return Buffer.allocUnsafe(e)},allocUnsafeSlow:function(e){return Buffer.allocUnsafeSlow(e)},byteLength:function(e,t){return Buffer.byteLength(e,t)},compare:function(e,t){return Buffer.compare(e,t)},concat:function(e,t){return Buffer.concat(e,t)},copy:function(t,i,n,r,a){return e(t).copy(i,n,r,a)},equals:function(t,i){return e(t).equals(i)},fill:function(t,i,n,r,a){return e(t).fill(i,n,r,a)},from:function(e,t,i){return Buffer.from(e,t,i)},includes:function(t,i,n,r){return e(t).includes(i,n,r)},indexOf:function(t,i,n,r){return e(t).indexOf(i,n,r)},lastIndexOf:function(t,i,n,r){return e(t).lastIndexOf(i,n,r)},swap16:function(t){return e(t).swap16()},swap32:function(t){return e(t).swap32()},swap64:function(t){return e(t).swap64()},toBuffer:e,toString:function(t,i,n,r){return e(t).toString(i,n,r)},write:function(t,i,n,r,a){return e(t).write(i,n,r,a)},writeDoubleLE:function(t,i,n){return e(t).writeDoubleLE(i,n)},writeFloatLE:function(t,i,n){return e(t).writeFloatLE(i,n)},writeUInt32LE:function(t,i,n){return e(t).writeUInt32LE(i,n)},writeInt32LE:function(t,i,n){return e(t).writeInt32LE(i,n)},readDoubleLE:function(t,i){return e(t).readDoubleLE(i)},readFloatLE:function(t,i){return e(t).readFloatLE(i)},readUInt32LE:function(t,i){return e(t).readUInt32LE(i)},readInt32LE:function(t,i){return e(t).readInt32LE(i)},writeDoubleBE:function(t,i,n){return e(t).writeDoubleBE(i,n)},writeFloatBE:function(t,i,n){return e(t).writeFloatBE(i,n)},writeUInt32BE:function(t,i,n){return e(t).writeUInt32BE(i,n)},writeInt32BE:function(t,i,n){return e(t).writeInt32BE(i,n)},readDoubleBE:function(t,i){return e(t).readDoubleBE(i)},readFloatBE:function(t,i){return e(t).readFloatBE(i)},readUInt32BE:function(t,i){return e(t).readUInt32BE(i)},readInt32BE:function(t,i){return e(t).readInt32BE(i)}},Bd}function ep(){if(Kd)return Wd;Kd=1;const e=function(){if(Ud)return qd;Ud=1;const e=Zd();return qd=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(t){return e.toString(t,this.encoding)}flush(){return""}}}(),t=function(){if(Hd)return zd;Hd=1;const e=Zd();return zd=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(t){if(0===this.bytesNeeded){let i=!0;for(let e=Math.max(0,t.byteLength-4),n=t.byteLength;e<n&&i;e++)i=t[e]<=127;if(i)return e.toString(t,"utf8")}let i="";for(let e=0,n=t.byteLength;e<n;e++){const n=t[e];0!==this.bytesNeeded?n<this.lowerBoundary||n>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,i+=""):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&n,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(i+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):n<=127?i+=String.fromCharCode(n):(this.bytesSeen=1,n>=194&&n<=223?(this.bytesNeeded=2,this.codePoint=31&n):n>=224&&n<=239?(224===n?this.lowerBoundary=160:237===n&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=15&n):n>=240&&n<=244?(240===n&&(this.lowerBoundary=144),244===n&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=7&n):i+="")}return i}flush(){const e=this.bytesNeeded>0?"":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}}();return Wd=class{constructor(i="utf8"){switch(this.encoding=function(e){switch(e=e.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:throw new Error("Unknown encoding: "+e)}}(i),this.encoding){case"utf8":this.decoder=new t;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new e(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return"string"==typeof e?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let t="";return e&&(t=this.push(e)),t+=this.decoder.flush(),t}}}function tp(){if(Vd)return Gd;Vd=1;const{EventEmitter:e}=l,t=new Error("Stream was destroyed"),i=new Error("Premature close"),n=Jd(),r=Qd(),a=ep(),s=536870911,o=1^s,c=2^s,u=32,d=64,p=128,h=256,f=1024,m=2048,g=4096,v=8192,y=16384,w=32768,b=131072,x=131328,k=16^s,S=536805375,E=768^s,_=536838143,C=536739839,T=1<<18,P=2<<18,M=4<<18,I=8<<18,O=16<<18,A=32<<18,L=64<<18,R=128<<18,F=256<<18,N=512<<18,D=1024<<18,j=535822335,B=503316479,$=268435455,q=262160,U=536608751,z=8404992,H=14,W=15,K=8405006,G=33587200,V=33587215,X=2359296,Y=270794767,J=Symbol.asyncIterator||Symbol("asyncIterator");class Q{constructor(e,{highWaterMark:t=16384,map:i=null,mapWritable:n,byteLength:a,byteLengthWritable:s}={}){this.stream=e,this.queue=new r,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||a||ke,this.map=n||i,this.afterWrite=ae.bind(this),this.afterUpdateNextTick=ce.bind(this)}get ended(){return!!(this.stream._duplexState&A)}push(e){return!(142606350&this.stream._duplexState)&&(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=I,!0):(this.stream._duplexState|=6291456,!1))}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=534773759),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|N)&j}autoBatch(e,t){const i=[],n=this.stream;for(i.push(e);(n._duplexState&Y)===X;)i.push(n._writableState.shift());if(n._duplexState&W)return t(null);n._writev(i,t)}update(){const e=this.stream;e._duplexState|=P;do{for(;(e._duplexState&Y)===I;){const t=this.shift();e._duplexState|=67371008,e._write(t,this.afterWrite)}1310720&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=536346623}updateNonPrimary(){const e=this.stream;if((144965647&e._duplexState)===N)return e._duplexState=e._duplexState|T,void e._final(ne.bind(this));4!=(e._duplexState&H)?1==(e._duplexState&V)&&(e._duplexState=(e._duplexState|q)&o,e._open(le.bind(this))):e._duplexState&G||(e._duplexState|=q,e._destroy(re.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&R)&&(this.stream._duplexState&=B,!0)}updateCallback(){(35127311&this.stream._duplexState)===M?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&R||(this.stream._duplexState|=R,this.stream._duplexState&P||n(this.afterUpdateNextTick))}}class Z{constructor(e,{highWaterMark:t=16384,map:i=null,mapReadable:n,byteLength:a,byteLengthReadable:s}={}){this.stream=e,this.queue=new r,this.highWaterMark=0===t?1:t,this.buffered=0,this.readAhead=t>0,this.error=null,this.pipeline=null,this.byteLength=s||a||ke,this.map=n||i,this.pipeTo=null,this.afterRead=se.bind(this),this.afterUpdateNextTick=oe.bind(this)}get ended(){return!!(this.stream._duplexState&y)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new te(this.stream,e,t),t&&this.stream.on("error",Se),xe(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",Se),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",ie.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=536805311&t._duplexState|1024,!1):null!==this.map&&null===(e=this.map(e))?(t._duplexState&=S,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=(t._duplexState|p)&S,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=536862591),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const i=t[e];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===p){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=E),e._duplexState&m&&e.emit("data",t),t}return!1===this.readAhead&&(e._duplexState|=b,this.updateNextTick()),null}drain(){const e=this.stream;for(;(16527&e._duplexState)===p&&768&e._duplexState;){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=E),e._duplexState&m&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=u;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&e._duplexState)===b;)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=v,e.emit("readable")),80&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=536870879}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===f&&(e._duplexState=536869887&e._duplexState|16384,e.emit("end"),(e._duplexState&K)===z&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(e._duplexState&H)?1==(e._duplexState&V)&&(e._duplexState=(e._duplexState|q)&o,e._open(le.bind(this))):e._duplexState&G||(e._duplexState|=q,e._destroy(re.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&w)&&(this.stream._duplexState&=_,!0)}updateCallback(){(32879&this.stream._duplexState)===d?this.update():this.updateNextTick()}updateNextTickIfOpen(){32769&this.stream._duplexState||(this.stream._duplexState|=w,this.stream._duplexState&u||n(this.afterUpdateNextTick))}updateNextTick(){this.stream._duplexState&w||(this.stream._duplexState|=w,this.stream._duplexState&u||n(this.afterUpdateNextTick))}}class ee{constructor(e){this.data=null,this.afterTransform=ue.bind(e),this.afterFinal=null}}class te{constructor(e,t,i){this.from=e,this.to=t,this.afterPipe=i,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):e._duplexState&y||this.to.destroy(this.error||new Error("Readable stream closed before ending")):this.from._duplexState&y&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function ie(){this.stream._duplexState|=512,this.updateCallback()}function ne(e){const t=this.stream;e&&t.destroy(e),t._duplexState&H||(t._duplexState|=A,t.emit("finish")),(t._duplexState&K)===z&&(t._duplexState|=4),t._duplexState&=402391039,t._duplexState&P?this.updateNextTick():this.update()}function re(e){const i=this.stream;e||this.error===t||(e=this.error),e&&i.emit("error",e),i._duplexState|=8,i.emit("close");const n=i._readableState,r=i._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(i,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(i,e)}}function ae(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=469499903,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(6553615&t._duplexState)===O&&(t._duplexState&=532676607,(t._duplexState&L)===L&&t.emit("drain")),this.updateCallback()}function se(e){e&&this.stream.destroy(e),this.stream._duplexState&=k,!1!==this.readAhead||this.stream._duplexState&h||(this.stream._duplexState&=C),this.updateCallback()}function oe(){this.stream._duplexState&u||(this.stream._duplexState&=_,this.update())}function ce(){this.stream._duplexState&P||(this.stream._duplexState&=B,this.update())}function le(e){const t=this.stream;e&&t.destroy(e),4&t._duplexState||(17423&t._duplexState||(t._duplexState|=d),142606351&t._duplexState||(t._duplexState|=M),t.emit("open")),t._duplexState&=U,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function ue(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function de(e){null!==this._readableState&&("data"===e&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=g,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=L,this._writableState.updateNextTick())}class pe extends e{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Ee.bind(this))),this.on("newListener",de)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return!!(this._duplexState&H)}destroy(e){this._duplexState&H||(e||(e=t),this._duplexState=535822271&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=c,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class he extends pe{constructor(e){super(e),this._duplexState|=8519681,this._readableState=new Z(this,e),e&&(!1===this._readableState.readAhead&&(this._duplexState&=C),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){const t=new a(e),i=this._readableState.map||we;return this._readableState.map=function(e){const n=t.push(e);return""===n&&(0!==e.byteLength||t.remaining>0)?null:i(n)},this}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=x,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,t){let i;const n=new he({...t,read(t){e.next().then(r).then(t.bind(null,null)).catch(t)},predestroy(){i=e.return()},destroy(e){if(!i)return e(null);i.then(e.bind(null,null)).catch(e)}});return n;function r(e){e.done?n.push(null):n.push(e.value)}}static from(e,t){if(xe(i=e)&&i.readable)return e;var i;if(e[J])return this._fromAsyncIterator(e[J](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let n=0;return new he({...t,read(t){this.push(n===e.length?null:e[n++]),t(null)}})}static isBackpressured(e){return!!(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return!(e._duplexState&h)}[J](){const e=this;let i=null,n=null,r=null;return this.on("error",(e=>{i=e})),this.on("readable",(function(){null!==n&&a(e.read())})),this.on("close",(function(){null!==n&&a(null)})),{[J](){return this},next:()=>new Promise((function(t,i){n=t,r=i;const s=e.read();null!==s?a(s):8&e._duplexState&&a(null)})),return:()=>s(null),throw:e=>s(e)};function a(a){null!==r&&(i?r(i):null!==a||e._duplexState&y?n({value:a,done:null===a}):r(t),r=n=null)}function s(t){return e.destroy(t),new Promise(((i,n)=>{if(8&e._duplexState)return i({value:void 0,done:!0});e.once("close",(function(){t?n(t):i({value:void 0,done:!0})}))}))}}}class fe extends pe{constructor(e){super(e),this._duplexState|=16385,this._writableState=new Q(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=D}uncork(){this._duplexState&=$,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return!!(146800654&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState;var i;const n=((i=e)._writev!==fe.prototype._writev&&i._writev!==me.prototype._writev?Math.min(1,t.queue.length):t.queue.length)+(e._duplexState&F?1:0);return 0===n?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:n,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class me extends he{constructor(e){super(e),this._duplexState=1|this._duplexState&b,this._writableState=new Q(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=D}uncork(){this._duplexState&=$,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class ge extends me{constructor(e){super(e),this._transformState=new ee(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(ve.bind(this))}}function ve(e,t){const i=this._transformState.afterFinal;if(e)return i(e);null!=t&&this.push(t),this.push(null),i(null)}function ye(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let a=n[0],s=null,o=null;for(let e=1;e<n.length;e++)s=n[e],xe(a)?a.pipe(s,l):(c(a,!0,e>1,l),a.pipe(s)),a=s;if(r){let e=!1;const t=xe(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===o&&(o=e)})),s.on("finish",(()=>{e=!0,t||r(o)})),t&&s.on("close",(()=>r(o||(e?null:i))))}return s;function c(e,t,n,r){e.on("error",r),e.on("close",(function(){if(e._readableState&&!e._readableState.ended)return r(i);if(n&&e._writableState&&!e._writableState.ended)return r(i)}))}function l(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function we(e){return e}function be(e){return!!e._readableState||!!e._writableState}function xe(e){return"number"==typeof e._duplexState&&be(e)}function ke(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function Se(){}function Ee(){this.destroy(new Error("Stream aborted."))}return Gd={pipeline:ye,pipelinePromise:function(...e){return new Promise(((t,i)=>ye(...e,(e=>{if(e)return i(e);t()}))))},isStream:be,isStreamx:xe,isEnded:function(e){return!!e._readableState&&e._readableState.ended},isFinished:function(e){return!!e._writableState&&e._writableState.ended},isDisturbed:function(e){return!!(1&~e._duplexState)||!!(e._duplexState&G)},getStreamError:function(e,i={}){const n=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return i.all||n!==t?n:null},Stream:pe,Writable:fe,Readable:he,Duplex:me,Transform:ge,PassThrough:class extends ge{}}}var ip,np,rp,ap={};function sp(){if(ip)return ap;ip=1;const e=Zd(),t="0".charCodeAt(0),i=e.from([117,115,116,97,114,0]),n=e.from([t,t]),r=e.from([117,115,116,97,114,32]),a=e.from([32,0]),s=257,o=263;function c(e,t,i,n){for(;i<n;i++)if(e[i]===t)return i;return n}function l(e){let t=256;for(let i=0;i<148;i++)t+=e[i];for(let i=156;i<512;i++)t+=e[i];return t}function u(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "}function d(t,i,n){if(128&(t=t.subarray(i,i+n))[i=0])return function(e){let t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}const i=[];let n;for(n=e.length-1;n>0;n--){const r=e[n];t?i.push(r):i.push(255-r)}let r=0;const a=i.length;for(n=0;n<a;n++)r+=i[n]*Math.pow(256,n);return t?r:-1*r}(t);{for(;i<t.length&&32===t[i];)i++;const n=function(e,t,i){return"number"!=typeof e?i:(e=~~e)>=t?t:e>=0||(e+=t)>=0?e:0}(c(t,32,i,t.length),t.length,t.length);for(;i<n&&0===t[i];)i++;return n===i?0:parseInt(e.toString(t.subarray(i,n)),8)}}function p(t,i,n,r){return e.toString(t.subarray(i,c(t,0,i,i+n)),r)}function h(t){const i=e.byteLength(t);let n=Math.floor(Math.log(i)/Math.log(10))+1;return i+n>=Math.pow(10,n)&&n++,i+n+t}return ap.decodeLongPath=function(e,t){return p(e,0,e.length,t)},ap.encodePax=function(t){let i="";t.name&&(i+=h(" path="+t.name+"\n")),t.linkname&&(i+=h(" linkpath="+t.linkname+"\n"));const n=t.pax;if(n)for(const e in n)i+=h(" "+e+"="+n[e]+"\n");return e.from(i)},ap.decodePax=function(t){const i={};for(;t.length;){let n=0;for(;n<t.length&&32!==t[n];)n++;const r=parseInt(e.toString(t.subarray(0,n)),10);if(!r)return i;const a=e.toString(t.subarray(n+1,r-1)),s=a.indexOf("=");if(-1===s)return i;i[a.slice(0,s)]=a.slice(s+1),t=t.subarray(r)}return i},ap.encode=function(r){const a=e.alloc(512);let o=r.name,c="";if(5===r.typeflag&&"/"!==o[o.length-1]&&(o+="/"),e.byteLength(o)!==o.length)return null;for(;e.byteLength(o)>100;){const e=o.indexOf("/");if(-1===e)return null;c+=c?"/"+o.slice(0,e):o.slice(0,e),o=o.slice(e+1)}return e.byteLength(o)>100||e.byteLength(c)>155||r.linkname&&e.byteLength(r.linkname)>100?null:(e.write(a,o),e.write(a,u(4095&r.mode,6),100),e.write(a,u(r.uid,6),108),e.write(a,u(r.gid,6),116),function(t,i,n){t.toString(8).length>11?function(e,t,i){t[i]=128;for(let n=11;n>0;n--)t[i+n]=255&e,e=Math.floor(e/256)}(t,i,n):e.write(i,u(t,11),n)}(r.size,a,124),e.write(a,u(r.mtime.getTime()/1e3|0,11),136),a[156]=t+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(r.type),r.linkname&&e.write(a,r.linkname,157),e.copy(i,a,s),e.copy(n,a,263),r.uname&&e.write(a,r.uname,265),r.gname&&e.write(a,r.gname,297),e.write(a,u(r.devmajor||0,6),329),e.write(a,u(r.devminor||0,6),337),c&&e.write(a,c,345),e.write(a,u(l(a),6),148),a)},ap.decode=function(n,c,u){let h=0===n[156]?0:n[156]-t,f=p(n,0,100,c);const m=d(n,100,8),g=d(n,108,8),v=d(n,116,8),y=d(n,124,12),w=d(n,136,12),b=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(h),x=0===n[157]?null:p(n,157,100,c),k=p(n,265,32),S=p(n,297,32),E=d(n,329,8),_=d(n,337,8),C=l(n);if(256===C)return null;if(C!==d(n,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(t){return e.equals(i,t.subarray(s,263))}(n))n[345]&&(f=p(n,345,155,c)+"/"+f);else if(function(t){return e.equals(r,t.subarray(s,263))&&e.equals(a,t.subarray(o,265))}(n));else if(!u)throw new Error("Invalid tar header: unknown format.");return 0===h&&f&&"/"===f[f.length-1]&&(h=5),{name:f,mode:m,uid:g,gid:v,size:y,mtime:new Date(1e3*w),type:b,linkname:x,uname:k,gname:S,devmajor:E,devminor:_,pax:null}},ap}var op,cp,lp,up,dp,pp={exports:{}};function hp(){if(lp)return cp;lp=1;const{Readable:e,Writable:t,getStreamError:i}=tp(),n=Zd(),r=function(){if(op)return pp.exports;op=1;const e={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{pp.exports=require("fs").constants||e}catch{pp.exports=e}return pp.exports}(),a=sp(),s=n.alloc(1024);class o extends t{constructor(e,t,i){super({mapWritable:d,eagerOpen:!0}),this.written=0,this.header=t,this._callback=i,this._linkname=null,this._isLinkname="symlink"===t.type&&!t.linkname,this._isVoid="file"!==t.type&&"contiguous-file"!==t.type,this._finished=!1,this._pack=e,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(null===this._callback)return;const t=this._callback;this._callback=null,t(e)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,null!==e){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){return this._isLinkname?(this._linkname=this._linkname?n.concat([this._linkname,e]):e,t(null)):this._isVoid?e.byteLength>0?t(new Error("No body allowed for this entry")):t():(this.written+=e.byteLength,this._pack.push(e)?t():void(this._pack._drain=t))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?n.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),u(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return i(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class c extends e{constructor(e){super(e),this._drain=l,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,i){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof t&&(i=t,t=null),i||(i=l),e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?493:420),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=n.from(t));const a=new o(this,e,i);return n.isBuffer(t)?(e.size=t.byteLength,a.write(t),a.end(),a):(a._isVoid,a)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(s),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const t=a.encode(e);if(t)return void this.push(t)}this._encodePax(e)}_encodePax(e){const t=a.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),i={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(a.encode(i)),this.push(t),u(this,t.byteLength),i.size=e.size,i.type=e.type,this.push(a.encode(i))}_doDrain(){const e=this._drain;this._drain=l,e()}_predestroy(){const e=i(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}function l(){}function u(e,t){(t&=511)&&e.push(s.subarray(0,512-t))}function d(e){return n.isBuffer(e)?e:n.from(e)}return cp=function(e){return new c(e)}}function fp(){return up||(up=1,Yd.extract=function(){if(rp)return np;rp=1;const{Writable:e,Readable:t,getStreamError:i}=tp(),n=Qd(),r=Zd(),a=sp(),s=r.alloc(0);class o{constructor(){this.buffered=0,this.shifted=0,this.queue=new n,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return 0===this._buffered?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(0===e)return s;let t=this._next(e);if(e===t.byteLength)return t;const i=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),i.push(t);return r.concat(i)}_next(e){const t=this.queue.peek(),i=t.byteLength-this._offset;if(e>=i){const e=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=i,this.shifted+=i,e}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}}class c extends t{constructor(e,t,i){super(),this.header=t,this.offset=i,this._parent=e}_read(e){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(i(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=d(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class l extends e{constructor(e){super(e),e||(e={}),this._buffer=new o,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=u,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e)return this.destroy(e),void this._continueWrite(e);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=a.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=a.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=a.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=a.decodePax(e);break;case"pax-header":this._pax=null===this._paxGlobal?a.decodePax(e):Object.assign({},this._paxGlobal,a.decodePax(e))}}_consumeLongHeader(){this._longHeader=!1,this._missing=d(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){return this._continueWrite(e),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(null===e)return!1;this._missing-=e.byteLength;const t=this._stream.push(e);return 0===this._missing?(this._stream.push(null),t&&this._stream._detach(),t&&!1===this._locked):t}_createStream(){return new c(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const e=this._buffer.shiftFirst(this._missing);null!==e&&(this._missing-=e.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(e){const t=this._callback;this._callback=u,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=0===this._missing&&0===this._buffer.buffered,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(i(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,i=null,n=null,r=null;const a=this;return this.on("entry",(function(e,a,s){r=s,a.on("error",u),t?(t({value:a,done:!1}),t=i=null):n=a})),this.on("error",(t=>{e=t})),this.on("close",(function(){s(e),t&&(e?i(e):t({value:void 0,done:!0}),t=i=null)})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(o),return:()=>c(null),throw:e=>c(e)};function s(e){if(!r)return;const t=r;r=null,t(e)}function o(r,o){return e?o(e):n?(r({value:n,done:!1}),void(n=null)):(t=r,i=o,s(null),void(a._finished&&t&&(t({value:void 0,done:!0}),t=i=null)))}function c(e){return a.destroy(e),s(e),new Promise(((t,i)=>{if(a.destroyed)return t({value:void 0,done:!0});a.once("close",(function(){e?i(e):t({value:void 0,done:!0})}))}))}}}function u(){}function d(e){return(e&=511)&&512-e}return np=function(e){return new l(e)}}(),Yd.pack=hp()),Yd}!function(){if(dp)return Xd;dp=1;const e=fp(),t=md(),i=n,a=r,s="win32"===(P.Bare?.platform||process.platform);function o(){return process.umask?process.umask():0}function c(e,t,i,n){if(t===i)return n(null,!0);e.lstat(t,(function(r,s){return r&&"ENOENT"===r.code?c(e,a.join(t,".."),i,n):r?n(r):void n(null,s.isDirectory())}))}function l(){}function u(e){return e}function d(e){return s?e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_"):e}function p(e,t){return function(i){i.name=i.name.split("/").slice(t).join("/");const n=i.linkname;return n&&("link"===i.type||a.isAbsolute(n))&&(i.linkname=n.split("/").slice(t).join("/")),e(i)}}Xd.pack=function(n,r){n||(n="."),r||(r={});const s=r.fs||i,c=r.ignore||r.filter||l,h=r.mapStream||u,f=function(e,t,i,n,r,s){r||(r=["."]);const o=r.slice(0);return function(c){if(!o.length)return c(null);const l=o.shift(),u=a.join(i,l);t.call(e,u,(function(t,d){return t?c(-1===r.indexOf(l)&&"ENOENT"===t.code?null:t):d.isDirectory()?void e.readdir(u,(function(e,t){if(e)return c(e);s&&t.sort();for(let e=0;e<t.length;e++)n(a.join(i,l,t[e]))||o.push(a.join(l,t[e]));c(null,l,d)})):c(null,l,d)}))}}(s,r.dereference?s.stat:s.lstat,n,c,r.entries,r.sort),m=!1!==r.strict,g="number"==typeof r.umask?~r.umask:~o(),v=r.pack||e.pack(),y=r.finish||l;let w=r.map||l,b="number"==typeof r.dmode?r.dmode:0,x="number"==typeof r.fmode?r.fmode:0;function k(e,i,o){if(v.destroyed)return;if(e)return v.destroy(e);if(!i)return!1!==r.finalize&&v.finalize(),y(v);if(o.isSocket())return S();let c={name:d(i),mode:(o.mode|(o.isDirectory()?b:x))&g,mtime:o.mtime,size:o.size,type:"file",uid:o.uid,gid:o.gid};if(o.isDirectory())return c.size=0,c.type="directory",c=w(c)||c,v.entry(c,S);if(o.isSymbolicLink())return c.size=0,c.type="symlink",c=w(c)||c,function(e,t){s.readlink(a.join(n,e),(function(e,i){if(e)return v.destroy(e);t.linkname=d(i),v.entry(t,S)}))}(i,c);if(c=w(c)||c,!o.isFile())return m?v.destroy(new Error("unsupported type for "+i)):S();const l=v.entry(c,S),u=h(s.createReadStream(a.join(n,i),{start:0,end:c.size>0?c.size-1:c.size}),c);u.on("error",(function(e){l.destroy(e)})),t(u,l)}function S(e){if(e)return v.destroy(e);f(k)}return r.strip&&(w=p(w,r.strip)),r.readable&&(b|=parseInt(555,8),x|=parseInt(444,8)),r.writable&&(b|=parseInt(333,8),x|=parseInt(222,8)),S(),v},Xd.extract=function(n,r){n||(n="."),r||(r={});const h=r.fs||i,f=r.ignore||r.filter||l,m=r.mapStream||u,g=!1!==r.chown&&!s&&0===(process.getuid?process.getuid():-1),v=r.extract||e.extract(),y=[],w=new Date,b="number"==typeof r.umask?~r.umask:~o(),x=!1!==r.strict;let k=r.map||l,S="number"==typeof r.dmode?r.dmode:0,E="number"==typeof r.fmode?r.fmode:0;return r.strip&&(k=p(k,r.strip)),r.readable&&(S|=parseInt(555,8),E|=parseInt(444,8)),r.writable&&(S|=parseInt(333,8),E|=parseInt(222,8)),v.on("entry",(function(e,i,o){(e=k(e)||e).name=d(e.name);const l=a.join(n,a.join("/",e.name));if(f(l,e))return i.resume(),o();if("directory"===e.type)return y.push([l,e.mtime]),T(l,{fs:h,own:g,uid:e.uid,gid:e.gid,mode:e.mode},p);const u=a.dirname(l);function p(t){if(t)return o(t);!function(e,t,i){if(!1===r.utimes)return i();if("directory"===t.type)return h.utimes(e,w,t.mtime,i);if("symlink"===t.type)return _(e,i);h.utimes(e,w,t.mtime,(function(t){if(t)return i(t);_(e,i)}))}(l,e,(function(t){return t?o(t):s?o():void C(l,e,o)}))}function v(){const n=h.createWriteStream(l),r=m(i,e);n.on("error",(function(e){r.destroy(e)})),t(r,n,(function(e){if(e)return o(e);n.on("close",p)}))}c(h,u,a.join(n,"."),(function(t,c){return t?o(t):c?void T(u,{fs:h,own:g,uid:e.uid,gid:e.gid,mode:493},(function(t){if(t)return o(t);switch(e.type){case"file":return v();case"link":return function(){if(s)return o();h.unlink(l,(function(){const t=a.join(n,a.join("/",e.linkname));h.link(t,l,(function(e){if(e&&"EPERM"===e.code&&r.hardlinkAsFilesFallback)return i=h.createReadStream(t),v();p(e)}))}))}();case"symlink":return function(){if(s)return o();h.unlink(l,(function(){h.symlink(e.linkname,l,p)}))}()}if(x)return o(new Error("unsupported type for "+l+" ("+e.type+")"));i.resume(),o()})):o(new Error(u+" is not a valid path"))}))})),r.finish&&v.on("finish",r.finish),v;function _(e,t){let i;for(;(i=(n=y).length?n[n.length-1]:null)&&e.slice(0,i[0].length)!==i[0];)y.pop();var n;if(!i)return t();h.utimes(i[0],w,i[1],t)}function C(e,t,i){const n="symlink"===t.type,r=n?h.lchmod:h.chmod,a=n?h.lchown:h.chown;if(!r)return i();const s=(t.mode|("directory"===t.type?S:E))&b;function o(t){return t?i(t):r?void r.call(h,e,s,i):i()}a&&g?a.call(h,e,t.uid,t.gid,o):o(null)}function T(e,t,i){h.stat(e,(function(n){return n?"ENOENT"!==n.code?i(n):void h.mkdir(e,{mode:t.mode,recursive:!0},(function(n,r){if(n)return i(n);C(e,t,i)})):i(null)}))}}}();var mp,gp,vp,yp,wp,bp,xp,kp={exports:{}};function Sp(){return mp||(mp=1,function(e){var t=b;function i(e,i,n){e=e||function(e){this.queue(e)},i=i||function(){this.queue(null)};var r=!1,a=!1,s=[],o=!1,c=new t;function l(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(n&&!1===n.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return o||(null===e&&(o=!0),s.push(e),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!r)return r=!0,arguments.length&&c.write(e),c.writable=!1,i.call(c),!c.readable&&c.autoDestroy&&c.destroy(),c},c.destroy=function(){if(!a)return a=!0,r=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i}(kp)),kp.exports}async function Ep(e){if(e.platform??=$u(),!e.platform)throw new Error(`Cannot detect the browser platform for: ${t.platform()} (${t.arch()})`);new zu(e.cacheDir).uninstall(e.browser,e.platform,e.buildId)}!function(){if(xp)return bp;xp=1;var e=Sp(),t=function(){if(vp)return gp;function e(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}vp=1,e.prototype=new Error;var t=function(t){throw new e(t)},i={};return i.Bzip2Error=e,i.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],i.array=function(e){var t=0,i=0,n=[0,1,3,7,15,31,63,127,255];return function(r){for(var a=0;r>0;){var s=8-t;r>=s?(a<<=s,a|=n[s]&e[i++],t=0,r-=s):(a<<=r,a|=(e[i]&n[r]<<8-r-t)>>8-r-t,t+=r,r=0)}return a}},i.simple=function(e,t){var n=i.array(e),r=!1,a=1e5*i.header(n),s=new Int32Array(a);do{r=i.decompress(n,t,s,a)}while(!r)},i.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&t("No magic number found");var i=e(8)-48;return(i<1||i>9)&&t("Not a BZIP archive"),i},i.decompress=function(e,i,n,r,a){for(var s=-1,o="",c=0;c<6;c++)o+=e(8).toString(16);if("177245385090"==o)return(0|e(32))!==a&&t("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=o&&t("eek not valid bzip data");var l=0|e(32);e(1)&&t("unsupported obsolete version");var u=e(24);u>r&&t("Initial position larger than buffer size");var d=e(16),p=0;for(c=0;c<16;c++)if(d&1<<15-c){var h=e(16);for(g=0;g<16;g++)h&1<<15-g&&(this.symToByte[p++]=16*c+g)}var f=e(3);(f<2||f>6)&&t("another error");var m=e(15);for(0==m&&t("meh"),c=0;c<f;c++)this.mtfSymbol[c]=c;for(c=0;c<m;c++){for(var g=0;e(1);g++)g>=f&&t("whoops another error");var v=this.mtfSymbol[g];for(h=g-1;h>=0;h--)this.mtfSymbol[h+1]=this.mtfSymbol[h];this.mtfSymbol[0]=v,this.selectors[c]=v}var y,w,b,x,k=p+2,S=[],E=new Uint8Array(258),_=new Uint16Array(21);for(g=0;g<f;g++){for(d=e(5),c=0;c<k;c++){for(;(d<1||d>20)&&t("I gave up a while ago on writing error messages"),e(1);)e(1)?d--:d++;E[c]=d}var C,T;for(C=T=E[0],c=1;c<k;c++)E[c]>T?T=E[c]:E[c]<C&&(C=E[c]);(y=S[g]={}).permute=new Int32Array(258),y.limit=new Int32Array(21),y.base=new Int32Array(21),y.minLen=C,y.maxLen=T;var P=y.base,M=y.limit,I=0;for(c=C;c<=T;c++)for(d=0;d<k;d++)E[d]==c&&(y.permute[I++]=d);for(c=C;c<=T;c++)_[c]=M[c]=0;for(c=0;c<k;c++)_[E[c]]++;for(I=d=0,c=C;c<T;c++)I+=_[c],M[c]=I-1,I<<=1,P[c+1]=I-(d+=_[c]);M[T]=I+_[T]-1,P[C]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(w=b=k=x=0;;){for(k--||(k=49,x>=m&&t("meow i'm a kitty, that's an error"),P=(y=S[this.selectors[x++]]).base,M=y.limit),g=e(c=y.minLen);c>y.maxLen&&t("rawr i'm a dinosaur"),!(g<=M[c]);)c++,g=g<<1|e(1);((g-=P[c])<0||g>=258)&&t("moo i'm a cow");var O=y.permute[g];if(0!=O&&1!=O){if(w)for(w=0,b+d>r&&t("Boom."),v=this.symToByte[this.mtfSymbol[0]],this.byteCount[v]+=d;d--;)n[b++]=v;if(O>p)break;for(b>=r&&t("I can't think of anything. Error"),c=O-1,v=this.mtfSymbol[c],h=c-1;h>=0;h--)this.mtfSymbol[h+1]=this.mtfSymbol[h];this.mtfSymbol[0]=v,v=this.symToByte[v],this.byteCount[v]++,n[b++]=v}else w||(w=1,d=0),d+=0==O?w:2*w,w<<=1}for((u<0||u>=b)&&t("I'm a monkey and I'm throwing something at someone, namely you"),g=0,c=0;c<256;c++)h=g+this.byteCount[c],this.byteCount[c]=g,g=h;for(c=0;c<b;c++)v=255&n[c],n[this.byteCount[v]]|=c<<8,this.byteCount[v]++;var A,L,R,F=0,N=0,D=0;for(b&&(N=255&(F=n[u]),F>>=8,D=-1);b;){for(b--,L=N,N=255&(F=n[F]),F>>=8,3==D++?(A=N,R=L,N=-1):(A=1,R=N);A--;)s=4294967295&(s<<8^this.crcTable[255&(s>>24^R)]),i(R);N!=L&&(D=0)}return(0|(s=~s>>>0))!=(0|l)&&t("Error in bzip2: crc32 do not match"),4294967295&(s^(a<<1|a>>>31))},gp=i}(),i=function(){if(wp)return yp;wp=1;var e=[0,1,3,7,15,31,63,127,255];return yp=function(t){var i=0,n=0,r=t(),a=function(s){if(null===s&&0!=i)return i=0,void n++;for(var o=0;s>0;){n>=r.length&&(n=0,r=t());var c=8-i;0===i&&s>0&&a.bytesRead++,s>=c?(o<<=c,o|=e[c]&r[n++],i=0,s-=c):(o<<=s,o|=(r[n]&e[s]<<8-s-i)>>8-s-i,i+=s,s=0)}return o};return a.bytesRead=0,a},yp}();bp=function(){var n=[],r=0,a=0,s=!1,o=null,c=null;function l(e){if(!s)try{return function(e){if(a){var i=1e5*a,n=new Int32Array(i),r=[];return null===(c=t.decompress(o,(function(e){r.push(e)}),n,i,c))?(a=0,!1):(e(Buffer.from(r)),!0)}return a=t.header(o),c=0,!0}((function(t){e.queue(t),null!==t&&t.length}))}catch(t){return e.emit("error",t),s=!0,!1}}return e((function(e){for(n.push(e),r+=e.length,null===o&&(o=i((function(){return n.shift()})));!s&&r-o.bytesRead+1>=(25e3+1e5*a||4);)l(this)}),(function(e){for(;!s&&o&&r>o.bytesRead;)l(this);s||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}}(),ju("puppeteer:browsers:install");var _p,Cp,Tp={exports:{}};Cp||(Cp=1,_p||(_p=1,function(){function e(e,t){if(this.stream=t.stream||process.stderr,"number"==typeof t){var i=t;(t={}).total=i}else{if(t=t||{},"string"!=typeof e)throw new Error("format required");if("number"!=typeof t.total)throw new Error("total required")}this.fmt=e,this.curr=t.curr||0,this.total=t.total,this.width=t.width||this.total,this.clear=t.clear,this.chars={complete:t.complete||"=",incomplete:t.incomplete||"-",head:t.head||t.complete||"="},this.renderThrottle=0!==t.renderThrottle?t.renderThrottle||16:0,this.lastRender=-1/0,this.callback=t.callback||function(){},this.tokens={},this.lastDraw=""}Tp.exports=e,e.prototype.tick=function(e,t){if(0!==e&&(e=e||1),"object"==typeof e&&(t=e,e=1),t&&(this.tokens=t),0==this.curr&&(this.start=new Date),this.curr+=e,this.render(),this.curr>=this.total)return this.render(void 0,!0),this.complete=!0,this.terminate(),void this.callback(this)},e.prototype.render=function(e,t){if(t=void 0!==t&&t,e&&(this.tokens=e),this.stream.isTTY){var i=Date.now(),n=i-this.lastRender;if(t||!(n<this.renderThrottle)){this.lastRender=i;var r=this.curr/this.total;r=Math.min(Math.max(r,0),1);var a,s,o,c=Math.floor(100*r),l=new Date-this.start,u=100==c?0:l*(this.total/this.curr-1),d=this.curr/(l/1e3),p=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(l)?"0.0":(l/1e3).toFixed(1)).replace(":eta",isNaN(u)||!isFinite(u)?"0.0":(u/1e3).toFixed(1)).replace(":percent",c.toFixed(0)+"%").replace(":rate",Math.round(d)),h=Math.max(0,this.stream.columns-p.replace(":bar","").length);h&&"win32"===process.platform&&(h-=1);var f=Math.min(this.width,h);if(o=Math.round(f*r),s=Array(Math.max(0,o+1)).join(this.chars.complete),a=Array(Math.max(0,f-o+1)).join(this.chars.incomplete),o>0&&(s=s.slice(0,-1)+this.chars.head),p=p.replace(":bar",s+a),this.tokens)for(var m in this.tokens)p=p.replace(":"+m,this.tokens[m]);this.lastDraw!==p&&(this.stream.cursorTo(0),this.stream.write(p),this.stream.clearLine(1),this.lastDraw=p)}}},e.prototype.update=function(e,t){var i=Math.floor(e*this.total)-this.curr;this.tick(i,t)},e.prototype.interrupt=function(e){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(e),this.stream.write("\n"),this.stream.write(this.lastDraw)},e.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write("\n")}}())),J();var Pp,Mp,Ip,Op,Ap,Lp,Rp,Fp={exports:{}};function Np(){if(Mp)return Pp;Mp=1;const e=["nodebuffer","arraybuffer","fragments"],t="undefined"!=typeof Blob;return t&&e.push("blob"),Pp={BINARY_TYPES:e,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:t,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}function Dp(){if(Ip)return Fp.exports;Ip=1;const{EMPTY_BUFFER:e}=Np(),t=Buffer[Symbol.species];function i(e,t,i,n,r){for(let a=0;a<r;a++)i[n+a]=e[a]^t[3&a]}function n(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(Fp.exports={concat:function(i,n){if(0===i.length)return e;if(1===i.length)return i[0];const r=Buffer.allocUnsafe(n);let a=0;for(let e=0;e<i.length;e++){const t=i[e];r.set(t,a),a+=t.length}return a<n?new t(r.buffer,r.byteOffset,a):r},mask:i,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(i){if(e.readOnly=!0,Buffer.isBuffer(i))return i;let n;return i instanceof ArrayBuffer?n=new t(i):ArrayBuffer.isView(i)?n=new t(i.buffer,i.byteOffset,i.byteLength):(n=Buffer.from(i),e.readOnly=!1),n},unmask:n},!process.env.WS_NO_BUFFER_UTIL)try{const e=require("bufferutil");Fp.exports.mask=function(t,n,r,a,s){s<48?i(t,n,r,a,s):e.mask(t,n,r,a,s)},Fp.exports.unmask=function(t,i){t.length<32?n(t,i):e.unmask(t,i)}}catch(e){}return Fp.exports}function jp(){if(Rp)return Lp;Rp=1;const e=k,t=Dp(),i=function(){if(Ap)return Op;Ap=1;const e=Symbol("kDone"),t=Symbol("kRun");return Op=class{constructor(i){this[e]=()=>{this.pending--,this[t]()},this.concurrency=i||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[t]()}[t](){if(this.pending!==this.concurrency&&this.jobs.length){const t=this.jobs.shift();this.pending++,t(this[e])}}}}(),{kStatusCode:n}=Np(),r=Buffer[Symbol.species],a=Buffer.from([0,0,255,255]),s=Symbol("permessage-deflate"),o=Symbol("total-length"),c=Symbol("callback"),l=Symbol("buffers"),u=Symbol("error");let d;function p(e){this[l].push(e),this[o]+=e.length}function h(e){this[o]+=e.length,this[s]._maxPayload<1||this[o]<=this[s]._maxPayload?this[l].push(e):(this[u]=new RangeError("Max payload size exceeded"),this[u].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[u][n]=1009,this.removeListener("data",h),this.reset())}function f(e){this[s]._inflate=null,e[n]=1007,this[c](e)}return Lp=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!d){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;d=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[c];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,i=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!i)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:!0!==i.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete i.client_max_window_bits,i}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let i=e[t];if(i.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){const e=+i;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==i)throw new TypeError(`Invalid value for parameter "${t}": ${i}`)}e[t]=i}))})),e}decompress(e,t,i){d.add((n=>{this._decompress(e,t,((e,t)=>{n(),i(e,t)}))}))}compress(e,t,i){d.add((n=>{this._compress(e,t,((e,t)=>{n(),i(e,t)}))}))}_decompress(i,n,r){const d=this._isServer?"client":"server";if(!this._inflate){const t=`${d}_max_window_bits`,i="number"!=typeof this.params[t]?e.Z_DEFAULT_WINDOWBITS:this.params[t];this._inflate=e.createInflateRaw({...this._options.zlibInflateOptions,windowBits:i}),this._inflate[s]=this,this._inflate[o]=0,this._inflate[l]=[],this._inflate.on("error",f),this._inflate.on("data",h)}this._inflate[c]=r,this._inflate.write(i),n&&this._inflate.write(a),this._inflate.flush((()=>{const e=this._inflate[u];if(e)return this._inflate.close(),this._inflate=null,void r(e);const i=t.concat(this._inflate[l],this._inflate[o]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[o]=0,this._inflate[l]=[],n&&this.params[`${d}_no_context_takeover`]&&this._inflate.reset()),r(null,i)}))}_compress(i,n,a){const s=this._isServer?"server":"client";if(!this._deflate){const t=`${s}_max_window_bits`,i="number"!=typeof this.params[t]?e.Z_DEFAULT_WINDOWBITS:this.params[t];this._deflate=e.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:i}),this._deflate[o]=0,this._deflate[l]=[],this._deflate.on("data",p)}this._deflate[c]=a,this._deflate.write(i),this._deflate.flush(e.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=t.concat(this._deflate[l],this._deflate[o]);n&&(e=new r(e.buffer,e.byteOffset,e.length-4)),this._deflate[c]=null,this._deflate[o]=0,this._deflate[l]=[],n&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),a(null,e)}))}}}var Bp,$p,qp,Up,zp,Hp,Wp,Kp,Gp,Vp,Xp,Yp={exports:{}};function Jp(){if(Bp)return Yp.exports;Bp=1;const{isUtf8:e}=x,{hasBlob:t}=Np();function i(e){const t=e.length;let i=0;for(;i<t;)if(128&e[i])if(192==(224&e[i])){if(i+1===t||128!=(192&e[i+1])||192==(254&e[i]))return!1;i+=2}else if(224==(240&e[i])){if(i+2>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||224===e[i]&&128==(224&e[i+1])||237===e[i]&&160==(224&e[i+1]))return!1;i+=3}else{if(240!=(248&e[i]))return!1;if(i+3>=t||128!=(192&e[i+1])||128!=(192&e[i+2])||128!=(192&e[i+3])||240===e[i]&&128==(240&e[i+1])||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}else i++;return!0}if(Yp.exports={isBlob:function(e){return t&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:i,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},e)Yp.exports.isValidUTF8=function(t){return t.length<24?i(t):e(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const e=require("utf-8-validate");Yp.exports.isValidUTF8=function(t){return t.length<32?i(t):e(t)}}catch(e){}return Yp.exports}function Qp(){if(qp)return $p;qp=1;const{Writable:e}=b,t=jp(),{BINARY_TYPES:i,EMPTY_BUFFER:n,kStatusCode:r,kWebSocket:a}=Np(),{concat:s,toArrayBuffer:o,unmask:c}=Dp(),{isValidStatusCode:l,isValidUTF8:u}=Jp(),d=Buffer[Symbol.species];return $p=class extends e{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[a]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new d(t.buffer,t.byteOffset+e,t.length-e),new d(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new d(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const i=this.consume(2);if(48&i[0]){return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"))}const n=!(64&~i[0]);if(!n||this._extensions[t.extensionName]){if(this._fin=!(128&~i[0]),this._opcode=15&i[0],this._payloadLength=127&i[1],0===this._opcode){if(n){return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(!this._fragmented){return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"))}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}this._compressed=n}else{if(!(this._opcode>7&&this._opcode<11)){return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"))}if(!this._fin){return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"))}if(n){return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~i[1]),this._isServer){if(!this._masked){return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}}else if(this._masked){return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"))}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else{e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),i=t.readUInt32BE(0);if(i>Math.pow(2,21)-1){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"))}else this._payloadLength=i*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"))}else this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=n;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&c(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,i){this._extensions[t.extensionName].decompress(e,this._fin,((e,t)=>{if(e)return i(e);if(t.length){if(this._messageLength+=t.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void i(e)}this._fragments.push(t)}this.dataMessage(i),0===this._state&&this.startLoop(i)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?s(i,t):"arraybuffer"===this._binaryType?o(s(i,t)):"blob"===this._binaryType?new Blob(i):i,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)})))}else{const n=s(i,t);if(!this._skipUTF8Validation&&!u(n)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,n),this.end();else{const i=e.readUInt16BE(0);if(!l(i)){const e=this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const n=new d(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!u(n)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0}}createError(e,t,i,n,a){this._loop=!1,this._errored=!0;const s=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=a,s[r]=n,s}},$p}function Zp(){if(zp)return Up;zp=1;const{randomFillSync:e}=i,t=jp(),{EMPTY_BUFFER:n,kWebSocket:r,NOOP:a}=Np(),{isBlob:s,isValidStatusCode:o}=Jp(),{mask:c,toBuffer:l}=Dp(),u=Symbol("kByteLength"),d=Buffer.alloc(4),p=8192;let h,f=p;class m{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=a,this[r]=void 0}static frame(t,i){let n,r,a=!1,s=2,o=!1;i.mask&&(n=i.maskBuffer||d,i.generateMask?i.generateMask(n):(f===p&&(void 0===h&&(h=Buffer.alloc(p)),e(h,0,p),f=0),n[0]=h[f++],n[1]=h[f++],n[2]=h[f++],n[3]=h[f++]),o=!(n[0]|n[1]|n[2]|n[3]),s=6),"string"==typeof t?r=i.mask&&!o||void 0===i[u]?(t=Buffer.from(t)).length:i[u]:(r=t.length,a=i.mask&&i.readOnly&&!o);let l=r;r>=65536?(s+=8,l=127):r>125&&(s+=2,l=126);const m=Buffer.allocUnsafe(a?r+s:s);return m[0]=i.fin?128|i.opcode:i.opcode,i.rsv1&&(m[0]|=64),m[1]=l,126===l?m.writeUInt16BE(r,2):127===l&&(m[2]=m[3]=0,m.writeUIntBE(r,4,6)),i.mask?(m[1]|=128,m[s-4]=n[0],m[s-3]=n[1],m[s-2]=n[2],m[s-1]=n[3],o?[m,t]:a?(c(t,n,m,s,r),[m]):(c(t,n,t,0,r),[m,t])):[m,t]}close(e,t,i,r){let a;if(void 0===e)a=n;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const i=Buffer.byteLength(t);if(i>123)throw new RangeError("The message must not be greater than 123 bytes");a=Buffer.allocUnsafe(2+i),a.writeUInt16BE(e,0),"string"==typeof t?a.write(t,2):a.set(t,2)}else a=Buffer.allocUnsafe(2),a.writeUInt16BE(e,0)}const s={[u]:a.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,a,!1,s,r]):this.sendFrame(m.frame(a,s),r)}ping(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):s(e)?(n=e.size,r=!1):(n=(e=l(e)).length,r=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:r,rsv1:!1};s(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,i]):this.getBlobData(e,!1,a,i):0!==this._state?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(m.frame(e,a),i)}pong(e,t,i){let n,r;if("string"==typeof e?(n=Buffer.byteLength(e),r=!1):s(e)?(n=e.size,r=!1):(n=(e=l(e)).length,r=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:r,rsv1:!1};s(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,a,i]):this.getBlobData(e,!1,a,i):0!==this._state?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(m.frame(e,a),i)}send(e,i,n){const r=this._extensions[t.extensionName];let a,o,c=i.binary?2:1,d=i.compress;"string"==typeof e?(a=Buffer.byteLength(e),o=!1):s(e)?(a=e.size,o=!1):(a=(e=l(e)).length,o=l.readOnly),this._firstFragment?(this._firstFragment=!1,d&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(d=a>=r._threshold),this._compress=d):(d=!1,c=0),i.fin&&(this._firstFragment=!0);const p={[u]:a,fin:i.fin,generateMask:this._generateMask,mask:i.mask,maskBuffer:this._maskBuffer,opcode:c,readOnly:o,rsv1:d};s(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,p,n]):this.getBlobData(e,this._compress,p,n):0!==this._state?this.enqueue([this.dispatch,e,this._compress,p,n]):this.dispatch(e,this._compress,p,n)}getBlobData(e,t,i,n){this._bufferedBytes+=i[u],this._state=2,e.arrayBuffer().then((e=>{if(this._socket.destroyed){const e=new Error("The socket was closed while the blob was being read");return void process.nextTick(g,this,e,n)}this._bufferedBytes-=i[u];const r=l(e);t?this.dispatch(r,t,i,n):(this._state=0,this.sendFrame(m.frame(r,i),n),this.dequeue())})).catch((e=>{process.nextTick(v,this,e,n)}))}dispatch(e,i,n,r){if(!i)return void this.sendFrame(m.frame(e,n),r);const a=this._extensions[t.extensionName];this._bufferedBytes+=n[u],this._state=1,a.compress(e,n.fin,((e,t)=>{if(this._socket.destroyed){g(this,new Error("The socket was closed while data was being compressed"),r)}else this._bufferedBytes-=n[u],this._state=0,n.readOnly=!1,this.sendFrame(m.frame(t,n),r),this.dequeue()}))}dequeue(){for(;0===this._state&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function g(e,t,i){"function"==typeof i&&i(t);for(let i=0;i<e._queue.length;i++){const n=e._queue[i],r=n[n.length-1];"function"==typeof r&&r(t)}}function v(e,t,i){g(e,t,i),e.onerror(t)}return Up=m}function eh(){if(Gp)return Kp;Gp=1;const{tokenChars:e}=Jp();function t(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}return Kp={format:function(e){return Object.keys(e).map((t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map((e=>[t].concat(Object.keys(e).map((t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(i){const n=Object.create(null);let r,a,s=Object.create(null),o=!1,c=!1,l=!1,u=-1,d=-1,p=-1,h=0;for(;h<i.length;h++)if(d=i.charCodeAt(h),void 0===r)if(-1===p&&1===e[d])-1===u&&(u=h);else if(0===h||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);const e=i.slice(u,p);44===d?(t(n,e,s),s=Object.create(null)):r=e,u=p=-1}}else-1===p&&-1!==u&&(p=h);else if(void 0===a)if(-1===p&&1===e[d])-1===u&&(u=h);else if(32===d||9===d)-1===p&&-1!==u&&(p=h);else if(59===d||44===d){if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),t(s,i.slice(u,p),!0),44===d&&(t(n,r,s),s=Object.create(null),r=void 0),u=p=-1}else{if(61!==d||-1===u||-1!==p)throw new SyntaxError(`Unexpected character at index ${h}`);a=i.slice(u,h),u=p=-1}else if(c){if(1!==e[d])throw new SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:o||(o=!0),c=!1}else if(l)if(1===e[d])-1===u&&(u=h);else if(34===d&&-1!==u)l=!1,p=h;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===d&&61===i.charCodeAt(h-1))l=!0;else if(-1===p&&1===e[d])-1===u&&(u=h);else if(-1===u||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let e=i.slice(u,p);o&&(e=e.replace(/\\/g,""),o=!1),t(s,a,e),44===d&&(t(n,r,s),s=Object.create(null),r=void 0),a=void 0,u=p=-1}}else-1===p&&(p=h);if(-1===u||l||32===d||9===d)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const f=i.slice(u,p);return void 0===r?t(n,f,s):(void 0===a?t(s,f,!0):t(s,a,o?f.replace(/\\/g,""):f),t(n,r,s)),n}}}function th(){if(Xp)return Vp;Xp=1;const e=l,t=s,n=a,r=o,u=c,{randomBytes:d,createHash:p}=i,{URL:h}=g,f=jp(),m=Qp(),v=Zp(),{isBlob:y}=Jp(),{BINARY_TYPES:w,EMPTY_BUFFER:b,GUID:x,kForOnEventAttribute:k,kListener:S,kStatusCode:E,kWebSocket:_,NOOP:C}=Np(),{EventTarget:{addEventListener:T,removeEventListener:P}}=function(){if(Wp)return Hp;Wp=1;const{kForOnEventAttribute:e,kListener:t}=Np(),i=Symbol("kCode"),n=Symbol("kData"),r=Symbol("kError"),a=Symbol("kMessage"),s=Symbol("kReason"),o=Symbol("kTarget"),c=Symbol("kType"),l=Symbol("kWasClean");class u{constructor(e){this[o]=null,this[c]=e}get target(){return this[o]}get type(){return this[c]}}Object.defineProperty(u.prototype,"target",{enumerable:!0}),Object.defineProperty(u.prototype,"type",{enumerable:!0});class d extends u{constructor(e,t={}){super(e),this[i]=void 0===t.code?0:t.code,this[s]=void 0===t.reason?"":t.reason,this[l]=void 0!==t.wasClean&&t.wasClean}get code(){return this[i]}get reason(){return this[s]}get wasClean(){return this[l]}}Object.defineProperty(d.prototype,"code",{enumerable:!0}),Object.defineProperty(d.prototype,"reason",{enumerable:!0}),Object.defineProperty(d.prototype,"wasClean",{enumerable:!0});class p extends u{constructor(e,t={}){super(e),this[r]=void 0===t.error?null:t.error,this[a]=void 0===t.message?"":t.message}get error(){return this[r]}get message(){return this[a]}}Object.defineProperty(p.prototype,"error",{enumerable:!0}),Object.defineProperty(p.prototype,"message",{enumerable:!0});class h extends u{constructor(e,t={}){super(e),this[n]=void 0===t.data?null:t.data}get data(){return this[n]}}Object.defineProperty(h.prototype,"data",{enumerable:!0});const f={addEventListener(i,n,r={}){for(const a of this.listeners(i))if(!r[e]&&a[t]===n&&!a[e])return;let a;if("message"===i)a=function(e,t){const i=new h("message",{data:t?e:e.toString()});i[o]=this,m(n,this,i)};else if("close"===i)a=function(e,t){const i=new d("close",{code:e,reason:t.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[o]=this,m(n,this,i)};else if("error"===i)a=function(e){const t=new p("error",{error:e,message:e.message});t[o]=this,m(n,this,t)};else{if("open"!==i)return;a=function(){const e=new u("open");e[o]=this,m(n,this,e)}}a[e]=!!r[e],a[t]=n,r.once?this.once(i,a):this.on(i,a)},removeEventListener(i,n){for(const r of this.listeners(i))if(r[t]===n&&!r[e]){this.removeListener(i,r);break}}};function m(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}return Hp={CloseEvent:d,ErrorEvent:p,Event:u,EventTarget:f,MessageEvent:h}}(),{format:M,parse:I}=eh(),{toBuffer:O}=Dp(),A=Symbol("kAborted"),L=[8,13],R=["CONNECTING","OPEN","CLOSING","CLOSED"],F=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends e{constructor(e,t,i){super(),this._binaryType=w[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=b,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),D(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){w.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){const n=new m({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation}),r=new v(e,this._extensions,i.generateMask);this._receiver=n,this._sender=r,this._socket=e,n[_]=this,r[_]=this,e[_]=this,n.on("conclude",z),n.on("drain",H),n.on("error",W),n.on("message",G),n.on("ping",V),n.on("pong",X),r.onerror=J,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Z),e.on("data",ee),e.on("end",te),e.on("error",ie),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=N.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this.readyState!==N.CLOSING?(this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),Q(this)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";q(this,this._req,e)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||b,t,i)):U(this,e,i)}pong(e,t,i){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||b,t,i)):U(this,e,i)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void U(this,e,i);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[f.extensionName]||(n.compress=!1),this._sender.send(e||b,n,i)}terminate(){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this._socket&&(this._readyState=N.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";q(this,this._req,e)}}}function D(e,i,r,a){const s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:L[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=s.autoPong,!L.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${L.join(", ")})`);let o;if(i instanceof h)o=i;else try{o=new h(i)}catch(e){throw new SyntaxError(`Invalid URL: ${i}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),e._url=o.href;const c="wss:"===o.protocol,l="ws+unix:"===o.protocol;let u;if("ws:"===o.protocol||c||l?l&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){const t=new SyntaxError(u);if(0===e._redirects)throw t;return void j(e,t)}const m=c?443:80,g=d(16).toString("base64"),v=c?t.request:n.request,y=new Set;let w,b;if(s.createConnection=s.createConnection||(c?$:B),s.defaultPort=s.defaultPort||m,s.port=o.port||m,s.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},s.path=o.pathname+o.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(w=new f(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=M({[f.extensionName]:w.offer()})),r.length){for(const e of r){if("string"!=typeof e||!F.test(e)||y.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");y.add(e)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(o.username||o.password)&&(s.auth=`${o.username}:${o.password}`),l){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalIpc=l,e._originalSecure=c,e._originalHostOrSocketPath=l?s.socketPath:o.host;const t=a&&a.headers;if(a={...a,headers:{}},t)for(const[e,i]of Object.entries(t))a.headers[e.toLowerCase()]=i}else if(0===e.listenerCount("redirect")){const t=l?!!e._originalIpc&&s.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&o.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!c)&&(delete s.headers.authorization,delete s.headers.cookie,t||delete s.headers.host,s.auth=void 0)}s.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),b=e._req=v(s),e._redirects&&e.emit("redirect",e.url,b)}else b=e._req=v(s);s.timeout&&b.on("timeout",(()=>{q(e,b,"Opening handshake has timed out")})),b.on("error",(t=>{null===b||b[A]||(b=e._req=null,j(e,t))})),b.on("response",(t=>{const n=t.headers.location,o=t.statusCode;if(n&&s.followRedirects&&o>=300&&o<400){if(++e._redirects>s.maxRedirects)return void q(e,b,"Maximum redirects exceeded");let t;b.abort();try{t=new h(n,i)}catch(t){const i=new SyntaxError(`Invalid URL: ${n}`);return void j(e,i)}D(e,t,r,a)}else e.emit("unexpected-response",b,t)||q(e,b,`Unexpected server response: ${t.statusCode}`)})),b.on("upgrade",((t,i,n)=>{if(e.emit("upgrade",t),e.readyState!==N.CONNECTING)return;b=e._req=null;const r=t.headers.upgrade;if(void 0===r||"websocket"!==r.toLowerCase())return void q(e,i,"Invalid Upgrade header");const a=p("sha1").update(g+x).digest("base64");if(t.headers["sec-websocket-accept"]!==a)return void q(e,i,"Invalid Sec-WebSocket-Accept header");const o=t.headers["sec-websocket-protocol"];let c;if(void 0!==o?y.size?y.has(o)||(c="Server sent an invalid subprotocol"):c="Server sent a subprotocol but none was requested":y.size&&(c="Server sent no subprotocol"),c)return void q(e,i,c);o&&(e._protocol=o);const l=t.headers["sec-websocket-extensions"];if(void 0!==l){if(!w){return void q(e,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested")}let t;try{t=I(l)}catch(t){return void q(e,i,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==f.extensionName){return void q(e,i,"Server indicated an extension that was not requested")}try{w.accept(t[f.extensionName])}catch(t){return void q(e,i,"Invalid Sec-WebSocket-Extensions header")}e._extensions[f.extensionName]=w}e.setSocket(i,n,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})),s.finishRequest?s.finishRequest(b,e):b.end()}function j(e,t){e._readyState=N.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function B(e){return e.path=e.socketPath,r.connect(e)}function $(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=r.isIP(e.host)?"":e.host),u.connect(e)}function q(e,t,i){e._readyState=N.CLOSING;const n=new Error(i);Error.captureStackTrace(n,q),t.setHeader?(t[A]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(j,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function U(e,t,i){if(t){const i=y(t)?t.size:O(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${R[e.readyState]})`);process.nextTick(i,t)}}function z(e,t){const i=this[_];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[_]&&(i._socket.removeListener("data",ee),process.nextTick(Y,i._socket),1005===e?i.close():i.close(e,t))}function H(){const e=this[_];e.isPaused||e._socket.resume()}function W(e){const t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",ee),process.nextTick(Y,t._socket),t.close(e[E])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function K(){this[_].emitClose()}function G(e,t){this[_].emit("message",e,t)}function V(e){const t=this[_];t._autoPong&&t.pong(e,!this._isServer,C),t.emit("ping",e)}function X(e){this[_].emit("pong",e)}function Y(e){e.resume()}function J(e){const t=this[_];t.readyState!==N.CLOSED&&(t.readyState===N.OPEN&&(t._readyState=N.CLOSING,Q(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function Q(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function Z(){const e=this[_];let t;this.removeListener("close",Z),this.removeListener("data",ee),this.removeListener("end",te),e._readyState=N.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[_]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",K),e._receiver.on("finish",K))}function ee(e){this[_]._receiver.write(e)||this.pause()}function te(){const e=this[_];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function ie(){const e=this[_];this.removeListener("error",ie),this.on("error",C),e&&(e._readyState=N.CLOSING,this.destroy())}return Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[k])return t[S];return null},set(t){for(const t of this.listeners(e))if(t[k]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[k]:!0})}})})),N.prototype.addEventListener=T,N.prototype.removeEventListener=P,Vp=N}Qp(),Zp();var ih,nh,rh,ah,sh=M(th());function oh(){if(nh)return ih;nh=1;const{tokenChars:e}=Jp();return ih={parse:function(t){const i=new Set;let n=-1,r=-1,a=0;for(;a<t.length;a++){const s=t.charCodeAt(a);if(-1===r&&1===e[s])-1===n&&(n=a);else if(0===a||32!==s&&9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${a}`);{if(-1===n)throw new SyntaxError(`Unexpected character at index ${a}`);-1===r&&(r=a);const e=t.slice(n,r);if(i.has(e))throw new SyntaxError(`The "${e}" subprotocol is duplicated`);i.add(e),n=r=-1}}else-1===r&&-1!==n&&(r=a)}if(-1===n||-1!==r)throw new SyntaxError("Unexpected end of input");const s=t.slice(n,a);if(i.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return i.add(s),i}}}!function(){if(ah)return rh;ah=1;const e=l,t=a,{createHash:n}=i,r=eh(),s=jp(),o=oh(),c=th(),{GUID:u,kWebSocket:d}=Np(),p=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function m(e,i,n,r){n=n||t.STATUS_CODES[i],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${i} ${t.STATUS_CODES[i]}\r\n`+Object.keys(r).map((e=>`${e}: ${r[e]}`)).join("\r\n")+"\r\n\r\n"+n)}function g(e,t,i,n,r){if(e.listenerCount("wsClientError")){const n=new Error(r);Error.captureStackTrace(n,g),e.emit("wsClientError",n,i,t)}else m(i,n,r)}rh=class extends e{constructor(e,i){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:c,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=t.createServer(((e,i)=>{const n=t.STATUS_CODES[426];i.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),i.end(n)})),this._server.listen(e.port,e.host,e.backlog,i)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const i of Object.keys(t))e.on(i,t[i]);return function(){for(const i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(h,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",f);const a=e.headers["sec-websocket-key"],c=e.headers.upgrade,l=+e.headers["sec-websocket-version"];if("GET"!==e.method){return void g(this,e,t,405,"Invalid HTTP method")}if(void 0===c||"websocket"!==c.toLowerCase()){return void g(this,e,t,400,"Invalid Upgrade header")}if(void 0===a||!p.test(a)){return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header")}if(8!==l&&13!==l){return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header")}if(!this.shouldHandle(e))return void m(t,400);const u=e.headers["sec-websocket-protocol"];let d=new Set;if(void 0!==u)try{d=o.parse(u)}catch(i){return void g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const h=e.headers["sec-websocket-extensions"],v={};if(this.options.perMessageDeflate&&void 0!==h){const i=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=r.parse(h);e[s.extensionName]&&(i.accept(e[s.extensionName]),v[s.extensionName]=i)}catch(i){return void g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const r={origin:e.headers[""+(8===l?"sec-websocket-origin":"origin")],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(r,((r,s,o,c)=>{if(!r)return m(t,s||401,o,c);this.completeUpgrade(v,a,d,e,t,i,n)}));if(!this.options.verifyClient(r))return m(t,401)}this.completeUpgrade(v,a,d,e,t,i,n)}completeUpgrade(e,t,i,a,o,c,l){if(!o.readable||!o.writable)return o.destroy();if(o[d])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(o,503);const p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${n("sha1").update(t+u).digest("base64")}`],g=new this.options.WebSocket(null,void 0,this.options);if(i.size){const e=this.options.handleProtocols?this.options.handleProtocols(i,a):i.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),g._protocol=e)}if(e[s.extensionName]){const t=e[s.extensionName].params,i=r.format({[s.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${i}`),g._extensions=e}this.emit("headers",p,a),o.write(p.concat("\r\n").join("\r\n")),o.removeListener("error",f),g.setSocket(o,c,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(g),g.on("close",(()=>{this.clients.delete(g),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)}))),l(g,a)}}}();class ch{static create(e,t){return new Promise(((i,n)=>{const r=new sh(e,[],{followRedirects:!0,perMessageDeflate:!1,allowSynchronousEvents:!1,maxPayload:268435456,headers:{"User-Agent":`Puppeteer ${kn}`,...t}});r.addEventListener("open",(()=>i(new ch(r)))),r.addEventListener("error",n)}))}#xs;onmessage;onclose;constructor(e){this.#xs=e,this.#xs.addEventListener("message",(e=>{this.onmessage&&this.onmessage.call(null,e.data)})),this.#xs.addEventListener("close",(()=>{this.onclose&&this.onclose.call(null)})),this.#xs.addEventListener("error",(()=>{}))}send(e){this.#xs.send(e)}close(){this.#xs.close()}}var lh=Object.freeze({__proto__:null,NodeWebSocketTransport:ch});class uh{#ks;#vt=new vn;#Ss=!1;#Es="";onclose;onmessage;constructor(e,t){this.#ks=e;const i=this.#vt.use(new wn(t));i.on("data",(e=>this.#_s(e))),i.on("close",(()=>{this.onclose&&this.onclose.call(null)})),i.on("error",Nn);this.#vt.use(new wn(t)).on("error",Nn)}send(e){Sn(!this.#Ss,"`PipeTransport` is closed."),this.#ks.write(e),this.#ks.write("\0")}#_s(e){Sn(!this.#Ss,"`PipeTransport` is closed.");let t=e.indexOf("\0");if(-1===t)return void(this.#Es+=e.toString());const i=this.#Es+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,i);let n=t+1;for(t=e.indexOf("\0",n);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,t)),n=t+1,t=e.indexOf("\0",n);this.#Es=e.toString(void 0,n)}close(){this.#Ss=!0,this.#vt.dispose()}}class dh{#La;puppeteer;constructor(e,t){this.puppeteer=e,this.#La=t}get browser(){return this.#La}async launch(e={}){const{dumpio:t=!1,env:i=process.env,handleSIGINT:r=!0,handleSIGTERM:a=!0,handleSIGHUP:s=!0,acceptInsecureCerts:o=!1,defaultViewport:c=Dn,downloadBehavior:l,slowMo:u=0,timeout:d=3e4,waitForInitialPage:p=!0,protocolTimeout:h}=e;let{protocol:f}=e;"firefox"===this.#La&&void 0===f&&(f="webDriverBiDi");const m=await this.computeLaunchArguments({...e,protocol:f});if(!n.existsSync(m.executablePath))throw new Error(`Browser was not found at the configured executablePath (${m.executablePath})`);const g=m.args.includes("--remote-debugging-pipe");if("firefox"===this.#La&&"webDriverBiDi"!==f&&"warn"===this.puppeteer.configuration.logLevel&&console.warn("Chrome DevTools Protocol (CDP) support for Firefox is deprecated in Puppeteer and it will be eventually removed. Use WebDriver BiDi instead (see https://pptr.dev/webdriver-bidi#get-started)."),"firefox"===this.#La&&"webDriverBiDi"===f&&g)throw new Error("Pipe connections are not supported wtih Firefox and WebDriver BiDi");const v=(y={executablePath:m.executablePath,args:m.args,handleSIGHUP:s,handleSIGTERM:a,handleSIGINT:r,dumpio:t,env:i,pipe:g,onExit:async()=>{await this.cleanUserDataDir(m.userDataDir,{isTemp:m.isTempUserDataDir})}},new Ju(y));var y;let w,b,x=!1;const k=async()=>{x||(x=!0,await this.closeBrowser(v,b))};try{"firefox"===this.#La&&"webDriverBiDi"===f?w=await this.createBiDiBrowser(v,k,{timeout:d,protocolTimeout:h,slowMo:u,defaultViewport:c,acceptInsecureCerts:o}):(b=g?await this.createCdpPipeConnection(v,{timeout:d,protocolTimeout:h,slowMo:u}):await this.createCdpSocketConnection(v,{timeout:d,protocolTimeout:h,slowMo:u}),w="webDriverBiDi"===f?await this.createBiDiOverCdpBrowser(v,b,k,{defaultViewport:c,acceptInsecureCerts:o}):await $o._create(this.browser,b,[],o,c,l,v.nodeProcess,k,e.targetFilter))}catch(e){if(k(),e instanceof ed)throw new In(e.message);throw e}return p&&await this.waitForPageTarget(w,d),w}async closeBrowser(e,t){if(t)try{await t.closeBrowser(),await e.hasClosed()}catch(t){Nn(t),await e.close()}else await Mi(en(Ci(e.hasClosed()),Xi(5e3).pipe(Ii((()=>Ci(e.close()))))))}async waitForPageTarget(e,t){try{await e.waitForTarget((e=>"page"===e.type()),{timeout:t})}catch(t){throw await e.close(),t}}async createCdpSocketConnection(e,t){const i=await e.waitForLineOutput(Wu,t.timeout),n=await ch.create(i);return new ys(i,n,t.slowMo,t.protocolTimeout)}async createCdpPipeConnection(e,t){const{3:i,4:n}=e.nodeProcess.stdio,r=new uh(i,n);return new ys("",r,t.slowMo,t.protocolTimeout)}async createBiDiOverCdpBrowser(e,t,i,n){const r=await Promise.resolve().then((function(){return require("./bidi-5sHVXGFD.js")})),a=await r.connectBidiOverCdp(t);return await r.BidiBrowser.create({connection:a,cdpConnection:t,closeCallback:i,process:e.nodeProcess,defaultViewport:n.defaultViewport,acceptInsecureCerts:n.acceptInsecureCerts})}async createBiDiBrowser(e,t,i){const n=await e.waitForLineOutput(Ku,i.timeout)+"/session",r=await ch.create(n),a=await Promise.resolve().then((function(){return require("./bidi-5sHVXGFD.js")})),s=new a.BidiConnection(n,r,i.slowMo,i.protocolTimeout);return await a.BidiBrowser.create({connection:s,closeCallback:t,process:e.nodeProcess,defaultViewport:i.defaultViewport,acceptInsecureCerts:i.acceptInsecureCerts})}getProfilePath(){return r.join(this.puppeteer.configuration.temporaryDirectory??t.tmpdir(),`puppeteer_dev_${this.browser}_profile-`)}resolveExecutablePath(e,t=!0){let i=this.puppeteer.configuration.executablePath;if(i){if(t&&!n.existsSync(i))throw new Error(`Tried to find the browser at the configured path (${i}), but no executable was found.`);return i}const r=function(e,t){switch(e){case"chrome":return"shell"===t?Vo.CHROMEHEADLESSSHELL:Vo.CHROME;case"firefox":return Vo.FIREFOX}return Vo.CHROME}(this.browser,e);var a;if(a={cacheDir:this.puppeteer.defaultDownloadPath,browser:r,buildId:this.puppeteer.browserVersion},i=new zu(a.cacheDir).computeExecutablePath(a),t&&!n.existsSync(i)){const e=this.puppeteer.configuration?.[this.browser]?.version;if(e)throw new Error(`Tried to find the browser at the configured path (${i}) for version ${e}, but no executable was found.`);switch(this.browser){case"chrome":throw new Error(`Could not find Chrome (ver. ${this.puppeteer.browserVersion}). This can occur if either\n 1. you did not perform an installation before running the script (e.g. \`npx puppeteer browsers install ${r}\`) or\n 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\nFor (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.`);case"firefox":throw new Error(`Could not find Firefox (rev. ${this.puppeteer.browserVersion}). This can occur if either\n 1. you did not perform an installation for Firefox before running the script (e.g. \`npx puppeteer browsers install firefox\`) or\n 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).\nFor (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.`)}}return i}}const ph={force:!0,recursive:!0,maxRetries:5};async function hh(e){await n.promises.rm(e,ph)}class fh extends dh{constructor(e){super(e,"chrome")}launch(e={}){if("warn"===this.puppeteer.configuration.logLevel&&"darwin"===process.platform&&"x64"===process.arch){const e=t.cpus();e[0]?.model.includes("Apple")&&console.warn(["[1m[43m[30m","Degraded performance warning:[0m[33m","Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in","Rosetta translating the Chrome binary, even if Chrome is already arm64. This would","result in huge performance issues. To resolve this, you must run Puppeteer with","a version of Node built for arm64."].join("\n  "))}return super.launch(e)}async computeLaunchArguments(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],pipe:n=!1,debuggingPort:r,channel:a,executablePath:s}=e,o=[];t?Array.isArray(t)?o.push(...this.defaultArgs(e).filter((e=>!t.includes(e)))):o.push(...i):o.push(...this.defaultArgs(e)),o.some((e=>e.startsWith("--remote-debugging-")))||(n?(Sn(!r,"Browser should be launched with either pipe or debugging port - not both."),o.push("--remote-debugging-pipe")):o.push(`--remote-debugging-port=${r||0}`));let c=!1,l=o.findIndex((e=>e.startsWith("--user-data-dir")));l<0&&(c=!0,o.push(`--user-data-dir=${await v.mkdtemp(this.getProfilePath())}`),l=o.length-1);const u=o[l].split("=",2)[1];Sn("string"==typeof u,"`--user-data-dir` is malformed");let d=s;return d||(Sn(a||!this.puppeteer._isPuppeteerCore,"An `executablePath` or `channel` must be specified for `puppeteer-core`"),d=a?this.executablePath(a):this.resolveExecutablePath(e.headless??!0)),{executablePath:d,args:o,isTempUserDataDir:c,userDataDir:u}}async cleanUserDataDir(e,t){if(t.isTemp)try{await hh(e)}catch(e){throw Nn(e),e}}defaultArgs(e={}){const t=gh("--disable-features",e.args);e.args&&t.length>0&&vh(e.args,"--disable-features");const i=["Translate","AcceptCHFrame","MediaRouter","OptimizationHints",..."true"===process.env.PUPPETEER_TEST_EXPERIMENTAL_CHROME_FEATURES?[]:["ProcessPerSiteUpToMainFrameThreshold","IsolateSandboxedIframes"],...t].filter((e=>""!==e)),n=gh("--enable-features",e.args);e.args&&n.length>0&&vh(e.args,"--enable-features");const a=["PdfOopif",...n].filter((e=>""!==e)),s=["--allow-pre-commit-input","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-crash-reporter","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-hang-monitor","--disable-infobars","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-search-engine-choice-screen","--disable-sync","--enable-automation","--export-tagged-pdf","--force-color-profile=srgb","--generate-pdf-document-outline","--metrics-recording-only","--no-first-run","--password-store=basic","--use-mock-keychain",`--disable-features=${i.join(",")}`,`--enable-features=${a.join(",")}`].filter((e=>""!==e)),{devtools:o=!1,headless:c=!o,args:l=[],userDataDir:u}=e;return u&&s.push(`--user-data-dir=${r.resolve(u)}`),o&&s.push("--auto-open-devtools-for-tabs"),c&&s.push("shell"===c?"--headless":"--headless=new","--hide-scrollbars","--mute-audio"),l.every((e=>e.startsWith("-")))&&s.push("about:blank"),s.push(...l),s}executablePath(e,i=!0){return e?function(e){if(e.platform??=$u(),!e.platform)throw new Error(`Cannot download a binary for the provided platform: ${t.platform()} (${t.arch()})`);const i=Su(e.browser,e.platform,e.channel);try{n.accessSync(i)}catch{throw new Error(`Could not find Google Chrome executable for channel '${e.channel}' at '${i}'.`)}return i}({browser:Vo.CHROME,channel:mh(e)}):this.resolveExecutablePath(void 0,i)}}function mh(e){switch(e){case"chrome":return Jo.STABLE;case"chrome-dev":return Jo.DEV;case"chrome-beta":return Jo.BETA;case"chrome-canary":return Jo.CANARY}}function gh(e,t=[]){return t.filter((t=>t.startsWith(e.endsWith("=")?e:`${e}=`))).map((t=>t.split(new RegExp(`${e}=\\s*`))[1]?.trim())).filter((e=>e))}function vh(e,t){const i=new RegExp(`^${t}=.*`);let n=0;for(;n<e.length;)i.test(e[n])?e.splice(n,1):n++;return e}class yh extends dh{constructor(e){super(e,"firefox")}static getPreferences(e,t){return{...e,..."webDriverBiDi"===t?{"remote.active-protocols":1}:{"browser.tabs.closeWindowWithLastTab":!1,"network.cookie.cookieBehavior":0,"fission.bfcacheInParent":!1,"remote.active-protocols":2},"fission.webContentIsolationStrategy":0}}async computeLaunchArguments(e={}){const{ignoreDefaultArgs:t=!1,args:i=[],executablePath:n,pipe:r=!1,extraPrefsFirefox:a={},debuggingPort:s=null}=e,o=[];let c;t?Array.isArray(t)?o.push(...this.defaultArgs(e).filter((e=>!t.includes(e)))):o.push(...i):o.push(...this.defaultArgs(e)),o.some((e=>e.startsWith("--remote-debugging-")))||(r&&Sn(null===s,"Browser should be launched with either pipe or debugging port - not both."),o.push(`--remote-debugging-port=${s||0}`));let l=!0;const u=o.findIndex((e=>["-profile","--profile"].includes(e)));if(-1!==u){if(c=o[u+1],!c)throw new Error("Missing value for profile command line argument");l=!1}else c=await v.mkdtemp(this.getProfilePath()),o.push("--profile"),o.push(c);let d;return await async function(e,t){switch(e){case Vo.FIREFOX:return await gu(t);case Vo.CHROME:case Vo.CHROMIUM:throw new Error(`Profile creation is not support for ${e} yet`)}}(Vo.FIREFOX,{path:c,preferences:yh.getPreferences(a,e.protocol)}),this.puppeteer._isPuppeteerCore||n?(Sn(n,"An `executablePath` must be specified for `puppeteer-core`"),d=n):d=this.executablePath(void 0),{isTempUserDataDir:l,userDataDir:c,args:o,executablePath:d}}async cleanUserDataDir(e,t){if(t.isTemp)try{await hh(e)}catch(e){throw Nn(e),e}else try{const t=".puppeteer",i=["prefs.js","user.js"],a=await Promise.allSettled(i.map((async i=>{const a=r.join(e,i+t);if(n.existsSync(a)){const t=r.join(e,i);await v.unlink(t),await v.rename(a,t)}})));for(const e of a)if("rejected"===e.status)throw e.reason}catch(e){Nn(e)}}executablePath(e,t=!0){return this.resolveExecutablePath(void 0,t)}defaultArgs(e={}){const{devtools:i=!1,headless:n=!i,args:r=[],userDataDir:a=null}=e,s=[];switch(t.platform()){case"darwin":s.push("--foreground");break;case"win32":s.push("--wait-for-browser")}return a&&(s.push("--profile"),s.push(a)),n&&s.push("--headless"),i&&s.push("--devtools"),r.every((e=>e.startsWith("-")))&&s.push("about:blank"),s.push(...r),s}}var wh=function(e,t,i){for(var n=arguments.length>2,r=0;r<t.length;r++)i=n?t[r].call(e,i):t[r].call(e);return n?i:void 0},bh=function(e,t,i,n,r,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p=!1,h=i.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var g=(0,i[h])("accessor"===c?{get:d.get,set:d.set}:d[l],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=s(g.get))&&(d.get=o),(o=s(g.set))&&(d.set=o),(o=s(g.init))&&r.unshift(o)}else(o=s(g))&&("field"===c?r.unshift(o):d[l]=o)}u&&Object.defineProperty(u,n.name,d),p=!0},xh=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};const kh=ju("puppeteer:ffmpeg");let Sh=(()=>{let e,t,i,n=b.PassThrough,r=[];return class extends n{static{const a="function"==typeof Symbol&&Symbol.metadata?Object.create(n[Symbol.metadata]??null):void 0;bh(this,t={value:xh((async function(e){const t=await new Promise((t=>{this.#Ja.stdin.write(e,t)}));t&&console.log(`ffmpeg failed to write: ${t.message}.`)}),"#writeFrame")},e,{kind:"method",name:"#writeFrame",static:!1,private:!0,access:{has:e=>#Cs in e,get:e=>e.#Cs},metadata:a},null,r),bh(this,null,i,{kind:"method",name:"stop",static:!1,private:!1,access:{has:e=>"stop"in e,get:e=>e.stop},metadata:a},null,r),a&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})}#Er=wh(this,r);#Ja;#Ts=new AbortController;#Ps;constructor(e,t,i,{speed:n,scale:r,crop:a,format:s,path:o}={}){super({allowHalfOpen:!1}),o??="ffmpeg";const{error:c}=h.spawnSync(o);if(c)throw c;this.#Ja=h.spawn(o,[["-loglevel","error"],["-avioflags","direct"],["-fpsprobesize","0","-probesize","32","-analyzeduration","0","-fflags","nobuffer"],["-f","image2pipe","-c:v","png","-i","pipe:0"],["-y","-an"],["-threads","1"],["-framerate","30"],this.#Ms(s??"webm"),["-b:v","0"],["-vf",`${n?`setpts=${1/n}*PTS,`:""}crop='min(${t},iw):min(${i},ih):0:0',pad=${t}:${i}:0:0${a?`,crop=${a.width}:${a.height}:${a.x}:${a.y}`:""}${r?`,scale=iw*${r}:-1`:""}`],"pipe:1"].flat(),{stdio:["pipe","pipe","pipe"]}),this.#Ja.stdout.pipe(this),this.#Ja.stderr.on("data",(e=>{kh(e.toString("utf8"))})),this.#Er=e;const{client:l}=this.#Er.mainFrame();var u,d,p,f;l.once(cr.Disconnected,(()=>{this.stop().catch(Nn)})),this.#Ps=function(e,t){var i="object"==typeof t;return new Promise((function(n,r){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:r,complete:function(){s?n(a):i?n(t.defaultValue):r(new Pi)}})}))}(er(l,"Page.screencastFrame").pipe(fn((e=>{l.send("Page.screencastFrameAck",{sessionId:e.sessionId})})),Zi((e=>void 0!==e.metadata.timestamp)),Ii((e=>({buffer:Buffer.from(e.data,"base64"),timestamp:e.metadata.timestamp}))),(p=2,void 0===(f=1)&&(f=null),f=null!=f?f:p,Kt((function(e,t){var i=[],n=0;e.subscribe(Gt(t,(function(e){var r,a,s,o,c=null;n++%f==0&&i.push([]);try{for(var l=vt(i),u=l.next();!u.done;u=l.next())(m=u.value).push(e),p<=m.length&&(c=null!=c?c:[]).push(m)}catch(e){r={error:e}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}if(c)try{for(var d=vt(c),h=d.next();!h.done;h=d.next()){var m=h.value;Ct(i,m),t.next(m)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}}),(function(){var e,n;try{for(var r=vt(i),a=r.next();!a.done;a=r.next()){var s=a.value;t.next(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.complete()}),void 0,(function(){i=null})))}))),(u=([{timestamp:e,buffer:t},{timestamp:i}])=>Ci(Array(Math.round(30*Math.max(i-e,0))).fill(t)),St(d)?$i(u,d,1):$i(u,1)),Ii((e=>(this.#Cs(e),[e,performance.now()]))),hn(Gi(this.#Ts.signal,"abort"))),{defaultValue:[Buffer.from([]),performance.now()]})}#Ms(e){switch(e){case"webm":return[["-c:v","vp9"],["-f","webm"],["-crf","30"],["-deadline","realtime","-cpu-used","8"]].flat();case"gif":return[["-vf","fps=5,split[s0][s1];[s0]palettegen=stats_mode=diff[p];[s1][p]paletteuse"],["-f","gif"]].flat()}}get#Cs(){return t.value}async stop(){if(this.#Ts.signal.aborted)return;await this.#Er._stopScreencast().catch(Nn),this.#Ts.abort();const[e,t]=await this.#Ps;await Promise.all(Array(Math.max(1,Math.round(30*(performance.now()-t)/1e3))).fill(e).map(this.#Cs.bind(this))),this.#Ja.stdin.end(),await new Promise((e=>{this.#Ja.once("close",e)}))}async[(e=[Jr()],i=[Jr()],gn)](){await this.stop()}}})();xn.value={fs:n,path:r,ScreenRecorder:Sh};const Eh=new class extends Ko{#Is;#Os;defaultBrowserRevision;configuration={};constructor(e){const{configuration:t,...i}=e;if(super(i),t&&(this.configuration=t),"firefox"===this.configuration.defaultBrowser)this.defaultBrowserRevision=Go.firefox;else this.configuration.defaultBrowser="chrome",this.defaultBrowserRevision=Go.chrome;this.connect=this.connect.bind(this),this.launch=this.launch.bind(this),this.executablePath=this.executablePath.bind(this),this.defaultArgs=this.defaultArgs.bind(this),this.trimCache=this.trimCache.bind(this)}connect(e){return super.connect(e)}launch(e={}){const{browser:t=this.defaultBrowser}=e;switch(this.#Os=t,t){case"chrome":this.defaultBrowserRevision=Go.chrome;break;case"firefox":this.defaultBrowserRevision=Go.firefox;break;default:throw new Error(`Unknown product: ${t}`)}return this.#Is=this.#As(t),this.#Is.launch(e)}#As(e){if(this.#Is&&this.#Is.browser===e)return this.#Is;switch(e){case"chrome":return new fh(this);case"firefox":return new yh(this);default:throw new Error(`Unknown product: ${e}`)}}executablePath(e){return void 0===e?this.#As(this.lastLaunchedBrowser).executablePath(void 0,!1):"string"==typeof e?this.#As("chrome").executablePath(e,!1):this.#As(e.browser??this.lastLaunchedBrowser).resolveExecutablePath(e.headless,!1)}get browserVersion(){return this.configuration?.[this.lastLaunchedBrowser]?.version??this.defaultBrowserRevision}get defaultDownloadPath(){return this.configuration.cacheDirectory}get lastLaunchedBrowser(){return this.#Os??this.defaultBrowser}get defaultBrowser(){return this.configuration.defaultBrowser??"chrome"}get product(){return this.lastLaunchedBrowser}defaultArgs(e={}){return this.#As(e.browser??this.lastLaunchedBrowser).defaultArgs(e)}async trimCache(){const e=$u();if(!e)throw new Error("The current platform is not supported.");const t=this.configuration.cacheDirectory,i=await async function(e){return new zu(e.cacheDir).getInstalledBrowsers()}({cacheDir:t}),n=[{product:"chrome",browser:Vo.CHROME,currentBuildId:""},{product:"firefox",browser:Vo.FIREFOX,currentBuildId:""}];for(const t of n){const i=this.configuration?.[t.product]?.version??Go[t.product];t.currentBuildId=await ku(t.browser,e,i)}const r=new Set(n.map((e=>`${e.browser}_${e.currentBuildId}`))),a=new Set(n.map((e=>e.browser)));for(const n of i)a.has(n.browser)&&(r.has(`${n.browser}_${n.buildId}`)||await Ep({browser:n.browser,platform:e,cacheDir:t,buildId:n.buildId}))}}({isPuppeteerCore:!0}),_h=async e=>{const t=await n.promises.stat(e).catch((()=>!1));return Boolean(t)},Ch=async(e,t)=>{const i=_.dirname(e);await _h(i)||await n.promises.mkdir(i,{recursive:!0}),pt(`writing down ${e}...`),await n.promises.writeFile(e,t)},Th=["Google Chrome","Chromium","Google Chrome Canary"].map((e=>`/Applications/${e}.app/Contents/MacOS/${e}`)),Ph=["google-chrome-stable","google-chrome","chromium","chromium-browser"].map((e=>`/usr/bin/${e}`)),Mh=["/snap/bin/chromium"],Ih=async()=>{try{return await(async e=>{for(const t of e)if(await _h(t))return t;throw new Error("None of the listed paths exist")})([process.env.CHROME_PATH,new Promise((e=>{const t=require;console.log(t("chromium")),e(t("chromium").path)})).catch((()=>!1)),..."darwin"===t.platform()?Th:[],...Ph,..."linux"===t.platform()?Mh:[]].filter(Boolean))}catch(e){throw new Error("Cannot find chrome on your system. If you have it installed please set CHROME_PATH env variable")}},Oh=["wtg-ads","facebook.com","fbcdn.net","googletagmanager","google-analytics.com","connect.facebook.net","chimpstatic.com","googleadservices.com","browser.sentry-cdn.com","googleads.g.doubleclick.net",".gemius.pl",".mylivechat.com","maps.googleapis.com","youtube.com/embed"],Ah="stylesheet",Lh="image",Rh="font",Fh="media",Nh="script",Dh=()=>{Object.defineProperty(window.document,"hidden",{get:function(){return!1},configurable:!0}),Object.defineProperty(window.document,"visibilityState",{get:function(){return"visible"},configurable:!0}),window.requestAnimationFrame=e=>setTimeout(e,10),window.cancelAnimationFrame=e=>clearTimeout(e)},jh=async(e,t)=>{const i=await e.newPage();if(t?.viewport&&await i.setViewport(t.viewport),await i.evaluateOnNewDocument(Dh),t?.block){await i.setRequestInterception(!0);const{block:e}=t;i.on("request",(t=>{const i=t.url(),n=t.resourceType();n===Rh||e.css&&n===Ah||e.image&&n===Lh||e.media&&n===Fh||e.js&&n===Nh||e.knownThirdParty&&(e=>Oh.some((t=>e.includes(t))))(i)||e.match&&e.match(i,n)?t.abort():t.continue()}))}return i},Bh=e=>e.evaluate((()=>Array.from(document.querySelectorAll("a")).filter((e=>(e.href||"").startsWith(window.location.origin))).map((e=>e.href)))),$h=e=>e.replace(/^\/+|\/+$/g,""),qh=async(e,t,i,n)=>{const{res:r,waitNetworkIdle:a}=await(async(e,t,i=150)=>{const n=new Promise((t=>{let n;const r=()=>{n&&clearTimeout(n),n=setTimeout(a,i)},a=()=>{e.off("requestfinished",r),t(!0)};e.on("requestfinished",r)}));return{res:await e.goto(t),waitNetworkIdle:n}})(e,t),s=r.headers()["content-type"]?.includes("text/html");if(s){pt(i?`Waiting for selector: ${i}`:"Waiting for network idle"),pt(n?"Fetching only <title> and <meta> inside <head>..":"Fetching entire rendered page..."),await(i?e.waitForSelector(i):a);const[t,s,o]=await Promise.all([r.text(),n?e.evaluate((()=>{const e=new XMLSerializer;return[...document.head.getElementsByTagName("META"),...document.head.getElementsByTagName("TITLE")].map((t=>e.serializeToString(t))).join("")})):e.content(),Bh(e)]);return{htmlSource:t,...n?{renderedHtmlMeta:s}:{renderedHtml:s},links:o}}return!1},Uh={maxConcurrentPages:3,extraBrowserLaunchOptions:{},pageOptions:{viewport:{width:480,height:850},block:{image:!0,media:!0,knownThirdParty:!0}},cleanUrl:e=>{const t=new URL(e);return $h(`${t.origin}${t.pathname}`)}},zh=async e=>{const t={...Uh,...e,pageOptions:{...Uh.pageOptions,...e.pageOptions,block:{...Uh.pageOptions.block,...e.pageOptions?.block}}},i=t.baseUrl||t.startingUrl,n=await(async(e={})=>Eh.launch({executablePath:await Ih(),waitForInitialPage:!1,...e}))(t.extraBrowserLaunchOptions),r=((e,t)=>{const i=[];let n=Promise.resolve();return(...r)=>new Promise((a=>{n=n.then((()=>{const n=e(...r).finally((()=>i.splice(i.indexOf(n),1)));return i.push(n),n.then(a),i.length<t?Promise.resolve():Promise.race(i)}))}))})(((e,t,i)=>{const n=Array.from({length:t}).map(((t,i)=>e().then((e=>({obj:e,indexInPool:i})))));return async(...e)=>{const t=await Promise.race(n);let r;n[t.indexInPool]=new Promise((e=>r=e));const a=await i(t.obj)(...e);return r(t),a}})((()=>jh(n,t.pageOptions)),t.maxConcurrentPages,(e=>i=>qh(e,i,t.selectorToWaitFor,Boolean(t.metaPrerenderOnly)))),t.maxConcurrentPages),{crawled:a}=await Hh({url:t.startingUrl,cleanUrl:t.cleanUrl,metaPrerenderOnly:Boolean(t.metaPrerenderOnly),getUrlInfo:r,getUrlFilePath:e=>((e,t,i="")=>{const n=e.replace(i,"");return _.join(t,`${n}${n.endsWith(".html")?"":"/index.html"}`)})($h(e),t.outputDir,i)});return t.generateSitemapUsingCanonicalBaseUrl&&(pt("saving sitemap..."),await Ch(_.join(t.outputDir,"sitemap.txt"),[...a].map((e=>e.replace(i,t.generateSitemapUsingCanonicalBaseUrl))).join("\n"))),await n.close(),[...a]},Hh=async({stats:e={crawled:new Set,visited:new Set},cleanUrl:t,...i})=>{pt(`\nprerendering ... ${i.url}`);const n=t(i.url);e.visited.add(n);const{protocol:r}=new URL(i.url);if(!["http:","https:"].includes(r))return pt("skipping ... not http"),e;pt(`requesting ... ${n}`);const a=await i.getUrlInfo(n);if(!a)return pt("skipping ... not html"),e;var s,o;await Ch(i.getUrlFilePath(n),i.metaPrerenderOnly?(s=a.htmlSource,o=a.renderedHtmlMeta,s.replaceAll(/<title[^>]*>.+<\/title[^>]*>/gi,"").replaceAll(/<meta[^>]*>/gi,"").replace(/(<head[^>]*>)/gi,`$1${o}`)):a.renderedHtml),pt(`found ${a.links.length} links...`),e.crawled.add(n);const c=a.links.map((e=>t(e)));return await Promise.all(c.filter(((t,i)=>c.indexOf(t)===i&&!e.visited.has(t))).map((n=>Hh({...i,url:n,cleanUrl:t,stats:e})))),e};(async()=>{let e=null;try{const t=Fe.getInput("website_root"),i=Fe.getInput("max_concurrent_pages"),n=Fe.getInput("meta_prerender_only"),r=Fe.getInput("selector_to_wait_for"),a=Fe.getInput("canonical_base_url"),s=Fe.getInput("blocked_partial_urls").trim().split("\n").filter((e=>e.trim())).filter(Boolean),o=E.resolve(process.cwd(),t);e=(e=>{const t={public:e,rewrites:[{source:"**",destination:"/index.html"}]};return m.createServer(((e,i)=>{dt(e,i,t)})).listen(8080)})(o);const c=await zh({startingUrl:"http://localhost:8080",outputDir:o,maxConcurrentPages:Number(i),metaPrerenderOnly:"1"===n,...r&&{selectorToWaitFor:r},...a&&{generateSitemapUsingCanonicalBaseUrl:a},...s.length&&{pageOptions:{block:{match:e=>s.some((t=>e.includes(t)))}}},extraBrowserLaunchOptions:{args:["--no-sandbox"]}});Fe.setOutput("crawled",c)}catch(e){Fe.setFailed(e.message)}finally{e?.close()}})(),exports.$=zi,exports.A=Cr,exports.B=Xn,exports.C=lr,exports.D=ar,exports.E=wn,exports.F=qn,exports.G=Un,exports.H=Da,exports.I=Pr,exports.J=ra,exports.K=Vn,exports.L=kr,exports.M=Ti,exports.N=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=li(e),n=function(e){return St(ci(e))?e.pop():void 0}(e),r=Di(e),a=r.args,s=r.keys;if(0===a.length)return Ci([],i);var o=new Ht(function(e,t,i){void 0===i&&(i=Ut);return function(n){ji(t,(function(){for(var r=e.length,a=new Array(r),s=r,o=r,c=function(r){ji(t,(function(){var c=Ci(e[r],t),l=!1;c.subscribe(Gt(n,(function(e){a[r]=e,l||(l=!0,o--),o||n.next(i(a.slice()))}),(function(){--s||n.complete()})))}),n)},l=0;l<r;l++)c(l)}),n)}}(a,i,s?function(e){return function(e,t){return e.reduce((function(e,i,n){return e[i]=t[n],e}),{})}(s,e)}:Ut));return n?o.pipe(Ai(n)):o},exports.O=er,exports.P=Bn,exports.Q=Ii,exports.R=Za,exports.S=lo,exports.T=Rn,exports.U=Ln,exports.V=ln,exports.W=is,exports.X=un,exports.Y=Kn,exports.Z=as,exports._=ds,exports.a=hs,exports.a0=Zi,exports.a1=pr,exports.a2=Mi,exports.a3=en,exports.a4=pn,exports.a5=function(e,t){return $i((function(t,i){return wi(e(t,i)).pipe(an(1),function(e){return Ii((function(){return e}))}(t))}))},exports.a6=tr,exports.a7=Ia,exports.a8=Ma,exports.a9=Ba,exports.aa=qa,exports.ab=$a,exports.ac=Ua,exports.ad=On,exports.ae=Ms,exports.af=ko,exports.ag=bs,exports.ah=Jn,exports.ai=Ci,exports.aj=En,exports.ak=zn,exports.al=Va,exports.am=function(e){return({set:t,get:i},n)=>(n.addInitializer((function(){return Zr.apply(this,[e])})),{set(n){const r=Qr.get(this).get(e),a=i.call(this);void 0!==a&&a.off("*",r),void 0!==n&&(n.on("*",r),t.call(this,n))},init(t){if(void 0===t)return t;Zr.apply(this,[e]);const i=Qr.get(this).get(e);return t.on("*",i),t}})},exports.an=ts,exports.ap=nr,exports.aq=or,exports.ar=rr,exports.b=Sn,exports.c=Pn,exports.d=Nn,exports.e=vn,exports.f=mn,exports.g=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),i},exports.h=ur,exports.i=function(e,t){return function(...t){if(!this.disposed)return e.call(this,...t)}},exports.j=xn,exports.k=da,exports.l=ua,exports.m=vr,exports.n=Yr,exports.o=Oa,exports.p=_n,exports.q=Na,exports.r=Ra,exports.s=gr,exports.t=Xr,exports.u=e=>"object"==typeof e&&e?.constructor===Object,exports.v=e=>"object"==typeof e&&e?.constructor===RegExp,exports.w=e=>"object"==typeof e&&e?.constructor===Date,exports.x=An,exports.y=In,exports.z=Ir;