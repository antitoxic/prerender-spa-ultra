"use strict";var xk=Object.create;var ga=Object.defineProperty;var wk=Object.getOwnPropertyDescriptor;var vk=Object.getOwnPropertyNames;var yk=Object.getPrototypeOf,bk=Object.prototype.hasOwnProperty;var _k=(r,e,t)=>e in r?ga(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var I=(r,e)=>()=>(r&&(e=r(r=0)),e);var k=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),kn=(r,e)=>{for(var t in e)ga(r,t,{get:e[t],enumerable:!0})},kx=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vk(e))!bk.call(r,n)&&n!==t&&ga(r,n,{get:()=>e[n],enumerable:!(i=wk(e,n))||i.enumerable});return r};var V=(r,e,t)=>(t=r!=null?xk(yk(r)):{},kx(e||!r||!r.__esModule?ga(t,"default",{value:r,enumerable:!0}):t,r)),Cx=r=>kx(ga({},"__esModule",{value:!0}),r);var Ye=(r,e,t)=>(_k(r,typeof e!="symbol"?e+"":e,t),t),Qd=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Xt=(r,e)=>{if(Object(e)!==e)throw TypeError('Cannot use the "in" operator on this value');return r.has(e)},A=(r,e,t)=>(Qd(r,e,"read from private field"),t?t.call(r):e.get(r)),W=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ue=(r,e,t,i)=>(Qd(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t);var Le=(r,e,t)=>(Qd(r,e,"access private method"),t);var oc=k(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.toCommandProperties=Cn.toCommandValue=void 0;function Ek(r){return r==null?"":typeof r=="string"||r instanceof String?r:JSON.stringify(r)}Cn.toCommandValue=Ek;function Sk(r){return Object.keys(r).length?{title:r.title,file:r.file,line:r.startLine,endLine:r.endLine,col:r.startColumn,endColumn:r.endColumn}:{}}Cn.toCommandProperties=Sk});var Rx=k(jt=>{"use strict";var kk=jt&&jt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Ck=jt&&jt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tk=jt&&jt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&kk(e,r,t);return Ck(e,r),e};Object.defineProperty(jt,"__esModule",{value:!0});jt.issue=jt.issueCommand=void 0;var Pk=Tk(require("os")),Px=oc();function Ix(r,e,t){let i=new Zd(r,e,t);process.stdout.write(i.toString()+Pk.EOL)}jt.issueCommand=Ix;function Ik(r,e=""){Ix(r,{},e)}jt.issue=Ik;var Tx="::",Zd=class{constructor(e,t,i){e||(e="missing.command"),this.command=e,this.properties=t,this.message=i}toString(){let e=Tx+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let n=this.properties[i];n&&(t?t=!1:e+=",",e+=`${i}=${Mk(n)}`)}}return e+=`${Tx}${Rk(this.message)}`,e}};function Rk(r){return Px.toCommandValue(r).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Mk(r){return Px.toCommandValue(r).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function xa(){return cc>lc.length-16&&(Mx.default.randomFillSync(lc),cc=0),lc.slice(cc,cc+=16)}var Mx,lc,cc,ep=I(()=>{Mx=V(require("crypto")),lc=new Uint8Array(256),cc=lc.length});var Ax,Ox=I(()=>{Ax=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Ak(r){return typeof r=="string"&&Ax.test(r)}var si,wa=I(()=>{Ox();si=Ak});function Ok(r,e=0){let t=(st[r[e+0]]+st[r[e+1]]+st[r[e+2]]+st[r[e+3]]+"-"+st[r[e+4]]+st[r[e+5]]+"-"+st[r[e+6]]+st[r[e+7]]+"-"+st[r[e+8]]+st[r[e+9]]+"-"+st[r[e+10]]+st[r[e+11]]+st[r[e+12]]+st[r[e+13]]+st[r[e+14]]+st[r[e+15]]).toLowerCase();if(!si(t))throw TypeError("Stringified UUID is invalid");return t}var st,ai,va=I(()=>{wa();st=[];for(let r=0;r<256;++r)st.push((r+256).toString(16).substr(1));ai=Ok});function Nk(r,e,t){let i=e&&t||0,n=e||new Array(16);r=r||{};let s=r.node||Nx,a=r.clockseq!==void 0?r.clockseq:tp;if(s==null||a==null){let p=r.random||(r.rng||xa)();s==null&&(s=Nx=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),a==null&&(a=tp=(p[6]<<8|p[7])&16383)}let o=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:ip+1,l=o-rp+(c-ip)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||o>rp)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rp=o,ip=c,tp=a,o+=122192928e5;let u=((o&268435455)*1e4+c)%4294967296;n[i++]=u>>>24&255,n[i++]=u>>>16&255,n[i++]=u>>>8&255,n[i++]=u&255;let d=o/4294967296*1e4&268435455;n[i++]=d>>>8&255,n[i++]=d&255,n[i++]=d>>>24&15|16,n[i++]=d>>>16&255,n[i++]=a>>>8|128,n[i++]=a&255;for(let p=0;p<6;++p)n[i+p]=s[p];return e||ai(n)}var Nx,tp,rp,ip,Dx,Lx=I(()=>{ep();va();rp=0,ip=0;Dx=Nk});function Dk(r){if(!si(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var uc,np=I(()=>{wa();uc=Dk});function Lk(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function dc(r,e,t){function i(n,s,a,o){if(typeof n=="string"&&(n=Lk(n)),typeof s=="string"&&(s=uc(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+n.length);if(c.set(s),c.set(n,s.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,a){o=o||0;for(let l=0;l<16;++l)a[o+l]=c[l];return a}return ai(c)}try{i.name=r}catch{}return i.DNS=Fk,i.URL=Bk,i}var Fk,Bk,sp=I(()=>{va();np();Fk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Bk="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jk(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),Fx.default.createHash("md5").update(r).digest()}var Fx,Bx,jx=I(()=>{Fx=V(require("crypto"));Bx=jk});var qk,qx,Ux=I(()=>{sp();jx();qk=dc("v3",48,Bx),qx=qk});function Uk(r,e,t){r=r||{};let i=r.random||(r.rng||xa)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=i[n];return e}return ai(i)}var $x,zx=I(()=>{ep();va();$x=Uk});function $k(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),Kx.default.createHash("sha1").update(r).digest()}var Kx,Hx,Wx=I(()=>{Kx=V(require("crypto"));Hx=$k});var zk,Vx,Gx=I(()=>{sp();Wx();zk=dc("v5",80,Hx),Vx=zk});var Xx,Jx=I(()=>{Xx="00000000-0000-0000-0000-000000000000"});function Kk(r){if(!si(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Yx,Qx=I(()=>{wa();Yx=Kk});var Zx={};kn(Zx,{NIL:()=>Xx,parse:()=>uc,stringify:()=>ai,v1:()=>Dx,v3:()=>qx,v4:()=>$x,v5:()=>Vx,validate:()=>si,version:()=>Yx});var ew=I(()=>{Lx();Ux();zx();Gx();Jx();Qx();wa();va();np()});var nw=k(qt=>{"use strict";var Hk=qt&&qt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Wk=qt&&qt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rw=qt&&qt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Hk(e,r,t);return Wk(e,r),e};Object.defineProperty(qt,"__esModule",{value:!0});qt.prepareKeyValueMessage=qt.issueFileCommand=void 0;var tw=rw(require("fs")),ap=rw(require("os")),Vk=(ew(),Cx(Zx)),iw=oc();function Gk(r,e){let t=process.env[`GITHUB_${r}`];if(!t)throw new Error(`Unable to find environment variable for file command ${r}`);if(!tw.existsSync(t))throw new Error(`Missing file at path: ${t}`);tw.appendFileSync(t,`${iw.toCommandValue(e)}${ap.EOL}`,{encoding:"utf8"})}qt.issueFileCommand=Gk;function Xk(r,e){let t=`ghadelimiter_${Vk.v4()}`,i=iw.toCommandValue(e);if(r.includes(t))throw new Error(`Unexpected input: name should not contain the delimiter "${t}"`);if(i.includes(t))throw new Error(`Unexpected input: value should not contain the delimiter "${t}"`);return`${r}<<${t}${ap.EOL}${i}${ap.EOL}${t}`}qt.prepareKeyValueMessage=Xk});var aw=k(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.checkBypass=Tn.getProxyUrl=void 0;function Jk(r){let e=r.protocol==="https:";if(sw(r))return;let t=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(t)return new URL(t)}Tn.getProxyUrl=Jk;function sw(r){if(!r.hostname)return!1;let e=r.hostname;if(Yk(e))return!0;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let i;r.port?i=Number(r.port):r.protocol==="http:"?i=80:r.protocol==="https:"&&(i=443);let n=[r.hostname.toUpperCase()];typeof i=="number"&&n.push(`${n[0]}:${i}`);for(let s of t.split(",").map(a=>a.trim().toUpperCase()).filter(a=>a))if(s==="*"||n.some(a=>a===s||a.endsWith(`.${s}`)||s.startsWith(".")&&a.endsWith(`${s}`)))return!0;return!1}Tn.checkBypass=sw;function Yk(r){let e=r.toLowerCase();return e==="localhost"||e.startsWith("127.")||e.startsWith("[::1]")||e.startsWith("[0:0:0:0:0:0:0:1]")}});var uw=k(Pn=>{"use strict";var K2=require("net"),Qk=require("tls"),op=require("http"),ow=require("https"),Zk=require("events"),H2=require("assert"),eC=require("util");Pn.httpOverHttp=tC;Pn.httpsOverHttp=rC;Pn.httpOverHttps=iC;Pn.httpsOverHttps=nC;function tC(r){var e=new Ar(r);return e.request=op.request,e}function rC(r){var e=new Ar(r);return e.request=op.request,e.createSocket=cw,e.defaultPort=443,e}function iC(r){var e=new Ar(r);return e.request=ow.request,e}function nC(r){var e=new Ar(r);return e.request=ow.request,e.createSocket=cw,e.defaultPort=443,e}function Ar(r){var e=this;e.options=r||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||op.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(i,n,s,a){for(var o=lw(n,s,a),c=0,l=e.requests.length;c<l;++c){var u=e.requests[c];if(u.host===o.host&&u.port===o.port){e.requests.splice(c,1),u.request.onSocket(i);return}}i.destroy(),e.removeSocket(i)})}eC.inherits(Ar,Zk.EventEmitter);Ar.prototype.addRequest=function(e,t,i,n){var s=this,a=cp({request:e},s.options,lw(t,i,n));if(s.sockets.length>=this.maxSockets){s.requests.push(a);return}s.createSocket(a,function(o){o.on("free",c),o.on("close",l),o.on("agentRemove",l),e.onSocket(o);function c(){s.emit("free",o,a)}function l(u){s.removeSocket(o),o.removeListener("free",c),o.removeListener("close",l),o.removeListener("agentRemove",l)}})};Ar.prototype.createSocket=function(e,t){var i=this,n={};i.sockets.push(n);var s=cp({},i.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),oi("making CONNECT request");var a=i.request(s);a.useChunkedEncodingByDefault=!1,a.once("response",o),a.once("upgrade",c),a.once("connect",l),a.once("error",u),a.end();function o(d){d.upgrade=!0}function c(d,p,m){process.nextTick(function(){l(d,p,m)})}function l(d,p,m){if(a.removeAllListeners(),p.removeAllListeners(),d.statusCode!==200){oi("tunneling socket could not be established, statusCode=%d",d.statusCode),p.destroy();var f=new Error("tunneling socket could not be established, statusCode="+d.statusCode);f.code="ECONNRESET",e.request.emit("error",f),i.removeSocket(n);return}if(m.length>0){oi("got illegal response body from proxy"),p.destroy();var f=new Error("got illegal response body from proxy");f.code="ECONNRESET",e.request.emit("error",f),i.removeSocket(n);return}return oi("tunneling connection has established"),i.sockets[i.sockets.indexOf(n)]=p,t(p)}function u(d){a.removeAllListeners(),oi(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var p=new Error("tunneling socket could not be established, cause="+d.message);p.code="ECONNRESET",e.request.emit("error",p),i.removeSocket(n)}};Ar.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(t!==-1){this.sockets.splice(t,1);var i=this.requests.shift();i&&this.createSocket(i,function(n){i.request.onSocket(n)})}};function cw(r,e){var t=this;Ar.prototype.createSocket.call(t,r,function(i){var n=r.request.getHeader("host"),s=cp({},t.options,{socket:i,servername:n?n.replace(/:.*$/,""):r.host}),a=Qk.connect(0,s);t.sockets[t.sockets.indexOf(i)]=a,e(a)})}function lw(r,e,t){return typeof r=="string"?{host:r,port:e,localAddress:t}:r}function cp(r){for(var e=1,t=arguments.length;e<t;++e){var i=arguments[e];if(typeof i=="object")for(var n=Object.keys(i),s=0,a=n.length;s<a;++s){var o=n[s];i[o]!==void 0&&(r[o]=i[o])}}return r}var oi;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?oi=function(){var r=Array.prototype.slice.call(arguments);typeof r[0]=="string"?r[0]="TUNNEL: "+r[0]:r.unshift("TUNNEL:"),console.error.apply(console,r)}:oi=function(){};Pn.debug=oi});var pw=k((V2,dw)=>{dw.exports=uw()});var fw=k(ye=>{"use strict";var sC=ye&&ye.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),aC=ye&&ye.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xc=ye&&ye.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&sC(e,r,t);return aC(e,r),e},Qe=ye&&ye.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):n(u.value).then(o,c)}l((i=i.apply(r,e||[])).next())})};Object.defineProperty(ye,"__esModule",{value:!0});ye.HttpClient=ye.isHttps=ye.HttpClientResponse=ye.HttpClientError=ye.getProxyUrl=ye.MediaTypes=ye.Headers=ye.HttpCodes=void 0;var pc=xc(require("http")),lp=xc(require("https")),hw=xc(aw()),hc=xc(pw()),Jt;(function(r){r[r.OK=200]="OK",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.ResourceMoved=302]="ResourceMoved",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.SwitchProxy=306]="SwitchProxy",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.TooManyRequests=429]="TooManyRequests",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout"})(Jt=ye.HttpCodes||(ye.HttpCodes={}));var xt;(function(r){r.Accept="accept",r.ContentType="content-type"})(xt=ye.Headers||(ye.Headers={}));var ci;(function(r){r.ApplicationJson="application/json"})(ci=ye.MediaTypes||(ye.MediaTypes={}));function oC(r){let e=hw.getProxyUrl(new URL(r));return e?e.href:""}ye.getProxyUrl=oC;var cC=[Jt.MovedPermanently,Jt.ResourceMoved,Jt.SeeOther,Jt.TemporaryRedirect,Jt.PermanentRedirect],lC=[Jt.BadGateway,Jt.ServiceUnavailable,Jt.GatewayTimeout],uC=["OPTIONS","GET","DELETE","HEAD"],dC=10,pC=5,mc=class r extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,r.prototype)}};ye.HttpClientError=mc;var gc=class{constructor(e){this.message=e}readBody(){return Qe(this,void 0,void 0,function*(){return new Promise(e=>Qe(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",i=>{t=Buffer.concat([t,i])}),this.message.on("end",()=>{e(t.toString())})}))})}};ye.HttpClientResponse=gc;function hC(r){return new URL(r).protocol==="https:"}ye.isHttps=hC;var up=class{constructor(e,t,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(e,t){return Qe(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,t||{})})}get(e,t){return Qe(this,void 0,void 0,function*(){return this.request("GET",e,null,t||{})})}del(e,t){return Qe(this,void 0,void 0,function*(){return this.request("DELETE",e,null,t||{})})}post(e,t,i){return Qe(this,void 0,void 0,function*(){return this.request("POST",e,t,i||{})})}patch(e,t,i){return Qe(this,void 0,void 0,function*(){return this.request("PATCH",e,t,i||{})})}put(e,t,i){return Qe(this,void 0,void 0,function*(){return this.request("PUT",e,t,i||{})})}head(e,t){return Qe(this,void 0,void 0,function*(){return this.request("HEAD",e,null,t||{})})}sendStream(e,t,i,n){return Qe(this,void 0,void 0,function*(){return this.request(e,t,i,n)})}getJson(e,t={}){return Qe(this,void 0,void 0,function*(){t[xt.Accept]=this._getExistingOrDefaultHeader(t,xt.Accept,ci.ApplicationJson);let i=yield this.get(e,t);return this._processResponse(i,this.requestOptions)})}postJson(e,t,i={}){return Qe(this,void 0,void 0,function*(){let n=JSON.stringify(t,null,2);i[xt.Accept]=this._getExistingOrDefaultHeader(i,xt.Accept,ci.ApplicationJson),i[xt.ContentType]=this._getExistingOrDefaultHeader(i,xt.ContentType,ci.ApplicationJson);let s=yield this.post(e,n,i);return this._processResponse(s,this.requestOptions)})}putJson(e,t,i={}){return Qe(this,void 0,void 0,function*(){let n=JSON.stringify(t,null,2);i[xt.Accept]=this._getExistingOrDefaultHeader(i,xt.Accept,ci.ApplicationJson),i[xt.ContentType]=this._getExistingOrDefaultHeader(i,xt.ContentType,ci.ApplicationJson);let s=yield this.put(e,n,i);return this._processResponse(s,this.requestOptions)})}patchJson(e,t,i={}){return Qe(this,void 0,void 0,function*(){let n=JSON.stringify(t,null,2);i[xt.Accept]=this._getExistingOrDefaultHeader(i,xt.Accept,ci.ApplicationJson),i[xt.ContentType]=this._getExistingOrDefaultHeader(i,xt.ContentType,ci.ApplicationJson);let s=yield this.patch(e,n,i);return this._processResponse(s,this.requestOptions)})}request(e,t,i,n){return Qe(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(t),a=this._prepareRequest(e,s,n),o=this._allowRetries&&uC.includes(e)?this._maxRetries+1:1,c=0,l;do{if(l=yield this.requestRaw(a,i),l&&l.message&&l.message.statusCode===Jt.Unauthorized){let d;for(let p of this.handlers)if(p.canHandleAuthentication(l)){d=p;break}return d?d.handleAuthentication(this,a,i):l}let u=this._maxRedirects;for(;l.message.statusCode&&cC.includes(l.message.statusCode)&&this._allowRedirects&&u>0;){let d=l.message.headers.location;if(!d)break;let p=new URL(d);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield l.readBody(),p.hostname!==s.hostname)for(let m in n)m.toLowerCase()==="authorization"&&delete n[m];a=this._prepareRequest(e,p,n),l=yield this.requestRaw(a,i),u--}if(!l.message.statusCode||!lC.includes(l.message.statusCode))return l;c+=1,c<o&&(yield l.readBody(),yield this._performExponentialBackoff(c))}while(c<o);return l})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return Qe(this,void 0,void 0,function*(){return new Promise((i,n)=>{function s(a,o){a?n(a):o?i(o):n(new Error("Unknown error"))}this.requestRawWithCallback(e,t,s)})})}requestRawWithCallback(e,t,i){typeof t=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let n=!1;function s(c,l){n||(n=!0,i(c,l))}let a=e.httpModule.request(e.options,c=>{let l=new gc(c);s(void 0,l)}),o;a.on("socket",c=>{o=c}),a.setTimeout(this._socketTimeout||3*6e4,()=>{o&&o.end(),s(new Error(`Request timeout: ${e.options.path}`))}),a.on("error",function(c){s(c)}),t&&typeof t=="string"&&a.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){a.end()}),t.pipe(a)):a.end()}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,i){let n={};n.parsedUrl=t;let s=n.parsedUrl.protocol==="https:";n.httpModule=s?lp:pc;let a=s?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):a,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(let o of this.handlers)o.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},fc(this.requestOptions.headers),fc(e||{})):fc(e||{})}_getExistingOrDefaultHeader(e,t,i){let n;return this.requestOptions&&this.requestOptions.headers&&(n=fc(this.requestOptions.headers)[t]),e[t]||n||i}_getAgent(e){let t,i=hw.getProxyUrl(e),n=i&&i.hostname;if(this._keepAlive&&n&&(t=this._proxyAgent),this._keepAlive&&!n&&(t=this._agent),t)return t;let s=e.protocol==="https:",a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||pc.globalAgent.maxSockets),i&&i.hostname){let o={maxSockets:a,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},c,l=i.protocol==="https:";s?c=l?hc.httpsOverHttps:hc.httpsOverHttp:c=l?hc.httpOverHttps:hc.httpOverHttp,t=c(o),this._proxyAgent=t}if(this._keepAlive&&!t){let o={keepAlive:this._keepAlive,maxSockets:a};t=s?new lp.Agent(o):new pc.Agent(o),this._agent=t}return t||(t=s?lp.globalAgent:pc.globalAgent),s&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(e){return Qe(this,void 0,void 0,function*(){e=Math.min(dC,e);let t=pC*Math.pow(2,e);return new Promise(i=>setTimeout(()=>i(),t))})}_processResponse(e,t){return Qe(this,void 0,void 0,function*(){return new Promise((i,n)=>Qe(this,void 0,void 0,function*(){let s=e.message.statusCode||0,a={statusCode:s,result:null,headers:{}};s===Jt.NotFound&&i(a);function o(u,d){if(typeof d=="string"){let p=new Date(d);if(!isNaN(p.valueOf()))return p}return d}let c,l;try{l=yield e.readBody(),l&&l.length>0&&(t&&t.deserializeDates?c=JSON.parse(l,o):c=JSON.parse(l),a.result=c),a.headers=e.message.headers}catch{}if(s>299){let u;c&&c.message?u=c.message:l&&l.length>0?u=l:u=`Failed request: (${s})`;let d=new mc(u,s);d.result=a.result,n(d)}else i(a)}))})}};ye.HttpClient=up;var fc=r=>Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{})});var mw=k(ur=>{"use strict";var fp=ur&&ur.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):n(u.value).then(o,c)}l((i=i.apply(r,e||[])).next())})};Object.defineProperty(ur,"__esModule",{value:!0});ur.PersonalAccessTokenCredentialHandler=ur.BearerCredentialHandler=ur.BasicCredentialHandler=void 0;var dp=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return fp(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ur.BasicCredentialHandler=dp;var pp=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return fp(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ur.BearerCredentialHandler=pp;var hp=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return fp(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ur.PersonalAccessTokenCredentialHandler=hp});var ww=k(In=>{"use strict";var gw=In&&In.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):n(u.value).then(o,c)}l((i=i.apply(r,e||[])).next())})};Object.defineProperty(In,"__esModule",{value:!0});In.OidcClient=void 0;var fC=fw(),mC=mw(),xw=gp(),mp=class r{static createHttpClient(e=!0,t=10){let i={allowRetries:e,maxRetries:t};return new fC.HttpClient("actions/oidc-client",[new mC.BearerCredentialHandler(r.getRequestToken())],i)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var t;return gw(this,void 0,void 0,function*(){let s=(t=(yield r.createHttpClient().getJson(e).catch(a=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${a.statusCode}
 
        Error Message: ${a.result.message}`)})).result)===null||t===void 0?void 0:t.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return gw(this,void 0,void 0,function*(){try{let t=r.getIDTokenUrl();if(e){let n=encodeURIComponent(e);t=`${t}&audience=${n}`}xw.debug(`ID token url is ${t}`);let i=yield r.getCall(t);return xw.setSecret(i),i}catch(t){throw new Error(`Error message: ${t.message}`)}})}};In.OidcClient=mp});var yp=k(Et=>{"use strict";var xp=Et&&Et.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):n(u.value).then(o,c)}l((i=i.apply(r,e||[])).next())})};Object.defineProperty(Et,"__esModule",{value:!0});Et.summary=Et.markdownSummary=Et.SUMMARY_DOCS_URL=Et.SUMMARY_ENV_VAR=void 0;var gC=require("os"),wp=require("fs"),{access:xC,appendFile:wC,writeFile:vC}=wp.promises;Et.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Et.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var vp=class{constructor(){this._buffer=""}filePath(){return xp(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[Et.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${Et.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield xC(e,wp.constants.R_OK|wp.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,t,i={}){let n=Object.entries(i).map(([s,a])=>` ${s}="${a}"`).join("");return t?`<${e}${n}>${t}</${e}>`:`<${e}${n}>`}write(e){return xp(this,void 0,void 0,function*(){let t=!!(e!=null&&e.overwrite),i=yield this.filePath();return yield(t?vC:wC)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return xp(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(gC.EOL)}addCodeBlock(e,t){let i=Object.assign({},t&&{lang:t}),n=this.wrap("pre",this.wrap("code",e),i);return this.addRaw(n).addEOL()}addList(e,t=!1){let i=t?"ol":"ul",n=e.map(a=>this.wrap("li",a)).join(""),s=this.wrap(i,n);return this.addRaw(s).addEOL()}addTable(e){let t=e.map(n=>{let s=n.map(a=>{if(typeof a=="string")return this.wrap("td",a);let{header:o,data:c,colspan:l,rowspan:u}=a,d=o?"th":"td",p=Object.assign(Object.assign({},l&&{colspan:l}),u&&{rowspan:u});return this.wrap(d,c,p)}).join("");return this.wrap("tr",s)}).join(""),i=this.wrap("table",t);return this.addRaw(i).addEOL()}addDetails(e,t){let i=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(i).addEOL()}addImage(e,t,i){let{width:n,height:s}=i||{},a=Object.assign(Object.assign({},n&&{width:n}),s&&{height:s}),o=this.wrap("img",null,Object.assign({src:e,alt:t},a));return this.addRaw(o).addEOL()}addHeading(e,t){let i=`h${t}`,n=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",s=this.wrap(n,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){let i=Object.assign({},t&&{cite:t}),n=this.wrap("blockquote",e,i);return this.addRaw(n).addEOL()}addLink(e,t){let i=this.wrap("a",e,{href:t});return this.addRaw(i).addEOL()}},vw=new vp;Et.markdownSummary=vw;Et.summary=vw});var yw=k(St=>{"use strict";var yC=St&&St.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),bC=St&&St.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_C=St&&St.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&yC(e,r,t);return bC(e,r),e};Object.defineProperty(St,"__esModule",{value:!0});St.toPlatformPath=St.toWin32Path=St.toPosixPath=void 0;var EC=_C(require("path"));function SC(r){return r.replace(/[\\]/g,"/")}St.toPosixPath=SC;function kC(r){return r.replace(/[/]/g,"\\")}St.toWin32Path=kC;function CC(r){return r.replace(/[/\\]/g,EC.sep)}St.toPlatformPath=CC});var gp=k(K=>{"use strict";var TC=K&&K.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),PC=K&&K.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bw=K&&K.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&TC(e,r,t);return PC(e,r),e},_w=K&&K.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):n(u.value).then(o,c)}l((i=i.apply(r,e||[])).next())})};Object.defineProperty(K,"__esModule",{value:!0});K.getIDToken=K.getState=K.saveState=K.group=K.endGroup=K.startGroup=K.info=K.notice=K.warning=K.error=K.debug=K.isDebug=K.setFailed=K.setCommandEcho=K.setOutput=K.getBooleanInput=K.getMultilineInput=K.getInput=K.addPath=K.setSecret=K.exportVariable=K.ExitCode=void 0;var Ut=Rx(),zi=nw(),Rn=oc(),Ew=bw(require("os")),IC=bw(require("path")),RC=ww(),Sw;(function(r){r[r.Success=0]="Success",r[r.Failure=1]="Failure"})(Sw=K.ExitCode||(K.ExitCode={}));function MC(r,e){let t=Rn.toCommandValue(e);if(process.env[r]=t,process.env.GITHUB_ENV||"")return zi.issueFileCommand("ENV",zi.prepareKeyValueMessage(r,e));Ut.issueCommand("set-env",{name:r},t)}K.exportVariable=MC;function AC(r){Ut.issueCommand("add-mask",{},r)}K.setSecret=AC;function OC(r){process.env.GITHUB_PATH||""?zi.issueFileCommand("PATH",r):Ut.issueCommand("add-path",{},r),process.env.PATH=`${r}${IC.delimiter}${process.env.PATH}`}K.addPath=OC;function bp(r,e){let t=process.env[`INPUT_${r.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!t)throw new Error(`Input required and not supplied: ${r}`);return e&&e.trimWhitespace===!1?t:t.trim()}K.getInput=bp;function NC(r,e){let t=bp(r,e).split(`
`).filter(i=>i!=="");return e&&e.trimWhitespace===!1?t:t.map(i=>i.trim())}K.getMultilineInput=NC;function DC(r,e){let t=["true","True","TRUE"],i=["false","False","FALSE"],n=bp(r,e);if(t.includes(n))return!0;if(i.includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${r}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}K.getBooleanInput=DC;function LC(r,e){if(process.env.GITHUB_OUTPUT||"")return zi.issueFileCommand("OUTPUT",zi.prepareKeyValueMessage(r,e));process.stdout.write(Ew.EOL),Ut.issueCommand("set-output",{name:r},Rn.toCommandValue(e))}K.setOutput=LC;function FC(r){Ut.issue("echo",r?"on":"off")}K.setCommandEcho=FC;function BC(r){process.exitCode=Sw.Failure,kw(r)}K.setFailed=BC;function jC(){return process.env.RUNNER_DEBUG==="1"}K.isDebug=jC;function qC(r){Ut.issueCommand("debug",{},r)}K.debug=qC;function kw(r,e={}){Ut.issueCommand("error",Rn.toCommandProperties(e),r instanceof Error?r.toString():r)}K.error=kw;function UC(r,e={}){Ut.issueCommand("warning",Rn.toCommandProperties(e),r instanceof Error?r.toString():r)}K.warning=UC;function $C(r,e={}){Ut.issueCommand("notice",Rn.toCommandProperties(e),r instanceof Error?r.toString():r)}K.notice=$C;function zC(r){process.stdout.write(r+Ew.EOL)}K.info=zC;function Cw(r){Ut.issue("group",r)}K.startGroup=Cw;function Tw(){Ut.issue("endgroup")}K.endGroup=Tw;function KC(r,e){return _w(this,void 0,void 0,function*(){Cw(r);let t;try{t=yield e()}finally{Tw()}return t})}K.group=KC;function HC(r,e){if(process.env.GITHUB_STATE||"")return zi.issueFileCommand("STATE",zi.prepareKeyValueMessage(r,e));Ut.issueCommand("save-state",{name:r},Rn.toCommandValue(e))}K.saveState=HC;function WC(r){return process.env[`STATE_${r}`]||""}K.getState=WC;function VC(r){return _w(this,void 0,void 0,function*(){return yield RC.OidcClient.getIDToken(r)})}K.getIDToken=VC;var GC=yp();Object.defineProperty(K,"summary",{enumerable:!0,get:function(){return GC.summary}});var XC=yp();Object.defineProperty(K,"markdownSummary",{enumerable:!0,get:function(){return XC.markdownSummary}});var _p=yw();Object.defineProperty(K,"toPosixPath",{enumerable:!0,get:function(){return _p.toPosixPath}});Object.defineProperty(K,"toWin32Path",{enumerable:!0,get:function(){return _p.toWin32Path}});Object.defineProperty(K,"toPlatformPath",{enumerable:!0,get:function(){return _p.toPlatformPath}})});var Rw=k((eL,Iw)=>{"use strict";function Y(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var JC=require("querystring");Y.queryString=JC;Y.prototype.parse=function(e,t,i,n){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);for(var s=0,a=e.length-1;e.charCodeAt(s)<=32;)s++;for(;e.charCodeAt(a)<=32;)a--;if(s=this._parseProtocol(e,s,a),this._protocol!=="javascript"){s=this._parseHost(e,s,a,i);var o=this._protocol;!this.hostname&&(this.slashes||o&&!Ki[o])&&(this.hostname=this.host="")}if(s<=a){var c=e.charCodeAt(s);c===47||c===92?this._parsePath(e,s,a,n):c===63?this._parseQuery(e,s,a,n):c===35?this._parseHash(e,s,a,n):this._protocol!=="javascript"?this._parsePath(e,s,a,n):this.pathname=e.slice(s,a+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),t){var l=this.search;l==null&&(l=this.search=""),l.charCodeAt(0)===63&&(l=l.slice(1)),this.query=Y.queryString.parse(l)}};Y.prototype.resolve=function(e){return this.resolveObject(Y.parse(e,!1,!0)).format()};Y.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",s=this.search||"",a="",o=this.hostname||"",c=this.port||"",l=!1,u="",d=this.query;if(d&&typeof d=="object"&&(a=Y.queryString.stringify(d)),s||(s=a?"?"+a:""),t&&t.charCodeAt(t.length-1)!==58&&(t+=":"),this.host)l=e+this.host;else if(o){var p=o.indexOf(":")>-1;p&&(o="["+o+"]"),l=e+o+(c?":"+c:"")}var m=this.slashes||(!t||Ki[t])&&l!==!1;return t?u=t+(m?"//":""):m&&(u="//"),m&&i&&i.charCodeAt(0)!==47&&(i="/"+i),s&&s.charCodeAt(0)!==63&&(s="?"+s),n&&n.charCodeAt(0)!==35&&(n="#"+n),i=QC(i),s=ZC(s),u+(l===!1?"":l)+i+s+n};Y.prototype.resolveObject=function(e){typeof e=="string"&&(e=Y.parse(e,!1,!0));var t=this._clone();if(t.hash=e.hash,!e.href)return t._href="",t;if(e.slashes&&!e._protocol)return e._copyPropsTo(t,!0),Ki[t._protocol]&&t.hostname&&!t.pathname&&(t.pathname="/"),t._href="",t;if(e._protocol&&e._protocol!==t._protocol){if(!Ki[e._protocol])return e._copyPropsTo(t,!1),t._href="",t;if(t._protocol=e._protocol,!e.host&&e._protocol!=="javascript"){for(var c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),c[0]!==""&&c.unshift(""),c.length<2&&c.unshift(""),t.pathname=c.join("/")}else t.pathname=e.pathname;return t.search=e.search,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t._port=e._port,t.slashes=t.slashes||e.slashes,t._href="",t}var i=t.pathname&&t.pathname.charCodeAt(0)===47,n=e.host||e.pathname&&e.pathname.charCodeAt(0)===47,s=n||i||t.host&&e.pathname,a=s,o=t.pathname&&t.pathname.split("/")||[],c=e.pathname&&e.pathname.split("/")||[],l=t._protocol&&!Ki[t._protocol];if(l&&(t.hostname="",t._port=-1,t.host&&(o[0]===""?o[0]=t.host:o.unshift(t.host)),t.host="",e._protocol&&(e.hostname="",e._port=-1,e.host&&(c[0]===""?c[0]=e.host:c.unshift(e.host)),e.host=""),s=s&&(c[0]===""||o[0]==="")),n)t.host=e.host?e.host:t.host,t.hostname=e.hostname?e.hostname:t.hostname,t.search=e.search,o=c;else if(c.length)o||(o=[]),o.pop(),o=o.concat(c),t.search=e.search;else if(e.search){if(l){t.hostname=t.host=o.shift();var u=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;u&&(t.auth=u.shift(),t.host=t.hostname=u.shift())}return t.search=e.search,t._href="",t}if(!o.length)return t.pathname=null,t._href="",t;for(var d=o.slice(-1)[0],p=(t.host||e.host)&&(d==="."||d==="..")||d==="",m=0,f=o.length;f>=0;f--)d=o[f],d==="."?o.splice(f,1):d===".."?(o.splice(f,1),m++):m&&(o.splice(f,1),m--);if(!s&&!a)for(;m--;m)o.unshift("..");s&&o[0]!==""&&(!o[0]||o[0].charCodeAt(0)!==47)&&o.unshift(""),p&&o.join("/").substr(-1)!=="/"&&o.push("");var h=o[0]===""||o[0]&&o[0].charCodeAt(0)===47;if(l){t.hostname=t.host=h?"":o.length?o.shift():"";var u=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;u&&(t.auth=u.shift(),t.host=t.hostname=u.shift())}return s=s||t.host&&o.length,s&&!h&&o.unshift(""),t.pathname=o.length===0?null:o.join("/"),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t._href="",t};var YC=require("punycode");Y.prototype._hostIdna=function(e){return YC.toASCII(e)};var QC=Y.prototype._escapePathName=function(e){return Pw(e,35,63)?eT(e):e},ZC=Y.prototype._escapeSearch=function(e){return Pw(e,35,-1)?tT(e):e};Y.prototype._parseProtocol=function(e,t,i){for(var n=!1,s=this._protocolCharacters,a=t;a<=i;++a){var o=e.charCodeAt(a);if(o===58){var c=e.slice(t,a);return n&&(c=c.toLowerCase()),this._protocol=c,a+1}else if(s[o]===1)o<97&&(n=!0);else return t}return t};Y.prototype._parseAuth=function(e,t,i,n){var s=e.slice(t,i+1);n&&(s=decodeURIComponent(s)),this.auth=s};Y.prototype._parsePort=function(e,t,i){for(var n=0,s=!1,a=!0,o=t;o<=i;++o){var c=e.charCodeAt(o);if(48<=c&&c<=57)n=10*n+(c-48),s=!0;else{a=!1,(c===92||c===47)&&(a=!0);break}}return n===0&&!s||!a?(a||(this._port=-2),0):(this._port=n,o-t)};Y.prototype._parseHost=function(e,t,i,n){var s=this._hostEndingCharacters,a=e.charCodeAt(t),o=e.charCodeAt(t+1);if((a===47||a===92)&&(o===47||o===92)){if(this.slashes=!0,t===0){if(i<2)return t;var c=rT(e,64,2,s);if(!c&&!n)return this.slashes=null,t}t+=2}else if(!this._protocol||Ki[this._protocol])return t;for(var l=!1,u=!1,d=t,p=i,m=-1,f=0,h=0,g=!1,w=-1,v=t;v<=i;++v){var _=e.charCodeAt(v);if(_===64)w=v;else if(_===37)g=!0;else if(s[_]===1)break}if(w>-1&&(this._parseAuth(e,t,w-1,g),t=d=w+1),e.charCodeAt(t)===91){for(var v=t+1;v<=i;++v){var _=e.charCodeAt(v);if(_===93){e.charCodeAt(v+1)===58&&(f=this._parsePort(e,v+2,i)+1);var b=e.slice(t+1,v).toLowerCase();return this.hostname=b,this.host=this._port>0?"["+b+"]:"+this._port:"["+b+"]",this.pathname="/",v+f+1}}return t}for(var v=t;v<=i;++v){if(h>62)return this.hostname=this.host=e.slice(t,v),v;var _=e.charCodeAt(v);if(_===58){f=this._parsePort(e,v+1,i)+1,p=v-1;break}else if(_<97){if(_===46)h=-1;else if(65<=_&&_<=90)l=!0;else if(!(_===45||_===95||_===43||48<=_&&_<=57)){s[_]===0&&this._noPrependSlashHostEnders[_]===0&&(this._prependSlash=!0),p=v-1;break}}else if(_>=123){if(_<=126){this._noPrependSlashHostEnders[_]===0&&(this._prependSlash=!0),p=v-1;break}u=!0}m=_,h++}if(p+1!==t&&p-d<=256){var b=e.slice(d,p+1);l&&(b=b.toLowerCase()),u&&(b=this._hostIdna(b)),this.hostname=b,this.host=this._port>0?b+":"+this._port:b}return p+1+f};Y.prototype._copyPropsTo=function(e,t){t||(e._protocol=this._protocol),e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname};Y.prototype._clone=function(){var e=new Y;return e._protocol=this._protocol,e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname,e};Y.prototype._getComponentEscaped=function(e,t,i,n){for(var s=t,a=t,o="",c=n?this._afterQueryAutoEscapeMap:this._autoEscapeMap;a<=i;++a){var l=e.charCodeAt(a),u=c[l];u!==""&&u!==void 0&&(s<a&&(o+=e.slice(s,a)),o+=u,s=a+1)}return s<a+1&&(o+=e.slice(s,a)),o};Y.prototype._parsePath=function(e,t,i,n){for(var s=t,a=i,o=!1,c=this._autoEscapeCharacters,l=this._port===-2?"/:":"",u=t;u<=i;++u){var d=e.charCodeAt(u);if(d===35){this._parseHash(e,u,i,n),a=u-1;break}else if(d===63){this._parseQuery(e,u,i,n),a=u-1;break}else!n&&!o&&c[d]===1&&(o=!0)}if(s>a){this.pathname=l===""?"/":l;return}var p;o?p=this._getComponentEscaped(e,s,a,!1):p=e.slice(s,a+1),this.pathname=l===""?this._prependSlash?"/"+p:p:l+p};Y.prototype._parseQuery=function(e,t,i,n){for(var s=t,a=i,o=!1,c=this._autoEscapeCharacters,l=t;l<=i;++l){var u=e.charCodeAt(l);if(u===35){this._parseHash(e,l,i,n),a=l-1;break}else!n&&!o&&c[u]===1&&(o=!0)}if(s>a){this.search="";return}var d;o?d=this._getComponentEscaped(e,s,a,!0):d=e.slice(s,a+1),this.search=d};Y.prototype._parseHash=function(e,t,i,n){if(t>i){this.hash="";return}this.hash=n?e.slice(t,i+1):this._getComponentEscaped(e,t,i,!0)};Object.defineProperty(Y.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(r){r==null?this._port=-1:this._port=parseInt(r,10)}});Object.defineProperty(Y.prototype,"query",{get:function(){var r=this._query;if(r!=null)return r;var e=this.search;return e&&(e.charCodeAt(0)===63&&(e=e.slice(1)),e!=="")&&(this._query=e),e},set:function(r){this._query=r}});Object.defineProperty(Y.prototype,"path",{get:function(){var r=this.pathname||"",e=this.search||"";return r||e?r+e:r==null&&e?"/"+e:null},set:function(){}});Object.defineProperty(Y.prototype,"protocol",{get:function(){var r=this._protocol;return r&&r+":"},set:function(r){if(typeof r=="string"){var e=r.length-1;r.charCodeAt(e)===58?this._protocol=r.slice(0,e):this._protocol=r}else r==null&&(this._protocol=null)}});Object.defineProperty(Y.prototype,"href",{get:function(){var r=this._href;return r||(r=this._href=this.format()),r},set:function(r){this._href=r}});Y.parse=function(e,t,i,n){if(e instanceof Y)return e;var s=new Y;return s.parse(e,!!t,!!i,!!n),s};Y.format=function(e){return typeof e=="string"&&(e=Y.parse(e)),e instanceof Y?e.format():Y.prototype.format.call(e)};Y.resolve=function(e,t){return Y.parse(e,!1,!0).resolve(t)};Y.resolveObject=function(e,t){return e?Y.parse(e,!1,!0).resolveObject(t):t};function eT(r){return r.replace(/[?#]/g,function(e){return encodeURIComponent(e)})}function tT(r){return r.replace(/#/g,function(e){return encodeURIComponent(e)})}function rT(r,e,t,i){for(var n=r.length,s=t;s<n;++s){var a=r.charCodeAt(s);if(a===e)return!0;if(i[a]===1)return!1}return!1}function Pw(r,e,t){for(var i=0,n=r.length;i<n;++i){var s=r.charCodeAt(i);if(s===e||s===t)return!0}return!1}function vc(r){var e=new Uint8Array(128);return r.forEach(function(t){if(typeof t=="number")e[t]=1;else for(var i=t[0],n=t[1],s=i;s<=n;++s)e[s]=1}),e}var Ep=["<",">",'"',"`"," ","\r",`
`,"	","{","}","|","\\","^","`","'"],Mn=new Array(128);for(Or=0,ba=Mn.length;Or<ba;++Or)Mn[Or]="";var Or,ba;for(Or=0,ba=Ep.length;Or<ba;++Or)ya=Ep[Or],wc=encodeURIComponent(ya),wc===ya&&(wc=escape(ya)),Mn[ya.charCodeAt(0)]=wc;var ya,wc,Or,ba,iT=Mn.slice();Mn[92]="/";var Ki=Y.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};function nT(){}nT.prototype=Ki;Y.prototype._protocolCharacters=vc([[97,122],[65,90],46,43,45]);Y.prototype._hostEndingCharacters=vc([35,63,47,92]);Y.prototype._autoEscapeCharacters=vc(Ep.map(function(r){return r.charCodeAt(0)}));Y.prototype._noPrependSlashHostEnders=vc(["<",">","'","`"," ","\r",`
`,"	","{","}","|","^","`",'"',"%",";"].map(function(r){return r.charCodeAt(0)}));Y.prototype._autoEscapeMap=Mn;Y.prototype._afterQueryAutoEscapeMap=iT;Iw.exports=Y;Y.replace=function(){require.cache.url={exports:Y}}});var Aw=k((tL,kp)=>{var Mw=require("path"),Sp=r=>Mw.posix.normalize(Mw.posix.join("/",r));kp.exports=r=>r.charAt(0)==="!"?`!${Sp(r.substr(1))}`:Sp(r);kp.exports.normalize=Sp});var Nw=k((rL,Ow)=>{Ow.exports=function(r,e){for(var t=[],i=0;i<r.length;i++){var n=e(r[i],i);sT(n)?t.push.apply(t,n):t.push(n)}return t};var sT=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var jw=k((iL,Bw)=>{"use strict";Bw.exports=Lw;function Lw(r,e,t){r instanceof RegExp&&(r=Dw(r,t)),e instanceof RegExp&&(e=Dw(e,t));var i=Fw(r,e,t);return i&&{start:i[0],end:i[1],pre:t.slice(0,i[0]),body:t.slice(i[0]+r.length,i[1]),post:t.slice(i[1]+e.length)}}function Dw(r,e){var t=e.match(r);return t?t[0]:null}Lw.range=Fw;function Fw(r,e,t){var i,n,s,a,o,c=t.indexOf(r),l=t.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(r===e)return[c,l];for(i=[],s=t.length;u>=0&&!o;)u==c?(i.push(u),c=t.indexOf(r,u+1)):i.length==1?o=[i.pop(),l]:(n=i.pop(),n<s&&(s=n,a=l),l=t.indexOf(e,u+1)),u=c<l&&c>=0?c:l;i.length&&(o=[s,a])}return o}});var Vw=k((nL,Ww)=>{var aT=Nw(),qw=jw();Ww.exports=lT;var Uw="\0SLASH"+Math.random()+"\0",$w="\0OPEN"+Math.random()+"\0",Tp="\0CLOSE"+Math.random()+"\0",zw="\0COMMA"+Math.random()+"\0",Kw="\0PERIOD"+Math.random()+"\0";function Cp(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function oT(r){return r.split("\\\\").join(Uw).split("\\{").join($w).split("\\}").join(Tp).split("\\,").join(zw).split("\\.").join(Kw)}function cT(r){return r.split(Uw).join("\\").split($w).join("{").split(Tp).join("}").split(zw).join(",").split(Kw).join(".")}function Hw(r){if(!r)return[""];var e=[],t=qw("{","}",r);if(!t)return r.split(",");var i=t.pre,n=t.body,s=t.post,a=i.split(",");a[a.length-1]+="{"+n+"}";var o=Hw(s);return s.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),e.push.apply(e,a),e}function lT(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),An(oT(r),!0).map(cT)):[]}function uT(r){return"{"+r+"}"}function dT(r){return/^-?0\d/.test(r)}function pT(r,e){return r<=e}function hT(r,e){return r>=e}function An(r,e){var t=[],i=qw("{","}",r);if(!i||/\$$/.test(i.pre))return[r];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),a=n||s,o=i.body.indexOf(",")>=0;if(!a&&!o)return i.post.match(/,.*\}/)?(r=i.pre+"{"+i.body+Tp+i.post,An(r)):[r];var c;if(a)c=i.body.split(/\.\./);else if(c=Hw(i.body),c.length===1&&(c=An(c[0],!1).map(uT),c.length===1)){var u=i.post.length?An(i.post,!1):[""];return u.map(function(U){return i.pre+c[0]+U})}var l=i.pre,u=i.post.length?An(i.post,!1):[""],d;if(a){var p=Cp(c[0]),m=Cp(c[1]),f=Math.max(c[0].length,c[1].length),h=c.length==3?Math.abs(Cp(c[2])):1,g=pT,w=m<p;w&&(h*=-1,g=hT);var v=c.some(dT);d=[];for(var _=p;g(_,m);_+=h){var b;if(s)b=String.fromCharCode(_),b==="\\"&&(b="");else if(b=String(_),v){var P=f-b.length;if(P>0){var T=new Array(P+1).join("0");_<0?b="-"+T+b.slice(1):b=T+b}}d.push(b)}}else d=aT(c,function(ne){return An(ne,!1)});for(var R=0;R<d.length;R++)for(var O=0;O<u.length;O++){var M=l+d[R]+u[O];(!e||a||M)&&t.push(M)}return t}});var Zw=k((sL,Qw)=>{Qw.exports=At;At.Minimatch=at;var _a=function(){try{return require("path")}catch{}}()||{sep:"/"};At.sep=_a.sep;var Rp=At.GLOBSTAR=at.GLOBSTAR={},fT=Vw(),Gw={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Pp="[^/]",Ip=Pp+"*?",mT="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",gT="(?:(?!(?:\\/|^)\\.).)*?",Xw=xT("().*{}+?[]^$\\!");function xT(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var Jw=/\/+/;At.filter=wT;function wT(r,e){return e=e||{},function(t,i,n){return At(t,r,e)}}function li(r,e){e=e||{};var t={};return Object.keys(r).forEach(function(i){t[i]=r[i]}),Object.keys(e).forEach(function(i){t[i]=e[i]}),t}At.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return At;var e=At,t=function(n,s,a){return e(n,s,li(r,a))};return t.Minimatch=function(n,s){return new e.Minimatch(n,li(r,s))},t.Minimatch.defaults=function(n){return e.defaults(li(r,n)).Minimatch},t.filter=function(n,s){return e.filter(n,li(r,s))},t.defaults=function(n){return e.defaults(li(r,n))},t.makeRe=function(n,s){return e.makeRe(n,li(r,s))},t.braceExpand=function(n,s){return e.braceExpand(n,li(r,s))},t.match=function(i,n,s){return e.match(i,n,li(r,s))},t};at.defaults=function(r){return At.defaults(r).Minimatch};function At(r,e,t){return bc(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:new at(e,t).match(r)}function at(r,e){if(!(this instanceof at))return new at(r,e);bc(r),e||(e={}),r=r.trim(),!e.allowWindowsEscape&&_a.sep!=="/"&&(r=r.split(_a.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}at.prototype.debug=function(){};at.prototype.make=vT;function vT(){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,t),t=this.globParts=t.map(function(i){return i.split(Jw)}),this.debug(this.pattern,t),t=t.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}at.prototype.parseNegate=yT;function yT(){var r=this.pattern,e=!1,t=this.options,i=0;if(!t.nonegate){for(var n=0,s=r.length;n<s&&r.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=r.substr(i)),this.negate=e}}At.braceExpand=function(r,e){return Yw(r,e)};at.prototype.braceExpand=Yw;function Yw(r,e){return e||(this instanceof at?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,bc(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:fT(r)}var bT=1024*64,bc=function(r){if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>bT)throw new TypeError("pattern is too long")};at.prototype.parse=_T;var yc={};function _T(r,e){bc(r);var t=this.options;if(r==="**")if(t.noglobstar)r="*";else return Rp;if(r==="")return"";var i="",n=!!t.nocase,s=!1,a=[],o=[],c,l=!1,u=-1,d=-1,p=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function f(){if(c){switch(c){case"*":i+=Ip,n=!0;break;case"?":i+=Pp,n=!0;break;default:i+="\\"+c;break}m.debug("clearStateChar %j %j",c,i),c=!1}}for(var h=0,g=r.length,w;h<g&&(w=r.charAt(h));h++){if(this.debug("%s	%s %s %j",r,h,i,w),s&&Xw[w]){i+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":f(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,h,i,w),l){this.debug("  in class"),w==="!"&&h===d+1&&(w="^"),i+=w;continue}m.debug("call clearStateChar %j",c),f(),c=w,t.noext&&f();continue;case"(":if(l){i+="(";continue}if(!c){i+="\\(";continue}a.push({type:c,start:h-1,reStart:i.length,open:Gw[c].open,close:Gw[c].close}),i+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,i),c=!1;continue;case")":if(l||!a.length){i+="\\)";continue}f(),n=!0;var v=a.pop();i+=v.close,v.type==="!"&&o.push(v),v.reEnd=i.length;continue;case"|":if(l||!a.length||s){i+="\\|",s=!1;continue}f(),i+="|";continue;case"[":if(f(),l){i+="\\"+w;continue}l=!0,d=h,u=i.length,i+=w;continue;case"]":if(h===d+1||!l){i+="\\"+w,s=!1;continue}var _=r.substring(d+1,h);try{RegExp("["+_+"]")}catch{var b=this.parse(_,yc);i=i.substr(0,u)+"\\["+b[0]+"\\]",n=n||b[1],l=!1;continue}n=!0,l=!1,i+=w;continue;default:f(),s?s=!1:Xw[w]&&!(w==="^"&&l)&&(i+="\\"),i+=w}}for(l&&(_=r.substr(d+1),b=this.parse(_,yc),i=i.substr(0,u)+"\\["+b[0],n=n||b[1]),v=a.pop();v;v=a.pop()){var P=i.slice(v.reStart+v.open.length);this.debug("setting tail",i,v),P=P.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Q,Ie,ve){return ve||(ve="\\"),Ie+Ie+ve+"|"}),this.debug(`tail=%j
   %s`,P,P,v,i);var T=v.type==="*"?Ip:v.type==="?"?Pp:"\\"+v.type;n=!0,i=i.slice(0,v.reStart)+T+"\\("+P}f(),s&&(i+="\\\\");var R=!1;switch(i.charAt(0)){case"[":case".":case"(":R=!0}for(var O=o.length-1;O>-1;O--){var M=o[O],ne=i.slice(0,M.reStart),U=i.slice(M.reStart,M.reEnd-8),Pe=i.slice(M.reEnd-8,M.reEnd),te=i.slice(M.reEnd);Pe+=te;var C=ne.split("(").length-1,y=te;for(h=0;h<C;h++)y=y.replace(/\)[+*?]?/,"");te=y;var j="";te===""&&e!==yc&&(j="$");var N=ne+U+te+j+Pe;i=N}if(i!==""&&n&&(i="(?=.)"+i),R&&(i=p+i),e===yc)return[i,n];if(!n)return ST(r);var ue=t.nocase?"i":"";try{var we=new RegExp("^"+i+"$",ue)}catch{return new RegExp("$.")}return we._glob=r,we._src=i,we}At.makeRe=function(r,e){return new at(r,e||{}).makeRe()};at.prototype.makeRe=ET;function ET(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?Ip:e.dot?mT:gT,i=e.nocase?"i":"",n=r.map(function(s){return s.map(function(a){return a===Rp?t:typeof a=="string"?kT(a):a._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch{this.regexp=!1}return this.regexp}At.match=function(r,e,t){t=t||{};var i=new at(e,t);return r=r.filter(function(n){return i.match(n)}),i.options.nonull&&!r.length&&r.push(e),r};at.prototype.match=function(e,t){if(typeof t>"u"&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var i=this.options;_a.sep!=="/"&&(e=e.split(_a.sep).join("/")),e=e.split(Jw),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var s,a;for(a=e.length-1;a>=0&&(s=e[a],!s);a--);for(a=0;a<n.length;a++){var o=n[a],c=e;i.matchBase&&o.length===1&&(c=[s]);var l=this.matchOne(c,o,t);if(l)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate};at.prototype.matchOne=function(r,e,t){var i=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var n=0,s=0,a=r.length,o=e.length;n<a&&s<o;n++,s++){this.debug("matchOne loop");var c=e[s],l=r[n];if(this.debug(e,c,l),c===!1)return!1;if(c===Rp){this.debug("GLOBSTAR",[e,c,l]);var u=n,d=s+1;if(d===o){for(this.debug("** at the end");n<a;n++)if(r[n]==="."||r[n]===".."||!i.dot&&r[n].charAt(0)===".")return!1;return!0}for(;u<a;){var p=r[u];if(this.debug(`
globstar while`,r,u,e,d,p),this.matchOne(r.slice(u),e.slice(d),t))return this.debug("globstar found match!",u,a,p),!0;if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",r,u,e,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,u,e,d),u===a))}var m;if(typeof c=="string"?(m=l===c,this.debug("string match",c,l,m)):(m=l.match(c),this.debug("pattern match",c,l,m)),!m)return!1}if(n===a&&s===o)return!0;if(n===a)return t;if(s===o)return n===a-1&&r[n]==="";throw new Error("wtf?")};function ST(r){return r.replace(/\\(.)/g,"$1")}function kT(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var av=k((aL,On)=>{On.exports=sv;On.exports.parse=Mp;On.exports.compile=TT;On.exports.tokensToFunction=rv;On.exports.tokensToRegExp=nv;var ev="/",tv="./",CT=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Mp(r,e){for(var t=[],i=0,n=0,s="",a=e&&e.delimiter||ev,o=e&&e.delimiters||tv,c=!1,l;(l=CT.exec(r))!==null;){var u=l[0],d=l[1],p=l.index;if(s+=r.slice(n,p),n=p+u.length,d){s+=d[1],c=!0;continue}var m="",f=r[n],h=l[2],g=l[3],w=l[4],v=l[5];if(!c&&s.length){var _=s.length-1;o.indexOf(s[_])>-1&&(m=s[_],s=s.slice(0,_))}s&&(t.push(s),s="",c=!1);var b=m!==""&&f!==void 0&&f!==m,P=v==="+"||v==="*",T=v==="?"||v==="*",R=m||a,O=g||w;t.push({name:h||i++,prefix:m,delimiter:R,optional:T,repeat:P,partial:b,pattern:O?PT(O):"[^"+Ea(R)+"]+?"})}return(s||n<r.length)&&t.push(s+r.substr(n)),t}function TT(r,e){return rv(Mp(r,e))}function rv(r){for(var e=new Array(r.length),t=0;t<r.length;t++)typeof r[t]=="object"&&(e[t]=new RegExp("^(?:"+r[t].pattern+")$"));return function(i,n){for(var s="",a=n&&n.encode||encodeURIComponent,o=0;o<r.length;o++){var c=r[o];if(typeof c=="string"){s+=c;continue}var l=i?i[c.name]:void 0,u;if(Array.isArray(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(l.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<l.length;d++){if(u=a(l[d],c),!e[o].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');s+=(d===0?c.prefix:c.delimiter)+u}continue}if(typeof l=="string"||typeof l=="number"||typeof l=="boolean"){if(u=a(String(l),c),!e[o].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+u+'"');s+=c.prefix+u;continue}if(c.optional){c.partial&&(s+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}return s}}function Ea(r){return r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function PT(r){return r.replace(/([=!:$/()])/g,"\\$1")}function iv(r){return r&&r.sensitive?"":"i"}function IT(r,e){if(!e)return r;var t=r.source.match(/\((?!\?)/g);if(t)for(var i=0;i<t.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return r}function RT(r,e,t){for(var i=[],n=0;n<r.length;n++)i.push(sv(r[n],e,t).source);return new RegExp("(?:"+i.join("|")+")",iv(t))}function MT(r,e,t){return nv(Mp(r,t),e,t)}function nv(r,e,t){t=t||{};for(var i=t.strict,n=t.end!==!1,s=Ea(t.delimiter||ev),a=t.delimiters||tv,o=[].concat(t.endsWith||[]).map(Ea).concat("$").join("|"),c="",l=r.length===0,u=0;u<r.length;u++){var d=r[u];if(typeof d=="string")c+=Ea(d),l=u===r.length-1&&a.indexOf(d[d.length-1])>-1;else{var p=Ea(d.prefix),m=d.repeat?"(?:"+d.pattern+")(?:"+p+"(?:"+d.pattern+"))*":d.pattern;e&&e.push(d),d.optional?d.partial?c+=p+"("+m+")?":c+="(?:"+p+"("+m+"))?":c+=p+"("+m+")"}}return n?(i||(c+="(?:"+s+")?"),c+=o==="$"?"$":"(?="+o+")"):(i||(c+="(?:"+s+"(?="+o+"))?"),l||(c+="(?="+s+"|"+o+")")),new RegExp("^"+c,iv(t))}function sv(r,e,t){return r instanceof RegExp?IT(r,e):Array.isArray(r)?RT(r,e,t):MT(r,e,t)}});var ov=k((oL,AT)=>{AT.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana"},"application/3gpp-ims+xml":{source:"iana"},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana"},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",extensions:["atomsvc"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana"},"application/bacnet-xdd+zip":{source:"iana"},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana"},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana"},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/cbor":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana"},"application/ccxml+xml":{source:"iana",extensions:["ccxml"]},"application/cdfx+xml":{source:"iana"},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana"},"application/cellml+xml":{source:"iana"},"application/cfw":{source:"iana"},"application/clue_info+xml":{source:"iana"},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana"},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana"},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana"},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana"},"application/cstadata+xml":{source:"iana"},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana"},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana"},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/docbook+xml":{source:"apache",extensions:["dbk"]},"application/dskpp+xml":{source:"iana"},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/emergencycalldata.comment+xml":{source:"iana"},"application/emergencycalldata.control+xml":{source:"iana"},"application/emergencycalldata.deviceinfo+xml":{source:"iana"},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana"},"application/emergencycalldata.serviceinfo+xml":{source:"iana"},"application/emergencycalldata.subscriberinfo+xml":{source:"iana"},"application/emergencycalldata.veds+xml":{source:"iana"},"application/emma+xml":{source:"iana",extensions:["emma"]},"application/emotionml+xml":{source:"iana"},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana"},"application/epub+zip":{source:"iana",extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana"},"application/fhir+xml":{source:"iana"},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1,extensions:["woff"]},"application/framework-attributes+xml":{source:"iana"},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geoxacml+xml":{source:"iana"},"application/gml+xml":{source:"iana",extensions:["gml"]},"application/gpx+xml":{source:"apache",extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana"},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana"},"application/ibe-pkg-reply+xml":{source:"iana"},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana"},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana"},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana"},"application/kpml-response+xml":{source:"iana"},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana"},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana"},"application/lost+xml":{source:"iana",extensions:["lostxml"]},"application/lostsync+xml":{source:"iana"},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",extensions:["mathml"]},"application/mathml-content+xml":{source:"iana"},"application/mathml-presentation+xml":{source:"iana"},"application/mbms-associated-procedure-description+xml":{source:"iana"},"application/mbms-deregister+xml":{source:"iana"},"application/mbms-envelope+xml":{source:"iana"},"application/mbms-msk+xml":{source:"iana"},"application/mbms-msk-response+xml":{source:"iana"},"application/mbms-protection-description+xml":{source:"iana"},"application/mbms-reception-report+xml":{source:"iana"},"application/mbms-register+xml":{source:"iana"},"application/mbms-register-response+xml":{source:"iana"},"application/mbms-schedule+xml":{source:"iana"},"application/mbms-user-service-description+xml":{source:"iana"},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana"},"application/media_control+xml":{source:"iana"},"application/mediaservercontrol+xml":{source:"iana",extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",extensions:["metalink"]},"application/metalink4+xml":{source:"iana",extensions:["meta4"]},"application/mets+xml":{source:"iana",extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mmt-usd+xml":{source:"iana"},"application/mods+xml":{source:"iana",extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana"},"application/mrb-publish+xml":{source:"iana"},"application/msc-ivr+xml":{source:"iana"},"application/msc-mixer+xml":{source:"iana"},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana"},"application/n-triples":{source:"iana"},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana"},"application/news-groupinfo":{source:"iana"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana"},"application/node":{source:"iana"},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana"},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana"},"application/pidf-diff+xml":{source:"iana"},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",extensions:["pls"]},"application/poc-settings+xml":{source:"iana"},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana"},"application/provenance+xml":{source:"iana"},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.hpub+zip":{source:"iana"},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana"},"application/pskc+xml":{source:"iana",extensions:["pskcxml"]},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf"]},"application/reginfo+xml":{source:"iana",extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",extensions:["rld"]},"application/rfc+xml":{source:"iana"},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana"},"application/rls-services+xml":{source:"iana",extensions:["rs"]},"application/route-apd+xml":{source:"iana"},"application/route-s-tsid+xml":{source:"iana"},"application/route-usd+xml":{source:"iana"},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana"},"application/samlmetadata+xml":{source:"iana"},"application/sbml+xml":{source:"iana",extensions:["sbml"]},"application/scaip+xml":{source:"iana"},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/sep+xml":{source:"iana"},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",extensions:["shf"]},"application/sieve":{source:"iana"},"application/simple-filter+xml":{source:"iana"},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",extensions:["srx"]},"application/spirits-event+xml":{source:"iana"},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",extensions:["grxml"]},"application/sru+xml":{source:"iana",extensions:["sru"]},"application/ssdl+xml":{source:"apache",extensions:["ssdl"]},"application/ssml+xml":{source:"iana",extensions:["ssml"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/tei+xml":{source:"iana",extensions:["tei","teicorpus"]},"application/thraud+xml":{source:"iana",extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tnauthlist":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana"},"application/tve-trigger":{source:"iana"},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana"},"application/urc-ressheet+xml":{source:"iana"},"application/urc-targetdesc+xml":{source:"iana"},"application/urc-uisocketdesc+xml":{source:"iana"},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana"},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana"},"application/vnd.3gpp-prose+xml":{source:"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana"},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana"},"application/vnd.3gpp.bsf+xml":{source:"iana"},"application/vnd.3gpp.gmop+xml":{source:"iana"},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana"},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana"},"application/vnd.3gpp.mcptt-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana"},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana"},"application/vnd.3gpp.mid-call+xml":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana"},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana"},"application/vnd.3gpp.srvcc-info+xml":{source:"iana"},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana"},"application/vnd.3gpp.ussd+xml":{source:"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana"},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",extensions:["mpkg"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana"},"application/vnd.balsamiq.bmml+xml":{source:"iana"},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana"},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana"},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana"},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",extensions:["wbs"]},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana"},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana"},"application/vnd.cybank":{source:"iana"},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume-movie":{source:"iana"},"application/vnd.desmume.movie":{source:"apache"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana"},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana"},"application/vnd.dvb.notif-container+xml":{source:"iana"},"application/vnd.dvb.notif-generic+xml":{source:"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana"},"application/vnd.dvb.notif-init+xml":{source:"iana"},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana"},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana"},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana"},"application/vnd.eszigno3+xml":{source:"iana",extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana"},"application/vnd.etsi.asic-e+zip":{source:"iana"},"application/vnd.etsi.asic-s+zip":{source:"iana"},"application/vnd.etsi.cug+xml":{source:"iana"},"application/vnd.etsi.iptvcommand+xml":{source:"iana"},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana"},"application/vnd.etsi.iptvprofile+xml":{source:"iana"},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana"},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana"},"application/vnd.etsi.iptvservice+xml":{source:"iana"},"application/vnd.etsi.iptvsync+xml":{source:"iana"},"application/vnd.etsi.iptvueprofile+xml":{source:"iana"},"application/vnd.etsi.mcid+xml":{source:"iana"},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana"},"application/vnd.etsi.pstn+xml":{source:"iana"},"application/vnd.etsi.sci+xml":{source:"iana"},"application/vnd.etsi.simservs+xml":{source:"iana"},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana"},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana"},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana"},"application/vnd.gov.sk.e-form+zip":{source:"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana"},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana"},"application/vnd.imagemeter.image+zip":{source:"iana"},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana"},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana"},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana"},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsitem+xml":{source:"iana"},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana"},"application/vnd.iptc.g2.packageitem+xml":{source:"iana"},"application/vnd.iptc.g2.planningitem+xml":{source:"iana"},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",extensions:["lasxml"]},"application/vnd.liberty-request+xml":{source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",extensions:["lbe"]},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana"},"application/vnd.marlin.drm.conftoken+xml":{source:"iana"},"application/vnd.marlin.drm.license+xml":{source:"iana"},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana"},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana"},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana"},"application/vnd.ms-printing.printticket+xml":{source:"apache"},"application/vnd.ms-printschematicket+xml":{source:"iana"},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana"},"application/vnd.nokia.iptv.config+xml":{source:"iana"},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana"},"application/vnd.nokia.landmarkcollection+xml":{source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{source:"iana"},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana"},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana"},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana"},"application/vnd.oipf.dae.xhtml+xml":{source:"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana"},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana"},"application/vnd.oipf.spdlist+xml":{source:"iana"},"application/vnd.oipf.ueprofile+xml":{source:"iana"},"application/vnd.oipf.userprofile+xml":{source:"iana"},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.imd+xml":{source:"iana"},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana"},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana"},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana"},"application/vnd.oma.bcast.sprov+xml":{source:"iana"},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana"},"application/vnd.oma.cab-feature-handler+xml":{source:"iana"},"application/vnd.oma.cab-pcc+xml":{source:"iana"},"application/vnd.oma.cab-subs-invite+xml":{source:"iana"},"application/vnd.oma.cab-user-prefs+xml":{source:"iana"},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana"},"application/vnd.oma.group-usage-list+xml":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana"},"application/vnd.oma.poc.final-report+xml":{source:"iana"},"application/vnd.oma.poc.groups+xml":{source:"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana"},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana"},"application/vnd.oma.xcap-directory+xml":{source:"iana"},"application/vnd.omads-email+xml":{source:"iana"},"application/vnd.omads-file+xml":{source:"iana"},"application/vnd.omads-folder+xml":{source:"iana"},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana"},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana"},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana"},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana"},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos+xml":{source:"iana"},"application/vnd.paos.xml":{source:"apache"},"application/vnd.patentdive":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana"},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana"},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana"},"application/vnd.radisys.msml+xml":{source:"iana"},"application/vnd.radisys.msml-audit+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana"},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana"},"application/vnd.radisys.msml-conf+xml":{source:"iana"},"application/vnd.radisys.msml-dialog+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana"},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana"},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.software602.filler.form+xml":{source:"iana"},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana"},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana"},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{source:"iana"},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana"},"application/vnd.wv.ssp+xml":{source:"iana"},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana"},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",extensions:["zaz"]},"application/voicexml+xml":{source:"iana",extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana"},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"apache",extensions:["der","crt","pem"]},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana"},"application/xaml+xml":{source:"apache",extensions:["xaml"]},"application/xcap-att+xml":{source:"iana"},"application/xcap-caps+xml":{source:"iana"},"application/xcap-diff+xml":{source:"iana",extensions:["xdf"]},"application/xcap-el+xml":{source:"iana"},"application/xcap-error+xml":{source:"iana"},"application/xcap-ns+xml":{source:"iana"},"application/xcon-conference-info+xml":{source:"iana"},"application/xcon-conference-info-diff+xml":{source:"iana"},"application/xenc+xml":{source:"iana",extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache"},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana"},"application/xmpp+xml":{source:"iana"},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",extensions:["xpl"]},"application/xslt+xml":{source:"iana",extensions:["xslt"]},"application/xspf+xml":{source:"apache",extensions:["xspf"]},"application/xv+xml":{source:"iana",extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana"},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana"},"application/yin+xml":{source:"iana",extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana"},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana"},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tone":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana"},"image/apng":{compressible:!1,extensions:["apng"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana"},"image/emf":{source:"iana"},"image/fits":{source:"iana"},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana"},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana"},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana"},"image/tiff":{source:"iana",compressible:!1,extensions:["tiff","tif"]},"image/tiff-fx":{source:"iana"},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana"},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana"},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana"},"image/vnd.valve.source.texture":{source:"iana"},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana"},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana"},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/vnd.collada+xml":{source:"iana",extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana"},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana"},"model/vnd.parasolid.transmit.binary":{source:"iana"},"model/vnd.parasolid.transmit.text":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.valve.source.compiled-map":{source:"iana"},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana"},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana"},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana",compressible:!1},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fwdred":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana"},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var lv=k((cL,cv)=>{cv.exports=ov()});var pv=k(kt=>{"use strict";var _c=lv(),OT=require("path").extname,uv=/^\s*([^;\s]*)(?:;|\s|$)/,NT=/^text\//i;kt.charset=dv;kt.charsets={lookup:dv};kt.contentType=DT;kt.extension=LT;kt.extensions=Object.create(null);kt.lookup=FT;kt.types=Object.create(null);BT(kt.extensions,kt.types);function dv(r){if(!r||typeof r!="string")return!1;var e=uv.exec(r),t=e&&_c[e[1].toLowerCase()];return t&&t.charset?t.charset:e&&NT.test(e[1])?"UTF-8":!1}function DT(r){if(!r||typeof r!="string")return!1;var e=r.indexOf("/")===-1?kt.lookup(r):r;if(!e)return!1;if(e.indexOf("charset")===-1){var t=kt.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e}function LT(r){if(!r||typeof r!="string")return!1;var e=uv.exec(r),t=e&&kt.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]}function FT(r){if(!r||typeof r!="string")return!1;var e=OT("x."+r).toLowerCase().substr(1);return e&&kt.types[e]||!1}function BT(r,e){var t=["nginx","apache",void 0,"iana"];Object.keys(_c).forEach(function(n){var s=_c[n],a=s.extensions;if(!(!a||!a.length)){r[n]=a;for(var o=0;o<a.length;o++){var c=a[o];if(e[c]){var l=t.indexOf(_c[e[c]].source),u=t.indexOf(s.source);if(e[c]!=="application/octet-stream"&&(l>u||l===u&&e[c].substr(0,12)==="application/"))continue}e[c]=n}}})}});var mv=k((uL,Ec)=>{"use strict";Ec.exports=$T;Ec.exports.format=hv;Ec.exports.parse=fv;var jT=/\B(?=(\d{3})+(?!\d))/g,qT=/(?:\.0*|(\.[^0]+)0+)$/,Hi={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:(1<<30)*1024},UT=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;function $T(r,e){return typeof r=="string"?fv(r):typeof r=="number"?hv(r,e):null}function hv(r,e){if(!Number.isFinite(r))return null;var t=Math.abs(r),i=e&&e.thousandsSeparator||"",n=e&&e.unitSeparator||"",s=e&&e.decimalPlaces!==void 0?e.decimalPlaces:2,a=!!(e&&e.fixedDecimals),o=e&&e.unit||"";(!o||!Hi[o.toLowerCase()])&&(t>=Hi.tb?o="TB":t>=Hi.gb?o="GB":t>=Hi.mb?o="MB":t>=Hi.kb?o="KB":o="B");var c=r/Hi[o.toLowerCase()],l=c.toFixed(s);return a||(l=l.replace(qT,"$1")),i&&(l=l.replace(jT,i)),l+n+o}function fv(r){if(typeof r=="number"&&!isNaN(r))return r;if(typeof r!="string")return null;var e=UT.exec(r),t,i="b";return e?(t=parseFloat(e[1]),i=e[4].toLowerCase()):(t=parseInt(r,10),i="b"),Math.floor(Hi[i]*t)}});var bv=k((dL,Ap)=>{"use strict";Ap.exports=QT;Ap.exports.parse=rP;var gv=require("path").basename,zT=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,KT=/%[0-9A-Fa-f]{2}/,HT=/%([0-9A-Fa-f]{2})/g,wv=/[^\x20-\x7e\xa0-\xff]/g,WT=/\\([\u0000-\u007f])/g,VT=/([\\"])/g,xv=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,GT=/^[\x20-\x7e\x80-\xff]+$/,XT=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,JT=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,YT=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function QT(r,e){var t=e||{},i=t.type||"attachment",n=ZT(r,t.fallback);return eP(new yv(i,n))}function ZT(r,e){if(r!==void 0){var t={};if(typeof r!="string")throw new TypeError("filename must be a string");if(e===void 0&&(e=!0),typeof e!="string"&&typeof e!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof e=="string"&&wv.test(e))throw new TypeError("fallback must be ISO-8859-1 string");var i=gv(r),n=GT.test(i),s=typeof e!="string"?e&&vv(i):gv(e),a=typeof s=="string"&&s!==i;return(a||!n||KT.test(i))&&(t["filename*"]=i),(n||a)&&(t.filename=a?s:i),t}}function eP(r){var e=r.parameters,t=r.type;if(!t||typeof t!="string"||!XT.test(t))throw new TypeError("invalid type");var i=String(t).toLowerCase();if(e&&typeof e=="object")for(var n,s=Object.keys(e).sort(),a=0;a<s.length;a++){n=s[a];var o=n.substr(-1)==="*"?aP(e[n]):sP(e[n]);i+="; "+n+"="+o}return i}function tP(r){var e=JT.exec(r);if(!e)throw new TypeError("invalid extended field value");var t=e[1].toLowerCase(),i=e[2],n,s=i.replace(HT,iP);switch(t){case"iso-8859-1":n=vv(s);break;case"utf-8":n=new Buffer(s,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function vv(r){return String(r).replace(wv,"?")}function rP(r){if(!r||typeof r!="string")throw new TypeError("argument string is required");var e=YT.exec(r);if(!e)throw new TypeError("invalid type format");var t=e[0].length,i=e[1].toLowerCase(),n,s=[],a={},o;for(t=xv.lastIndex=e[0].substr(-1)===";"?t-1:t;e=xv.exec(r);){if(e.index!==t)throw new TypeError("invalid parameter format");if(t+=e[0].length,n=e[1].toLowerCase(),o=e[2],s.indexOf(n)!==-1)throw new TypeError("invalid duplicate parameter");if(s.push(n),n.indexOf("*")+1===n.length){n=n.slice(0,-1),o=tP(o),a[n]=o;continue}typeof a[n]!="string"&&(o[0]==='"'&&(o=o.substr(1,o.length-2).replace(WT,"$1")),a[n]=o)}if(t!==-1&&t!==r.length)throw new TypeError("invalid parameter format");return new yv(i,a)}function iP(r,e){return String.fromCharCode(parseInt(e,16))}function nP(r){var e=String(r).charCodeAt(0).toString(16).toUpperCase();return e.length===1?"%0"+e:"%"+e}function sP(r){var e=String(r);return'"'+e.replace(VT,"\\$1")+'"'}function aP(r){var e=String(r),t=encodeURIComponent(e).replace(zT,nP);return"UTF-8''"+t}function yv(r,e){this.type=r,this.parameters=e}});var kv=k((pL,Sv)=>{"use strict";var Ev=require("path");Sv.exports=function(r,e){return r=_v(r),e=_v(e),process.platform==="win32"&&(r=r.toLowerCase(),e=e.toLowerCase()),r.lastIndexOf(e,0)===0&&(r[e.length]===Ev.sep||r[e.length]===void 0)};function _v(r){return r[r.length-1]===Ev.sep?r.slice(0,-1):r}});var Tv=k((hL,Cv)=>{"use strict";Cv.exports=oP;function oP(r,e,t){var i=e.indexOf("=");if(i===-1)return-2;var n=e.slice(i+1).split(","),s=[];s.type=e.slice(0,i);for(var a=0;a<n.length;a++){var o=n[a].split("-"),c=parseInt(o[0],10),l=parseInt(o[1],10);isNaN(c)?(c=r-l,l=r-1):isNaN(l)&&(l=r-1),l>r-1&&(l=r-1),!(isNaN(c)||isNaN(l)||c>l||c<0)&&s.push({start:c,end:l})}return s.length<1?-1:t&&t.combine?cP(s):s}function cP(r){for(var e=r.map(lP).sort(pP),t=0,i=1;i<e.length;i++){var n=e[i],s=e[t];n.start>s.end+1?e[++t]=n:n.end>s.end&&(s.end=n.end,s.index=Math.min(s.index,n.index))}e.length=t+1;var a=e.sort(dP).map(uP);return a.type=r.type,a}function lP(r,e){return{start:r.start,end:r.end,index:e}}function uP(r){return{start:r.start,end:r.end}}function dP(r,e){return r.index-e.index}function pP(r,e){return r.start-e.start}});var Pv=k((fL,Sc)=>{(function(){function r(i){var n=typeof t<"u"?t:function(p){var m={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},f=p?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(h){return h?h.toString().replace(f,function(g){return m[g]||g}):""}}(),s='<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Files within '+n(i.directory)+`</title> <style>body { margin: 0; padding: 30px; background: #fff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; -webkit-font-smoothing: antialiased;}main { max-width: 920px;}header { display: flex; justify-content: space-between; flex-wrap: wrap;}h1 { font-size: 18px; font-weight: 500; margin-top: 0; color: #000;}header h1 a { font-size: 18px; font-weight: 500; margin-top: 0; color: #000;}h1 i { font-style: normal;}ul { margin: 0 0 0 -2px; padding: 20px 0 0 0;}ul li { list-style: none; font-size: 14px; display: flex; justify-content: space-between;}a { text-decoration: none;}ul a { color: #000; padding: 10px 5px; margin: 0 -5px; white-space: nowrap; overflow: hidden; display: block; width: 100%; text-overflow: ellipsis;}header a { color: #0076FF; font-size: 11px; font-weight: 400; display: inline-block; line-height: 20px;}svg { height: 13px; vertical-align: text-bottom;}ul a::before { display: inline-block; vertical-align: middle; margin-right: 10px; width: 24px; text-align: center; line-height: 12px;}ul a.file::before { content: url("data:image/svg+xml;utf8,<svg width='15' height='19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M10 8C8.34 8 7 6.66 7 5V1H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V8h-4zM8 5c0 1.1.9 2 2 2h3.59L8 1.41V5zM3 0h5l7 7v9c0 1.66-1.34 3-3 3H3c-1.66 0-3-1.34-3-3V3c0-1.66 1.34-3 3-3z' fill='black'/></svg>");}ul a:hover { text-decoration: underline;}ul a.folder::before { content: url("data:image/svg+xml;utf8,<svg width='20' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M18.784 3.87a1.565 1.565 0 0 0-.565-.356V2.426c0-.648-.523-1.171-1.15-1.171H8.996L7.908.25A.89.89 0 0 0 7.302 0H2.094C1.445 0 .944.523.944 1.171v2.3c-.21.085-.398.21-.565.356a1.348 1.348 0 0 0-.377 1.004l.398 9.83C.42 15.393 1.048 16 1.8 16h15.583c.753 0 1.36-.586 1.4-1.339l.398-9.83c.021-.313-.125-.69-.397-.962zM1.843 3.41V1.191c0-.146.104-.272.25-.272H7.26l1.234 1.088c.083.042.167.104.293.104h8.282c.125 0 .25.126.25.272V3.41H1.844zm15.54 11.712H1.78a.47.47 0 0 1-.481-.46l-.397-9.83c0-.147.041-.252.125-.356a.504.504 0 0 1 .377-.147H17.78c.125 0 .272.063.377.147.083.083.125.209.125.334l-.418 9.83c-.021.272-.23.482-.481.482z' fill='black'/></svg>");}ul a.lambda::before { content: url("data:image/svg+xml; utf8,<svg width='15' height='19' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3.5 14.4354H5.31622L7.30541 9.81311H7.43514L8.65315 13.0797C9.05676 14.1643 9.55405 14.5 10.7 14.5C11.0171 14.5 11.291 14.4677 11.5 14.4032V13.1572C11.3847 13.1766 11.2622 13.2024 11.1541 13.2024C10.6351 13.2024 10.3829 13.0281 10.1595 12.4664L8.02613 7.07586C7.21171 5.01646 6.54865 4.5 5.11441 4.5C4.83333 4.5 4.62432 4.53228 4.37207 4.59038V5.83635C4.56667 5.81052 4.66036 5.79761 4.77568 5.79761C5.64775 5.79761 5.9 6.0042 6.4045 7.19852L6.64234 7.77954L3.5 14.4354Z' fill='black'/><rect x='0.5' y='0.5' width='14' height='18' rx='2.5' stroke='black'/></svg>");}ul a.file.gif::before,ul a.file.jpg::before,ul a.file.png::before,ul a.file.svg::before { content: url("data:image/svg+xml;utf8,<svg width='16' height='16' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg' fill='none' stroke='black' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'><rect x='6' y='6' width='68' height='68' rx='5' ry='5'/><circle cx='24' cy='24' r='8'/><path d='M73 49L59 34 37 52m16 20L27 42 7 58'/></svg>");}::selection { background-color: #79FFE1; color: #000;}::-moz-selection { background-color: #79FFE1; color: #000;}@media (min-width: 768px) { ul {display: flex;flex-wrap: wrap; } ul li {width: 230px;padding-right: 20px; }}@media (min-width: 992px) { body {padding: 45px; } h1, header h1 a {font-size: 15px; } ul li {font-size: 13px;box-sizing: border-box;justify-content: flex-start; }}</style> </head> <body> <main> <header> <h1> <i>Index of&nbsp;</i> `,a=i.paths;if(a)for(var o,c=-1,l=a.length-1;c<l;)o=a[c+=1],s+=' <a href="/'+n(o.url)+'">'+n(o.name)+"</a> ";s+=' </h1> </header> <ul id="files"> ';var u=i.files;if(u)for(var o,c=-1,d=u.length-1;c<d;)o=u[c+=1],s+=' <li> <a href="'+n(o.relative)+'" title="'+n(o.title)+'" class="'+n(o.type)+" "+n(o.ext)+'">'+n(o.base)+"</a> </li> ";return s+=" </ul></main> </body></html>",s}var e=r,t=function(i){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},s=i?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(s,function(o){return n[o]||o}):""}}();typeof Sc<"u"&&Sc.exports?Sc.exports=e:typeof define=="function"?define(function(){return e}):(window.render=window.render||{},window.render.directory=e)})()});var Iv=k((mL,kc)=>{(function(){function r(i){var n='<!DOCTYPE html><head> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/> <style> body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif; cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; } main, aside, section { display: flex; justify-content: center; align-items: center; flex-direction: column; } main { height: 100%; } aside { background: #000; flex-shrink: 1; padding: 30px 20px; } aside p { margin: 0; color: #999999; font-size: 14px; line-height: 24px; } aside a { color: #fff; text-decoration: none; } section span { font-size: 24px; font-weight: 500; display: block; border-bottom: 1px solid #EAEAEA; text-align: center; padding-bottom: 20px; width: 100px; } section p { font-size: 14px; font-weight: 400; } section span + p { margin: 20px 0 0 0; } @media (min-width: 768px) { section { height: 40px; flex-direction: row; } section span, section p { height: 100%; line-height: 40px; } section span { border-bottom: 0; border-right: 1px solid #EAEAEA; padding: 0 20px 0 0; width: auto; } section span + p { margin: 0; padding-left: 20px; } aside { padding: 50px 0; } aside p { max-width: 520px; text-align: center; } } </style></head><body> <main> <section> <span>'+i.statusCode+"</span> <p>"+i.message+"</p> </section> </main></body>";return n}var e=r,t=function(i){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},s=i?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(s,function(o){return n[o]||o}):""}}();typeof kc<"u"&&kc.exports?kc.exports=e:typeof define=="function"?define(function(){return e}):(window.render=window.render||{},window.render.error=e)})()});var Bv=k((gL,Fv)=>{var{promisify:Op}=require("util"),$e=require("path"),{createHash:hP}=require("crypto"),{realpath:fP,lstat:mP,createReadStream:gP,readdir:xP}=require("fs"),Av=Rw(),ka=Aw(),wP=Zw(),Ov=av(),vP=pv(),yP=mv(),bP=bv(),_P=kv(),EP=Tv(),SP=Pv(),kP=Iv(),Rv=new Map,CP=(r,e)=>new Promise((t,i)=>{let n=hP("sha1");n.update($e.extname(e)),n.update("-");let s=r.createReadStream(e);s.on("error",i),s.on("data",a=>n.update(a)),s.on("end",()=>{let a=n.digest("hex");t(a)})}),Tc=(r,e,t)=>{let i=[],n=ka(r),s=$e.posix.resolve(e),a=null;if(t){let o=n.replace("*","(.*)");a=Ov(o,i).exec(s),a||(i.length=0)}return a||wP(s,n)?{keys:i,results:a}:null},Nv=(r,e,t)=>{let i=Tc(r,t,!0);if(!i)return null;let{keys:n,results:s}=i,a={},{protocol:o}=Av.parse(e),c=o?e:ka(e),l=Ov.compile(c);for(let u=0;u<n.length;u++){let{name:d}=n[u];a[d]=s[u+1]}return l(a)},Dv=(r,e=[],t)=>{let i=e.slice(),n=t?r:null;if(i.length===0)return n;for(let s=0;s<i.length;s++){let{source:a,destination:o}=e[s],c=Nv(a,o,r);if(c)return i.splice(s,1),Dv(ka(c),i,!0)}return n},Mv=r=>r.startsWith("/")?r:`/${r}`,TP=(r,{redirects:e=[],trailingSlash:t},i)=>{let n=typeof t=="boolean",s=301,a=/(\.html|\/index)$/g;if(e.length===0&&!n&&!i)return null;if(i&&a.test(r))return r=r.replace(a,""),r.indexOf("//")>-1&&(r=r.replace(/\/+/g,"/")),{target:Mv(r),statusCode:s};if(n){let{ext:o,name:c}=$e.parse(r),l=r.endsWith("/"),u=c.startsWith("."),d=null;if(!t&&l?d=r.slice(0,-1):t&&!l&&!o&&!u&&(d=`${r}/`),r.indexOf("//")>-1&&(d=r.replace(/\/+/g,"/")),d)return{target:Mv(d),statusCode:s}}for(let o=0;o<e.length;o++){let{source:c,destination:l,type:u}=e[o],d=Nv(c,l,r);if(d)return{target:d,statusCode:u||s}}return null},PP=(r,e)=>{for(let t=0;t<e.length;t++){let{key:i,value:n}=e[t];r[i]=n}},Np=async(r,e,t,i,n)=>{let{headers:s=[],etag:a=!1}=e,o={},{base:c}=$e.parse(i),l=$e.relative(t,i);if(s.length>0)for(let p=0;p<s.length;p++){let{source:m,headers:f}=s[p];Tc(m,ka(l))&&PP(o,f)}let u={};if(n){if(u={"Content-Length":n.size,"Content-Disposition":bP(c,{type:"inline"}),"Accept-Ranges":"bytes"},a){let[m,f]=Rv.get(i)||[];Number(m)!==Number(n.mtime)&&(f=await CP(r,i),Rv.set(i,[n.mtime,f])),u.ETag=`"${f}"`}else u["Last-Modified"]=n.mtime.toUTCString();let p=vP.contentType(c);p&&(u["Content-Type"]=p)}let d=Object.assign(u,o);for(let p in d)d.hasOwnProperty(p)&&d[p]===null&&delete d[p];return d},Lv=(r,e)=>{if(typeof e=="boolean")return e;if(Array.isArray(e)){for(let t=0;t<e.length;t++){let i=e[t];if(Tc(i,r))return!0}return!1}return!0},IP=(r,e)=>[$e.join(r,`index${e}`),r.endsWith("/")?r.replace(/\/$/g,e):r+e].filter(t=>$e.basename(t)!==e),RP=async(r,e,t,i)=>{let n=t?[t]:IP(e,".html"),s=null;for(let a=0;a<n.length;a++){let o=n[a],c=$e.join(r,o);try{s=await i(c)}catch(l){if(l.code!=="ENOENT"&&l.code!=="ENOTDIR")throw l}if(s)return{stats:s,absolutePath:c}}return null},MP=(r,e)=>{let t=ka(e),i=!0;for(let n=0;n<r.length;n++){let s=r[n];if(Tc(s,t)){i=!1;break}}return i},AP=async(r,e,t,i,n,s)=>{let{directoryListing:a,trailingSlash:o,unlisted:c=[],renderSingle:l}=n,u=typeof o=="boolean"?o?"/":"":"/",{relativePath:d,absolutePath:p}=s,m=[".DS_Store",".git",...c];if(!Lv(d,a)&&!l)return{};let f=await t.readdir(p),h=l&&f.length===1;for(let T=0;T<f.length;T++){let R=f[T],O=$e.resolve(p,R),M=$e.parse(O),ne=null;if(i.lstat?ne=await t.lstat(O,!0):ne=await t.lstat(O),M.relative=$e.join(d,M.base),ne.isDirectory())M.base+=u,M.relative+=u,M.type="folder";else{if(h)return{singleFile:!0,absolutePath:O,stats:ne};M.ext=M.ext.split(".")[1]||"txt",M.type="file",M.size=yP(ne.size,{unitSeparator:" ",decimalPlaces:0})}M.title=M.base,MP(m,R)?f[T]=M:delete f[T]}let g=$e.relative(r,p),w=$e.join($e.basename(r),g,u),v=w.split($e.sep).filter(Boolean);if(f=f.sort((T,R)=>{let O=T.type==="directory",M=R.type==="directory";return O&&!M?-1:M&&!O||T.base>R.base?1:T.base<R.base?-1:0}).filter(Boolean),g.length>0){let T=[...v].slice(1),R=$e.join("/",...T,"..",u);f.unshift({type:"directory",base:"..",relative:R,title:R,ext:""})}let _=[];for(let T=0;T<v.length;T++){let R=[],O=T===v.length-1,M=0;for(;M<=T;)R.push(v[M]),M++;R.shift(),_.push({name:v[T]+(O?u:"/"),url:T===0?"":R.join("/")+u})}let b={files:f,directory:w,paths:_};return{directory:e?JSON.stringify(b):SP(b)}},Cc=async(r,e,t,i,n,s,a)=>{let{err:o,message:c,code:l,statusCode:u}=a;if(o&&process.env.NODE_ENV!=="test"&&console.error(o),e.statusCode=u,t){e.setHeader("Content-Type","application/json; charset=utf-8"),e.end(JSON.stringify({error:{code:l,message:c}}));return}let d=null,p=$e.join(i,`${u}.html`);try{d=await n.lstat(p)}catch(f){f.code!=="ENOENT"&&console.error(f)}if(d){let f=null;try{f=await n.createReadStream(p);let h=await Np(n,s,i,p,d);e.writeHead(u,h),f.pipe(e);return}catch(h){console.error(h)}}let m=await Np(n,s,i,r,null);m["Content-Type"]="text/html; charset=utf-8",e.writeHead(u,m),e.end(kP({statusCode:u,message:c}))},Sa=async(...r)=>{let e=r.length-1,t=r[e];return r[e]={statusCode:500,code:"internal_server_error",message:"A server error has occurred",err:t},Cc(...r)},OP=r=>Object.assign({lstat:Op(mP),realpath:Op(fP),createReadStream:gP,readdir:Op(xP),sendError:Cc},r);Fv.exports=async(r,e,t={},i={})=>{let n=process.cwd(),s=t.public?$e.resolve(n,t.public):n,a=OP(i),o=null,c=null;r.headers.accept&&(c=r.headers.accept.includes("application/json"));try{o=decodeURIComponent(Av.parse(r.url).pathname)}catch{return Cc("/",e,c,s,a,t,{statusCode:400,code:"bad_request",message:"Bad Request"})}let l=$e.join(s,o);if(!_P(l,s))return Cc(l,e,c,s,a,t,{statusCode:400,code:"bad_request",message:"Bad Request"});let u=Lv(o,t.cleanUrls),d=TP(o,t,u);if(d){e.writeHead(d.statusCode,{Location:encodeURI(d.target)}),e.end();return}let p=null;if($e.extname(o)!=="")try{p=await a.lstat(l)}catch(v){if(v.code!=="ENOENT"&&v.code!=="ENOTDIR")return Sa(l,e,c,s,a,t,v)}let m=Dv(o,t.rewrites);if(!p&&(u||m))try{let v=await RP(s,o,m,a.lstat);v&&({stats:p,absolutePath:l}=v)}catch(v){if(v.code!=="ENOENT"&&v.code!=="ENOTDIR")return Sa(l,e,c,s,a,t,v)}if(!p)try{p=await a.lstat(l)}catch(v){if(v.code!=="ENOENT"&&v.code!=="ENOTDIR")return Sa(l,e,c,s,a,t,v)}if(p&&p.isDirectory()){let v=null,_=null;try{let b=await AP(s,c,a,i,t,{relativePath:o,absolutePath:l});b.singleFile?{stats:p,absolutePath:l,singleFile:_}=b:{directory:v}=b}catch(b){if(b.code!=="ENOENT")return Sa(l,e,c,s,a,t,b)}if(v){let b=c?"application/json; charset=utf-8":"text/html; charset=utf-8";e.statusCode=200,e.setHeader("Content-Type",b),e.end(v);return}_||(p=null)}let f=p&&p.isSymbolicLink();if(!p||!t.symlinks&&f)return a.sendError(l,e,c,s,a,t,{statusCode:404,code:"not_found",message:"The requested path could not be found"});f&&(l=await a.realpath(l),p=await a.lstat(l));let h={};if(r.headers.range&&p.size){let v=EP(p.size,r.headers.range);if(typeof v=="object"&&v.type==="bytes"){let{start:_,end:b}=v[0];h.start=_,h.end=b,e.statusCode=206}else e.statusCode=416,e.setHeader("Content-Range",`bytes */${p.size}`)}let g=null;try{g=await a.createReadStream(l,h)}catch(v){return Sa(l,e,c,s,a,t,v)}let w=await Np(a,t,s,l,p);if(h.start!==void 0&&h.end!==void 0&&(w["Content-Range"]=`bytes ${h.start}-${h.end}/${p.size}`,w["Content-Length"]=h.end-h.start+1),r.headers.range==null&&w.ETag&&w.ETag===r.headers["if-none-match"]){e.statusCode=304,e.end();return}e.writeHead(e.statusCode||200,w),g.pipe(e)}});function Kv(r){return{all:r=r||new Map,on:function(e,t){var i=r.get(e);i?i.push(t):r.set(e,[t])},off:function(e,t){var i=r.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var i=r.get(e);i&&i.slice().map(function(n){n(t)}),(i=r.get("*"))&&i.slice().map(function(n){n(e,t)})}}}var Hv=I(()=>{});var re,dt,ot,Wi,Ce=I(()=>{Symbol.dispose??=Symbol("dispose");Symbol.asyncDispose??=Symbol("asyncDispose");re=Symbol.dispose,dt=Symbol.asyncDispose,ot=class r{#e=!1;#t=[];get disposed(){return this.#e}dispose(){if(!this.#e){this.#e=!0;for(let e of this.#t.reverse())e[re]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[re](){t(e)}}),e}defer(e){this.#t.push({[re](){e()}})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");let e=new r;return e.#t=this.#t,this.#e=!0,e}[re]=this.dispose;[Symbol.toStringTag]="DisposableStack"},Wi=class r{#e=!1;#t=[];get disposed(){return this.#e}async dispose(){if(!this.#e){this.#e=!0;for(let e of this.#t.reverse())await e[dt]()}}use(e){return e&&this.#t.push(e),e}adopt(e,t){return this.#t.push({[dt](){return t(e)}}),e}defer(e){this.#t.push({[dt](){return e()}})}move(){if(this.#e)throw new ReferenceError("a disposed stack can not use anything new");let e=new r;return e.#t=this.#t,this.#e=!0,e}[dt]=this.dispose;[Symbol.toStringTag]="AsyncDisposableStack"}});var de,ge,Fe=I(()=>{Hv();Ce();de=class{#e;#t=new Map;constructor(){this.#e=Kv(this.#t)}on(e,t){return this.#e.on(e,t),this}off(e,t){return this.#e.off(e,t),this}removeListener(e,t){return this.off(e,t),this}addListener(e,t){return this.on(e,t),this}emit(e,t){return this.#e.emit(e,t),this.listenerCount(e)>0}once(e,t){let i=n=>{t(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){var t;return((t=this.#t.get(e))==null?void 0:t.length)||0}removeAllListeners(e){return e===void 0||e==="*"?this.#t.clear():this.#t.delete(e),this}},ge=class{#e;#t;#r;constructor(e,t,i){this.#e=e,this.#t=t,this.#r=i,this.#e.on(this.#t,this.#r)}[re](){this.#e.off(this.#t,this.#r)}}});function Ln(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}Fp(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function NP(r,e,t,i){return new(t||(t=Promise))(function(n,s){function a(l){try{c(i.next(l))}catch(u){s(u)}}function o(l){try{c(i.throw(l))}catch(u){s(u)}}function c(l){var u;l.done?n(l.value):(u=l.value,u instanceof t?u:new t(function(d){d(u)})).then(a,o)}c((i=i.apply(r,e||[])).next())})}function ey(r,e){var t,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(l){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(t=1,i&&(n=2&u[0]?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!((n=n.length>0&&n[n.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!n||u[1]>n[0]&&u[1]<n[3])){a.label=u[1];break}if(u[0]===6&&a.label<n[1]){a.label=n[1],n=u;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(u);break}n[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(r,a)}catch(d){u=[6,d],i=0}finally{t=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([c,l])}}}function Ic(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i,n,s=t.call(r),a=[];try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(o){n={error:o}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return a}function di(r,e,t){if(t||arguments.length===2)for(var i,n=0,s=e.length;n<s;n++)!i&&n in e||(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function Nn(r){return this instanceof Nn?(this.v=r,this):new Nn(r)}function DP(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=t.apply(r,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(p){return new Promise(function(m,f){s.push([d,p,m,f])>1||o(d,p)})})}function o(d,p){try{(m=n[d](p)).value instanceof Nn?Promise.resolve(m.value.v).then(c,l):u(s[0][2],m)}catch(f){u(s[0][3],f)}var m}function c(d){o("next",d)}function l(d){o("throw",d)}function u(d,p){d(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}function LP(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=Ic(r),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=r[n]&&function(s){return new Promise(function(a,o){(function(c,l,u,d){Promise.resolve(d).then(function(p){c({value:p,done:u})},l)})(a,o,(s=r[n](s)).done,s.value)})}}}function _e(r){return typeof r=="function"}function ty(r){var e=r(function(t){Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}function Bp(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}function ry(r){return r instanceof Ac||r&&"closed"in r&&_e(r.remove)&&_e(r.add)&&_e(r.unsubscribe)}function Wv(r){_e(r)?r():r.unsubscribe()}function ny(r){jp.setTimeout(function(){throw r})}function Dn(){}function Lp(r,e){return FP.call(r,e)}function Pc(r){ny(r)}function dr(r){return r}function sy(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ay(r)}function ay(r){return r.length===0?dr:r.length===1?r[0]:function(e){return r.reduce(function(t,i){return i(t)},e)}}function Vv(r){var e;return(e=r??iy.Promise)!==null&&e!==void 0?e:Promise}function vt(r){return function(e){if(function(t){return _e(t==null?void 0:t.lift)}(e))return e.lift(function(t){try{return r(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(r,e,t,i,n){return new qP(r,e,t,i,n)}function ly(r){return r&&_e(r.schedule)}function uy(r){return r[r.length-1]}function Oc(r){return ly(uy(r))?r.pop():void 0}function dy(r){return _e(r==null?void 0:r.then)}function py(r){return _e(r[zp])}function hy(r){return Symbol.asyncIterator&&_e(r==null?void 0:r[Symbol.asyncIterator])}function fy(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function gy(r){return _e(r==null?void 0:r[my])}function xy(r){return DP(this,arguments,function(){var e,t,i;return ey(this,function(n){switch(n.label){case 0:e=r.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,Nn(e.read())];case 3:return t=n.sent(),i=t.value,t.done?[4,Nn(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,Nn(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function wy(r){return _e(r==null?void 0:r.getReader)}function Ct(r){if(r instanceof wt)return r;if(r!=null){if(py(r))return n=r,new wt(function(s){var a=n[zp]();if(_e(a.subscribe))return a.subscribe(s);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Kp(r))return i=r,new wt(function(s){for(var a=0;a<i.length&&!s.closed;a++)s.next(i[a]);s.complete()});if(dy(r))return t=r,new wt(function(s){t.then(function(a){s.closed||(s.next(a),s.complete())},function(a){return s.error(a)}).then(null,ny)});if(hy(r))return Xv(r);if(gy(r))return e=r,new wt(function(s){var a,o;try{for(var c=Ic(e),l=c.next();!l.done;l=c.next()){var u=l.value;if(s.next(u),s.closed)return}}catch(d){a={error:d}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}s.complete()});if(wy(r))return Xv(xy(r))}var e,t,i,n;throw fy(r)}function Xv(r){return new wt(function(e){(function(t,i){var n,s,a,o;return NP(this,void 0,void 0,function(){var c,l;return ey(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=LP(t),u.label=1;case 1:return[4,n.next()];case 2:if((s=u.sent()).done)return[3,4];if(c=s.value,i.next(c),i.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),a={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),s&&!s.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return i.complete(),[2]}})})})(r,e).catch(function(t){return e.error(t)})})}function ui(r,e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=!1);var s=e.schedule(function(){t(),n?r.add(this.schedule(null,i)):this.unsubscribe()},i);if(r.add(s),!n)return s}function Jv(r,e){return e===void 0&&(e=0),vt(function(t,i){t.subscribe(pt(i,function(n){return ui(i,r,function(){return i.next(n)},e)},function(){return ui(i,r,function(){return i.complete()},e)},function(n){return ui(i,r,function(){return i.error(n)},e)}))})}function Yv(r,e){return e===void 0&&(e=0),vt(function(t,i){i.add(r.schedule(function(){return t.subscribe(i)},e))})}function Qv(r,e){if(!r)throw new Error("Iterable cannot be null");return new wt(function(t){ui(t,e,function(){var i=r[Symbol.asyncIterator]();ui(t,e,function(){i.next().then(function(n){n.done?t.complete():t.next(n.value)})},0,!0)})})}function KP(r,e){if(r!=null){if(py(r))return function(t,i){return Ct(t).pipe(Yv(i),Jv(i))}(r,e);if(Kp(r))return function(t,i){return new wt(function(n){var s=0;return i.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||this.schedule())})})}(r,e);if(dy(r))return function(t,i){return Ct(t).pipe(Yv(i),Jv(i))}(r,e);if(hy(r))return Qv(r,e);if(gy(r))return function(t,i){return new wt(function(n){var s;return ui(n,i,function(){s=t[my](),ui(n,i,function(){var a,o,c;try{o=(a=s.next()).value,c=a.done}catch(l){return void n.error(l)}c?n.complete():n.next(o)},0,!0)}),function(){return _e(s==null?void 0:s.return)&&s.return()}})}(r,e);if(wy(r))return function(t,i){return Qv(xy(t),i)}(r,e)}throw fy(r)}function pe(r,e){return e?KP(r,e):Ct(r)}function vy(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return pe(r,Oc(r))}function Dr(r,e){var t=typeof e=="object";return new Promise(function(i,n){var s=new Rc({next:function(a){i(a),s.unsubscribe()},error:n,complete:function(){t?i(e.defaultValue):n(new Hp)}});r.subscribe(s)})}function $t(r,e){return vt(function(t,i){var n=0;t.subscribe(pt(i,function(s){i.next(r.call(e,s,n++))}))})}function WP(r){return $t(function(e){return function(t,i){return HP(i)?t.apply(void 0,di([],Nr(i))):t(i)}(r,e)})}function ze(r,e,t){return t===void 0&&(t=1/0),_e(e)?ze(function(i,n){return $t(function(s,a){return e(i,s,n,a)})(Ct(r(i,n)))},t):(typeof e=="number"&&(t=e),vt(function(i,n){return function(s,a,o,c,l,u,d,p){var m=[],f=0,h=0,g=!1,w=function(){!g||m.length||f||a.complete()},v=function(b){return f<c?_(b):m.push(b)},_=function(b){u&&a.next(b),f++;var P=!1;Ct(o(b,h++)).subscribe(pt(a,function(T){l==null||l(T),u?v(T):a.next(T)},function(){P=!0},void 0,function(){if(P)try{f--;for(var T=function(){var R=m.shift();d?ui(a,d,function(){return _(R)}):_(R)};m.length&&f<c;)T();w()}catch(R){a.error(R)}}))};return s.subscribe(pt(a,v,function(){g=!0,w()})),function(){p==null||p()}}(i,n,r,t)}))}function yy(r){return r===void 0&&(r=1/0),ze(dr,r)}function qp(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return yy(1)(pe(r,Oc(r)))}function Lr(r){return new wt(function(e){Ct(r()).subscribe(e)})}function Qt(r,e,t,i){if(_e(t)&&(i=t,t=void 0),i)return Qt(r,e,t).pipe(WP(i));var n=Nr(function(o){return _e(o.addEventListener)&&_e(o.removeEventListener)}(r)?GP.map(function(o){return function(c){return r[o](e,c,t)}}):function(o){return _e(o.addListener)&&_e(o.removeListener)}(r)?VP.map(Zv(r,e)):function(o){return _e(o.on)&&_e(o.off)}(r)?XP.map(Zv(r,e)):[],2),s=n[0],a=n[1];if(!s&&Kp(r))return ze(function(o){return Qt(o,e,t)})(Ct(r));if(!s)throw new TypeError("Invalid event target");return new wt(function(o){var c=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o.next(1<l.length?l:l[0])};return s(c),function(){return a(c)}})}function Zv(r,e){return function(t){return function(i){return r[t](e,i)}}}function Nc(r,e,t){r===void 0&&(r=0),t===void 0&&(t=zP);var i=-1;return e!=null&&(ly(e)?t=e:i=e),new wt(function(n){var s,a=(s=r)instanceof Date&&!isNaN(s)?+r-t.now():r;a<0&&(a=0);var o=0;return t.schedule(function(){n.closed||(n.next(o++),0<=i?this.schedule(void 0,i):n.complete())},a)})}function Ca(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Oc(r),i=function(s,a){return typeof uy(s)=="number"?s.pop():a}(r,1/0),n=r;return n.length?n.length===1?Ct(n[0]):yy(i)(pe(n,t)):pi}function pr(r,e){return vt(function(t,i){var n=0;t.subscribe(pt(i,function(s){return r.call(e,s,n++)&&i.next(s)}))})}function _y(){for(var r,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(e=(r=e).length===1&&JP(r[0])?r[0]:r).length===1?Ct(e[0]):new wt(Ey(e))}function Ey(r){return function(e){for(var t=[],i=function(s){t.push(Ct(r[s]).subscribe(pt(e,function(a){if(t){for(var o=0;o<t.length;o++)o!==s&&t[o].unsubscribe();t=null}e.next(a)})))},n=0;t&&!e.closed&&n<r.length;n++)i(n)}}function Fn(r){return vt(function(e,t){var i,n=null,s=!1;n=e.subscribe(pt(t,void 0,void 0,function(a){i=Ct(r(a,Fn(r)(e))),n?(n.unsubscribe(),n=null,i.subscribe(t)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(t))})}function Wp(r){return vt(function(e,t){var i=!1;e.subscribe(pt(t,function(n){i=!0,t.next(n)},function(){i||t.next(r),t.complete()}))})}function Up(r){return r<=0?function(){return pi}:vt(function(e,t){var i=0;e.subscribe(pt(t,function(n){++i<=r&&(t.next(n),r<=i&&t.complete())}))})}function Vi(){return vt(function(r,e){r.subscribe(pt(e,Dn))})}function Sy(r,e){return e?function(t){return qp(e.pipe(Up(1),Vi()),t.pipe(Sy(r)))}:ze(function(t,i){return Ct(r(t,i)).pipe(Up(1),function(n){return $t(function(){return n})}(t))})}function ky(r,e){e===void 0&&(e=cy);var t=Nc(r,e);return Sy(function(){return t})}function Gi(r){return r===void 0&&(r=YP),vt(function(e,t){var i=!1;e.subscribe(pt(t,function(n){i=!0,t.next(n)},function(){return i?t.complete():t.error(r())}))})}function YP(){return new Hp}function Xi(r,e){var t=arguments.length>=2;return function(i){return i.pipe(r?pr(function(n,s){return r(n,s,i)}):dr,Up(1),t?Wp(e):Gi(function(){return new Hp}))}}function Ta(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length?vt(function(t,i){Ey(di([t],Nr(r)))(i)}):dr}function Bn(r){var e;r===void 0&&(r=1/0);var t=(e=r&&typeof r=="object"?r:{count:r}).count,i=t===void 0?1/0:t,n=e.delay,s=e.resetOnSuccess,a=s!==void 0&&s;return i<=0?dr:vt(function(o,c){var l,u=0,d=function(){var p=!1;l=o.subscribe(pt(c,function(m){a&&(u=0),c.next(m)},void 0,function(m){if(u++<i){var f=function(){l?(l.unsubscribe(),l=null,d()):p=!0};if(n!=null){var h=typeof n=="number"?Nc(n):Ct(n(m,u)),g=pt(c,function(){g.unsubscribe(),f()},function(){c.complete()});h.subscribe(g)}else f()}else c.error(m)})),p&&(l.unsubscribe(),l=null,d())};d()})}function Cy(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Oc(r);return vt(function(i,n){(t?qp(r,i,t):qp(r,i)).subscribe(n)})}function Ty(r,e){return vt(function(t,i){var n=null,s=0,a=!1,o=function(){return a&&!n&&i.complete()};t.subscribe(pt(i,function(c){n==null||n.unsubscribe();var l=0,u=s++;Ct(r(c,u)).subscribe(n=pt(i,function(d){return i.next(e?e(c,d,u,l++):d)},function(){n=null,o()}))},function(){a=!0,o()}))})}function Pa(r,e,t){var i=_e(r)||e||t?{next:r,error:e,complete:t}:r;return i?vt(function(n,s){var a;(a=i.subscribe)===null||a===void 0||a.call(i);var o=!0;n.subscribe(pt(s,function(c){var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},function(){var c;o=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},function(c){var l;o=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},function(){var c,l;o&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):dr}function Py(r){return ze(e=>pe(Promise.resolve(r(e))).pipe(pr(t=>t),$t(()=>e)))}var Fp,Dp,Ac,iy,jp,$p,FP,BP,Rc,jP,zp,wt,qP,oy,UP,Mc,$P,Gv,cy,zP,pi,Kp,my,Hp,HP,VP,GP,XP,by,JP,Fr=I(()=>{Fp=function(r,e){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},Fp(r,e)};Dp=ty(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,i){return i+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});Ac=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return r.prototype.unsubscribe=function(){var t,i,n,s,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=Ic(o),l=c.next();!l.done;l=c.next())l.value.remove(this)}catch(h){t={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(_e(u))try{u()}catch(h){a=h instanceof Dp?h.errors:[h]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=Ic(d),m=p.next();!m.done;m=p.next()){var f=m.value;try{Wv(f)}catch(h){a=a??[],h instanceof Dp?a=di(di([],Nr(a)),Nr(h.errors)):a.push(h)}}}catch(h){n={error:h}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(a)throw new Dp(a)}},r.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)Wv(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}},r.prototype._hasParent=function(t){var i=this._parentage;return i===t||Array.isArray(i)&&i.includes(t)},r.prototype._addParent=function(t){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t},r.prototype._removeParent=function(t){var i=this._parentage;i===t?this._parentage=null:Array.isArray(i)&&Bp(i,t)},r.prototype.remove=function(t){var i=this._finalizers;i&&Bp(i,t),t instanceof r&&t._removeParent(this)},r.EMPTY=((e=new r).closed=!0,e),r}();Ac.EMPTY;iy={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jp={setTimeout:function(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var n=jp.delegate;return n!=null&&n.setTimeout?n.setTimeout.apply(n,di([r,e],Nr(t))):setTimeout.apply(void 0,di([r,e],Nr(t)))},clearTimeout:function(r){var e=jp.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};$p=function(r){function e(t){var i=r.call(this)||this;return i.isStopped=!1,t?(i.destination=t,ry(t)&&t.add(i)):i.destination=jP,i}return Ln(e,r),e.create=function(t,i,n){return new Rc(t,i,n)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ac),FP=Function.prototype.bind;BP=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(i){Pc(i)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(i){Pc(i)}else Pc(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Pc(t)}},r}(),Rc=function(r){function e(t,i,n){var s,a,o=r.call(this)||this;return _e(t)||!t?s={next:t??void 0,error:i??void 0,complete:n??void 0}:o&&iy.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&Lp(t.next,a),error:t.error&&Lp(t.error,a),complete:t.complete&&Lp(t.complete,a)}):s=t,o.destination=new BP(s),o}return Ln(e,r),e}($p);jP={closed:!0,next:Dn,error:function(r){throw r},complete:Dn},zp=typeof Symbol=="function"&&Symbol.observable||"@@observable";wt=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,i){var n,s=this,a=(n=e)&&n instanceof $p||function(o){return o&&_e(o.next)&&_e(o.error)&&_e(o.complete)}(n)&&ry(n)?e:new Rc(e,t,i);return function(){var o=s,c=o.operator,l=o.source;a.add(c?c.call(a,l):l?s._subscribe(a):s._trySubscribe(a))}(),a},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var i=this;return new(t=Vv(t))(function(n,s){var a=new Rc({next:function(o){try{e(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:n});i.subscribe(a)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[zp]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ay(e)(this)},r.prototype.toPromise=function(e){var t=this;return new(e=Vv(e))(function(i,n){var s;t.subscribe(function(a){return s=a},function(a){return n(a)},function(){return i(s)})})},r.create=function(e){return new r(e)},r}();qP=function(r){function e(t,i,n,s,a,o){var c=r.call(this,t)||this;return c.onFinalize=a,c.shouldUnsubscribe=o,c._next=i?function(l){try{i(l)}catch(u){t.error(u)}}:r.prototype._next,c._error=s?function(l){try{s(l)}catch(u){t.error(u)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=n?function(){try{n()}catch(l){t.error(l)}finally{this.unsubscribe()}}:r.prototype._complete,c}return Ln(e,r),e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;r.prototype.unsubscribe.call(this),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}($p),oy={now:function(){return(oy.delegate||Date).now()},delegate:void 0},UP=function(r){function e(t,i){return r.call(this)||this}return Ln(e,r),e.prototype.schedule=function(t,i){return this},e}(Ac),Mc={setInterval:function(r,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var n=Mc.delegate;return n!=null&&n.setInterval?n.setInterval.apply(n,di([r,e],Nr(t))):setInterval.apply(void 0,di([r,e],Nr(t)))},clearInterval:function(r){var e=Mc.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(r)},delegate:void 0},$P=function(r){function e(t,i){var n=r.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return Ln(e,r),e.prototype.schedule=function(t,i){var n;if(i===void 0&&(i=0),this.closed)return this;this.state=t;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(a,this.id,i),this},e.prototype.requestAsyncId=function(t,i,n){return n===void 0&&(n=0),Mc.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,i,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Mc.clearInterval(i)},e.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,i){var n,s=!1;try{this.work(t)}catch(a){s=!0,n=a||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Bp(n,this),t!=null&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(UP),Gv=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,i){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},r.now=oy.now,r}(),cy=new(function(r){function e(t,i){i===void 0&&(i=Gv.now);var n=r.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return Ln(e,r),e.prototype.flush=function(t){var i=this.actions;if(this._active)i.push(t);else{var n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}},e}(Gv))($P),zP=cy,pi=new wt(function(r){return r.complete()});Kp=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};my=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";Hp=ty(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});HP=Array.isArray;VP=["addListener","removeListener"],GP=["addEventListener","removeEventListener"],XP=["on","off"];by=new wt(Dn),JP=Array.isArray});var jn,QP,Ia,Ji=I(()=>{jn=!!(typeof process<"u"&&process.version),QP=typeof process<"u"&&typeof process.env.PUPPETEER_DEFERRED_PROMISE_DEBUG_TIMEOUT<"u"?Number(process.env.PUPPETEER_DEFERRED_PROMISE_DEBUG_TIMEOUT):-1,Ia=typeof process<"u"?process.env.PUPPETEER_INTERNAL_TAB_TARGET==="true":!1});var S,le=I(()=>{S=(r,e)=>{if(!r)throw new Error(e)}});var Dc,yt,Tt,ct,PL,bt=I(()=>{Dc=class extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},yt=class extends Dc{},Tt=class extends Dc{#e;#t="";set code(e){this.#e=e}get code(){return this.#e}set originalMessage(e){this.#t=e}get originalMessage(){return this.#t}},ct=class extends Tt{},PL=Object.freeze({TimeoutError:yt,ProtocolError:Tt})});var z,Te=I(()=>{bt();z=class r{#e=!1;#t=!1;#r;#i=()=>{};#n=new Promise(e=>{this.#i=e});#s;constructor(e){this.#s=e&&e.timeout>0?setTimeout(()=>{this.reject(new yt(e.message))},e.timeout):void 0}#a(e){clearTimeout(this.#s),this.#r=e,this.#i()}resolve(e){this.#t||this.#e||(this.#e=!0,this.#a(e))}reject(e){this.#t||this.#e||(this.#t=!0,this.#a(e))}resolved(){return this.#e}finished(){return this.#e||this.#t}value(){return this.#r}async valueOrThrow(){if(await this.#n,this.#t)throw this.#r;return this.#r}static create(e){return new r(e)}static async race(e){let t=new Set;try{let i=e.map(n=>n instanceof r?(n.#s&&t.add(n),n.valueOrThrow()):n);return await Promise.race(i)}finally{for(let i of t)i.reject(new Error("Timeout cleared"))}}}});function Me(r){return typeof r=="object"&&r!==null&&"name"in r&&"message"in r}var zt=I(()=>{});var Ry=k((OL,Iy)=>{var qn=1e3,Un=qn*60,$n=Un*60,Yi=$n*24,ZP=Yi*7,eI=Yi*365.25;Iy.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return tI(r);if(t==="number"&&isFinite(r))return e.long?iI(r):rI(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function tI(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*eI;case"weeks":case"week":case"w":return t*ZP;case"days":case"day":case"d":return t*Yi;case"hours":case"hour":case"hrs":case"hr":case"h":return t*$n;case"minutes":case"minute":case"mins":case"min":case"m":return t*Un;case"seconds":case"second":case"secs":case"sec":case"s":return t*qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function rI(r){var e=Math.abs(r);return e>=Yi?Math.round(r/Yi)+"d":e>=$n?Math.round(r/$n)+"h":e>=Un?Math.round(r/Un)+"m":e>=qn?Math.round(r/qn)+"s":r+"ms"}function iI(r){var e=Math.abs(r);return e>=Yi?Lc(r,e,Yi,"day"):e>=$n?Lc(r,e,$n,"hour"):e>=Un?Lc(r,e,Un,"minute"):e>=qn?Lc(r,e,qn,"second"):r+" ms"}function Lc(r,e,t,i){var n=e>=t*1.5;return Math.round(r/t)+" "+i+(n?"s":"")}});var Vp=k((NL,My)=>{function nI(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=n,t.enabled=a,t.humanize=Ry(),t.destroy=l,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let p=0;p<u.length;p++)d=(d<<5)-d+u.charCodeAt(p),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,p=null,m,f;function h(...g){if(!h.enabled)return;let w=h,v=Number(new Date),_=v-(d||v);w.diff=_,w.prev=d,w.curr=v,d=v,g[0]=t.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let b=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(T,R)=>{if(T==="%%")return"%";b++;let O=t.formatters[R];if(typeof O=="function"){let M=g[b];T=O.call(w,M),g.splice(b,1),b--}return T}),t.formatArgs.call(w,g),(w.log||t.log).apply(w,g)}return h.namespace=u,h.useColors=t.useColors(),h.color=t.selectColor(u),h.extend=i,h.destroy=t.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==t.namespaces&&(m=t.namespaces,f=t.enabled(u)),f),set:g=>{p=g}}),typeof t.init=="function"&&t.init(h),h}function i(u,d){let p=t(this.namespace+(typeof d>"u"?":":d)+u);return p.log=this.log,p}function n(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d,p=(typeof u=="string"?u:"").split(/[\s,]+/),m=p.length;for(d=0;d<m;d++)p[d]&&(u=p[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...t.names.map(o),...t.skips.map(o).map(d=>"-"+d)].join(",");return t.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,p;for(d=0,p=t.skips.length;d<p;d++)if(t.skips[d].test(u))return!1;for(d=0,p=t.names.length;d<p;d++)if(t.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}My.exports=nI});var Ay=k((Ot,Fc)=>{Ot.formatArgs=aI;Ot.save=oI;Ot.load=cI;Ot.useColors=sI;Ot.storage=lI();Ot.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ot.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function sI(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function aI(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Fc.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,i=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(i=t))}),r.splice(i,0,e)}Ot.log=console.debug||console.log||(()=>{});function oI(r){try{r?Ot.storage.setItem("debug",r):Ot.storage.removeItem("debug")}catch{}}function cI(){let r;try{r=Ot.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function lI(){try{return localStorage}catch{}}Fc.exports=Vp()(Ot);var{formatters:uI}=Fc.exports;uI.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ny=k((lt,jc)=>{var dI=require("tty"),Bc=require("util");lt.init=wI;lt.log=mI;lt.formatArgs=hI;lt.save=gI;lt.load=xI;lt.useColors=pI;lt.destroy=Bc.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");lt.colors=[6,2,3,4,5,1];try{let r=require("supports-color");r&&(r.stderr||r).level>=2&&(lt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}lt.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),r[t]=i,r},{});function pI(){return"colors"in lt.inspectOpts?!!lt.inspectOpts.colors:dI.isatty(process.stderr.fd)}function hI(r){let{namespace:e,useColors:t}=this;if(t){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),s=`  ${n};1m${e} \x1B[0m`;r[0]=s+r[0].split(`
`).join(`
`+s),r.push(n+"m+"+jc.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=fI()+e+" "+r[0]}function fI(){return lt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function mI(...r){return process.stderr.write(Bc.format(...r)+`
`)}function gI(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function xI(){return process.env.DEBUG}function wI(r){r.inspectOpts={};let e=Object.keys(lt.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=lt.inspectOpts[e[t]]}jc.exports=Vp()(lt);var{formatters:Oy}=jc.exports;Oy.o=function(r){return this.inspectOpts.colors=this.useColors,Bc.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Oy.O=function(r){return this.inspectOpts.colors=this.useColors,Bc.inspect(r,this.inspectOpts)}});var qc=k((DL,Gp)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Gp.exports=Ay():Gp.exports=Ny()});async function vI(){return Xp||(Xp=(await Promise.resolve().then(()=>V(qc(),1))).default),Xp}var Xp,hr,yI,bI,zn=I(()=>{Ji();Xp=null;hr=r=>jn?async(...e)=>{bI&&yI.push(r+e),(await vI())(r)(e)}:(...e)=>{let t=globalThis.__PUPPETEER_DEBUG;!t||!(t==="*"||(t.endsWith("*")?r.startsWith(t):r===t))||console.log(`${r}:`,...e)},yI=[],bI=!1});function Yp(r){let e,t;if(!r.exception)e="Error",t=r.text;else{if((r.exception.type!=="object"||r.exception.subtype!=="error")&&!r.exception.objectId)return fr(r.exception);{let o=Ly(r);e=o.name,t=o.message}}let i=t.split(`
`).length,n=new Error(t);n.name=e;let s=n.stack.split(`
`),a=s.splice(0,i);if(s.shift(),r.stackTrace&&s.length<Error.stackTraceLimit)for(let o of r.stackTrace.callFrames.reverse()){if(rt.isPuppeteerURL(o.url)&&o.url!==rt.INTERNAL_URL){let c=rt.parse(o.url);s.unshift(`    at ${o.functionName||c.functionName} (${c.functionName} at ${c.siteString}, <anonymous>:${o.lineNumber}:${o.columnNumber})`)}else s.push(`    at ${o.functionName||"<anonymous>"} (${o.url}:${o.lineNumber}:${o.columnNumber})`);if(s.length>=Error.stackTraceLimit)break}return n.stack=[...a,...s].join(`
`),n}function Dy(r){let e,t;if(!r.exception)e="Error",t=r.text;else{if((r.exception.type!=="object"||r.exception.subtype!=="error")&&!r.exception.objectId)return fr(r.exception);{let o=Ly(r);e=o.name,t=o.message}}let i=new Error(t);i.name=e;let n=i.message.split(`
`).length,s=i.stack.split(`
`).splice(0,n),a=[];if(r.stackTrace){for(let o of r.stackTrace.callFrames)if(a.push(`    at ${o.functionName||"<anonymous>"} (${o.url}:${o.lineNumber+1}:${o.columnNumber+1})`),a.length>=Error.stackTraceLimit)break}return i.stack=[...s,...a].join(`
`),i}function fr(r){if(S(!r.objectId,"Cannot extract value when objectId is given"),r.unserializableValue){if(r.type==="bigint")return BigInt(r.unserializableValue.replace("n",""));switch(r.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+r.unserializableValue)}}return r.value}async function mr(r,e,t,i,n){let s={stack:[],error:void 0,hasError:!1};try{let a=z.create({message:`Timeout exceeded while waiting for event ${String(e)}`,timeout:i}),o=_I(s,new ge(r,e,async c=>{await t(c)&&a.resolve(c)}),!1);try{let c=await z.race([a,n]);if(Me(c))throw c;return c}catch(c){throw c}}catch(a){s.error=a,s.hasError=!0}finally{EI(s)}}function Ra(r,...e){if(Ke(r))return S(e.length===0,"Cannot evaluate a string with arguments"),r;function t(i){return Object.is(i,void 0)?"undefined":JSON.stringify(i)}return`(${r})(${e.map(t).join(",")})`}function Qp(r,e){let t=globalThis[e];Object.assign(globalThis,{[e](...i){let n=globalThis[e];n.args??=new Map,n.callbacks??=new Map;let s=(n.lastSeq??0)+1;return n.lastSeq=s,n.args.set(s,i),t(JSON.stringify({type:r,name:e,seq:s,args:i,isTrivial:!i.some(a=>a instanceof Node)})),new Promise((a,o)=>{n.callbacks.set(s,{resolve(c){n.args.delete(s),a(c)},reject(c){n.args.delete(s),o(c)}})})}})}function Uy(r,e){return Ra(Qp,r,e)}async function gr(r,e,t){let i=z.create({message:`waiting for ${e} failed: timeout ${t}ms exceeded`,timeout:t});return await z.race([r,i])}async function Kn(){if(!Jp)try{Jp=await import("fs/promises")}catch(r){throw r instanceof TypeError?new Error("Cannot write to a path outside of a Node-like environment."):r}return Jp}async function zc(r,e){let t=[];if(e){let n=await(await Kn()).open(e,"w+");try{for await(let s of r)t.push(s),await n.writeFile(s)}finally{await n.close()}}else for await(let i of r)t.push(i);try{return Buffer.concat(t)}catch{return null}}async function Kc(r,e){if(!jn)throw new Error("Cannot create a stream outside of Node.js environment.");let{Readable:t}=await import("stream"),i=!1;return new t({async read(n){if(!i)try{let s=await r.send("IO.read",{handle:e,size:n});this.push(s.data,s.base64Encoded?"base64":void 0),s.eof&&(i=!0,await r.send("IO.close",{handle:e}),this.push(null))}catch(s){if(Me(s)){this.destroy(s);return}throw s}}})}async function Hc(r,e){return await r.evaluate(t=>{document.open(),document.write(t),document.close()},e)}function $y(){let r="";for(let e of document.childNodes)switch(e){case document.documentElement:r+=document.documentElement.outerHTML;break;default:r+=new XMLSerializer().serializeToString(e);break}return r}function Wc(r){let e=null;return new Set(["alert","confirm","prompt","beforeunload"]).has(r)&&(e=r),S(e,`Unknown javascript dialog type: ${r}`),e}function Ma(r){return r===0?by:Nc(r).pipe($t(()=>{throw new yt(`Timed out after waiting ${r}ms`)}))}function Vc(r){return`//# sourceURL=${r}`}var _I,EI,D,Ly,Uc,rt,Ee,$c,Ke,Fy,By,jy,qy,Jp,Aa,Hn,ae=I(()=>{Fr();Ji();le();Te();zt();zn();bt();Fe();_I=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},EI=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),D=hr("puppeteer:error");Ly=r=>{var s,a,o,c;let e="",t,i=((a=(s=r.exception)==null?void 0:s.description)==null?void 0:a.split(`
    at `))??[],n=Math.min(((o=r.stackTrace)==null?void 0:o.callFrames.length)??0,i.length-1);return i.splice(-n,n),(c=r.exception)!=null&&c.className&&(e=r.exception.className),t=i.join(`
`),e&&t.startsWith(`${e}: `)&&(t=t.slice(e.length+2)),{message:t,name:e}},Uc=Symbol("Source URL for Puppeteer evaluation scripts"),rt=class r{static INTERNAL_URL="pptr:internal";static fromCallSite(e,t){let i=new r;return i.#e=e,i.#t=t.toString(),i}static parse=e=>{e=e.slice(5);let[t="",i=""]=e.split(";"),n=new r;return n.#e=t,n.#t=decodeURIComponent(i),n};static isPuppeteerURL=e=>e.startsWith("pptr:");#e;#t;get functionName(){return this.#e}get siteString(){return this.#t}toString(){return`pptr:${[this.#e,encodeURIComponent(this.#t)].join(";")}`}},Ee=(r,e)=>{if(Object.prototype.hasOwnProperty.call(e,Uc))return e;let t=Error.prepareStackTrace;Error.prepareStackTrace=(n,s)=>s[2];let i=new Error().stack;return Error.prepareStackTrace=t,Object.assign(e,{[Uc]:rt.fromCallSite(r,i)})},$c=r=>{if(Object.prototype.hasOwnProperty.call(r,Uc))return r[Uc]};Ke=r=>typeof r=="string"||r instanceof String,Fy=r=>typeof r=="number"||r instanceof Number,By=r=>typeof r=="object"&&(r==null?void 0:r.constructor)===Object,jy=r=>typeof r=="object"&&(r==null?void 0:r.constructor)===RegExp,qy=r=>typeof r=="object"&&(r==null?void 0:r.constructor)===Date;Jp=null;Aa="__puppeteer_utility_world__",Hn=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m});var zy,Wn,Gc=I(()=>{Fe();ae();Te();Ce();zy=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["clipboard-sanitized-write","clipboardSanitizedWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]),Wn=class extends de{constructor(){super()}_attach(){throw new Error("Not implemented")}_detach(){throw new Error("Not implemented")}get _targets(){throw new Error("Not implemented")}process(){throw new Error("Not implemented")}_getIsPageTargetCallback(){throw new Error("Not implemented")}_disposeContext(){throw new Error("Not implemented")}_createPageInContext(){throw new Error("Not implemented")}async waitForTarget(e,t={}){let{timeout:i=3e4}=t,n=z.create();this.on("targetcreated",s),this.on("targetchanged",s);try{return this.targets().forEach(s),i?await gr(n.valueOrThrow(),"target",i):await n.valueOrThrow()}finally{this.off("targetcreated",s),this.off("targetchanged",s)}async function s(a){await e(a)&&!n.resolved()&&n.resolve(a)}}async pages(){return(await Promise.all(this.browserContexts().map(t=>t.pages()))).reduce((t,i)=>t.concat(i),[])}userAgent(){throw new Error("Not implemented")}disconnect(){throw new Error("Not implemented")}isConnected(){return this.connected}[re](){return void this.close().catch(D)}[dt](){return this.close()}}});var Vn,Xc=I(()=>{Fe();ae();Ce();Vn=class extends de{constructor(){super()}targets(){throw new Error("Not implemented")}overridePermissions(){throw new Error("Not implemented")}clearPermissionOverrides(){throw new Error("Not implemented")}get closed(){return!this.browser().browserContexts().includes(this)}get id(){}[re](){return void this.close().catch(D)}[dt](){return this.close()}}});var Gn,Jc=I(()=>{le();Gn=class{#e;#t;#r;#i=!1;constructor(e,t,i=""){this.#e=e,this.#t=t,this.#r=i}type(){return this.#e}message(){return this.#t}defaultValue(){return this.#r}async accept(e){S(!this.#i,"Cannot accept dialog which is already handled!"),this.#i=!0,await this.sendCommand({accept:!0,text:e})}async dismiss(){S(!this.#i,"Cannot dismiss dialog which is already handled!"),this.#i=!0,await this.sendCommand({accept:!1})}}});function Ze(r){let e=r.toString();try{new Function(`(${e})`)}catch{let t="function ";e.startsWith("async ")&&(t=`async ${t}`,e=e.substring(6)),e=`${t}${e}`;try{new Function(`(${e})`)}catch{throw new Error("Passed function cannot be serialized!")}}return e}var Ky,SI,Br,Qi=I(()=>{Ky=new Map,SI=r=>{let e=Ky.get(r);return e||(e=new Function(`return ${r}`)(),Ky.set(r,e),e)};Br=(r,e)=>{let t=Ze(r);for(let[i,n]of Object.entries(e))t=t.replace(new RegExp(`PLACEHOLDER\\(\\s*(?:'${i}'|"${i}")\\s*\\)`,"g"),`(${n})`);return SI(t)}});async function*CI(r,e){let t={stack:[],error:void 0,hasError:!1};try{let n=await Yc(t,await r.evaluateHandle(async(o,c)=>{let l=[];for(;l.length<c;){let u=await o.next();if(u.done)break;l.push(u.value)}return l},e),!1).getProperties(),s=n.values();return Yc(t,new ot,!1).defer(()=>{for(let o of s){let c={stack:[],error:void 0,hasError:!1};try{Yc(c,o,!1)[re]()}catch(l){c.error=l,c.hasError=!0}finally{Zp(c)}}}),yield*s,n.size===0}catch(i){t.error=i,t.hasError=!0}finally{Zp(t)}}async function*TI(r){let e=kI;for(;!(yield*CI(r,e));)e<<=1}async function*Qc(r){let e={stack:[],error:void 0,hasError:!1};try{let t=Yc(e,await r.evaluateHandle(i=>async function*(){yield*i}()),!1);yield*TI(t)}catch(t){e.error=t,e.hasError=!0}finally{Zp(e)}}var Yc,Zp,kI,Zc=I(()=>{Ce();Yc=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},Zp=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),kI=20});var et,hi=I(()=>{et=class r{static create=e=>new r(e);#e;constructor(e){this.#e=e}async get(e){return await this.#e(e)}}});var el,tl,Pt,fi=I(()=>{zt();Qi();Zc();hi();el=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},tl=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Pt=class{static querySelectorAll;static querySelector;static get _querySelector(){if(this.querySelector)return this.querySelector;if(!this.querySelectorAll)throw new Error("Cannot create default `querySelector`.");return this.querySelector=Br(async(e,t,i)=>{let s=PLACEHOLDER("querySelectorAll")(e,t,i);for await(let a of s)return a;return null},{querySelectorAll:Ze(this.querySelectorAll)})}static get _querySelectorAll(){if(this.querySelectorAll)return this.querySelectorAll;if(!this.querySelector)throw new Error("Cannot create default `querySelectorAll`.");return this.querySelectorAll=Br(async function*(e,t,i){let s=await PLACEHOLDER("querySelector")(e,t,i);s&&(yield s)},{querySelector:Ze(this.querySelector)})}static async*queryAll(e,t){let i={stack:[],error:void 0,hasError:!1};try{let n=el(i,await e.evaluateHandle(this._querySelectorAll,t,et.create(s=>s.puppeteerUtil)),!1);yield*Qc(n)}catch(n){i.error=n,i.hasError=!0}finally{tl(i)}}static async queryOne(e,t){let i={stack:[],error:void 0,hasError:!1};try{let n=el(i,await e.evaluateHandle(this._querySelector,t,et.create(a=>a.puppeteerUtil)),!1),{ElementHandle:s}=await Promise.resolve().then(()=>(Xn(),eh));return n instanceof s?n.move():null}catch(n){i.error=n,i.hasError=!0}finally{tl(i)}}static async waitFor(e,t,i){let n={stack:[],error:void 0,hasError:!1};try{let{ElementHandle:s}=await Promise.resolve().then(()=>(Xn(),eh)),a,o=el(n,await(async()=>{if(!(e instanceof s)){a=e;return}return a=e.frame,await a.isolatedRealm().adoptHandle(e)})(),!1),{visible:c=!1,hidden:l=!1,timeout:u,signal:d}=i;try{let p={stack:[],error:void 0,hasError:!1};try{d==null||d.throwIfAborted();let m=el(p,await a.isolatedRealm().waitForFunction(async(f,h,g,w,v)=>{let b=await f.createFunction(h)(w??document,g,f);return f.checkVisibility(b,v)},{polling:c||l?"raf":"mutation",root:o,timeout:u,signal:d},et.create(f=>f.puppeteerUtil),Ze(this._querySelector),t,o,c?!0:l?!1:void 0),!1);if(d!=null&&d.aborted)throw d.reason;return m instanceof s?await a.mainRealm().transferHandle(m):null}catch(m){p.error=m,p.hasError=!0}finally{tl(p)}}catch(p){throw!Me(p)||p.name==="AbortError"||(p.message=`Waiting for selector \`${t}\` failed: ${p.message}`),p}}catch(s){n.error=s,n.hasError=!0}finally{tl(n)}}}});var jr,Oa=I(()=>{jr=class{static async*map(e,t){for await(let i of e)yield await t(i)}static async*flatMap(e,t){for await(let i of e)yield*t(i)}static async collect(e){let t=[];for await(let i of e)t.push(i);return t}static async first(e){for await(let t of e)return t}}});var PI,II,Hy,RI,MI,Zi,rl=I(()=>{fi();le();Oa();PI=async(r,e,t,i)=>{let{nodes:n}=await r.send("Accessibility.queryAXTree",{objectId:e.id,accessibleName:t,role:i});return n.filter(s=>!s.role||s.role.value!=="StaticText")},II=r=>["name","role"].includes(r),Hy=r=>r.replace(/ +/g," ").trim(),RI=/\[\s*(?<attribute>\w+)\s*=\s*(?<quote>"|')(?<value>\\.|.*?(?=\k<quote>))\k<quote>\s*\]/g,MI=r=>{let e={},t=r.replace(RI,(i,n,s,a)=>(n=n.trim(),S(II(n),`Unknown aria attribute "${n}" in selector`),e[n]=Hy(a),""));return t&&!e.name&&(e.name=Hy(t)),e},Zi=class extends Pt{static querySelector=async(e,t,{ariaQuerySelector:i})=>await i(e,t);static async*queryAll(e,t){let{name:i,role:n}=MI(t),s=await PI(e.realm.environment.client,e,i,n);yield*jr.map(s,a=>e.realm.adoptBackendNode(a.backendDOMNodeId))}static queryOne=async(e,t)=>await jr.first(this.queryAll(e,t))??null}});var Wy,Vy=I(()=>{Wy='"use strict";var C=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var se=Object.prototype.hasOwnProperty;var u=(t,e)=>{for(var n in e)C(t,n,{get:e[n],enumerable:!0})},ie=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of oe(e))!se.call(t,o)&&o!==n&&C(t,o,{get:()=>e[o],enumerable:!(r=ne(e,o))||r.enumerable});return t};var le=t=>ie(C({},"__esModule",{value:!0}),t);var Oe={};u(Oe,{default:()=>Re});module.exports=le(Oe);var T=class extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},S=class extends T{},I=class extends T{#e;#t="";set code(e){this.#e=e}get code(){return this.#e}set originalMessage(e){this.#t=e}get originalMessage(){return this.#t}};var qe=Object.freeze({TimeoutError:S,ProtocolError:I});var f=class t{#e=!1;#t=!1;#n;#r=()=>{};#o=new Promise(e=>{this.#r=e});#s;constructor(e){this.#s=e&&e.timeout>0?setTimeout(()=>{this.reject(new S(e.message))},e.timeout):void 0}#i(e){clearTimeout(this.#s),this.#n=e,this.#r()}resolve(e){this.#t||this.#e||(this.#e=!0,this.#i(e))}reject(e){this.#t||this.#e||(this.#t=!0,this.#i(e))}resolved(){return this.#e}finished(){return this.#e||this.#t}value(){return this.#n}async valueOrThrow(){if(await this.#o,this.#t)throw this.#n;return this.#n}static create(e){return new t(e)}static async race(e){let n=new Set;try{let r=e.map(o=>o instanceof t?(o.#s&&n.add(o),o.valueOrThrow()):o);return await Promise.race(r)}finally{for(let r of n)r.reject(new Error("Timeout cleared"))}}};var G=new Map,X=t=>{let e=G.get(t);return e||(e=new Function(`return ${t}`)(),G.set(t,e),e)};var R={};u(R,{ariaQuerySelector:()=>ae,ariaQuerySelectorAll:()=>k});var ae=(t,e)=>window.__ariaQuerySelector(t,e),k=async function*(t,e){yield*await window.__ariaQuerySelectorAll(t,e)};var q={};u(q,{customQuerySelectors:()=>M});var O=class{#e=new Map;register(e,n){if(!n.queryOne&&n.queryAll){let r=n.queryAll;n.queryOne=(o,i)=>{for(let s of r(o,i))return s;return null}}else if(n.queryOne&&!n.queryAll){let r=n.queryOne;n.queryAll=(o,i)=>{let s=r(o,i);return s?[s]:[]}}else if(!n.queryOne||!n.queryAll)throw new Error("At least one query method must be defined.");this.#e.set(e,{querySelector:n.queryOne,querySelectorAll:n.queryAll})}unregister(e){this.#e.delete(e)}get(e){return this.#e.get(e)}clear(){this.#e.clear()}},M=new O;var D={};u(D,{pierceQuerySelector:()=>ce,pierceQuerySelectorAll:()=>ue});var ce=(t,e)=>{let n=null,r=o=>{let i=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&r(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==o&&!n&&s.matches(e)&&(n=s)}while(!n&&i.nextNode())};return t instanceof Document&&(t=t.documentElement),r(t),n},ue=(t,e)=>{let n=[],r=o=>{let i=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT);do{let s=i.currentNode;s.shadowRoot&&r(s.shadowRoot),!(s instanceof ShadowRoot)&&s!==o&&s.matches(e)&&n.push(s)}while(i.nextNode())};return t instanceof Document&&(t=t.documentElement),r(t),n};var m=(t,e)=>{if(!t)throw new Error(e)};var P=class{#e;#t;#n;#r;constructor(e,n){this.#e=e,this.#t=n}async start(){let e=this.#r=f.create(),n=await this.#e();if(n){e.resolve(n);return}this.#n=new MutationObserver(async()=>{let r=await this.#e();r&&(e.resolve(r),await this.stop())}),this.#n.observe(this.#t,{childList:!0,subtree:!0,attributes:!0})}async stop(){m(this.#r,"Polling never started."),this.#r.finished()||this.#r.reject(new Error("Polling stopped")),this.#n&&(this.#n.disconnect(),this.#n=void 0)}result(){return m(this.#r,"Polling never started."),this.#r.valueOrThrow()}},E=class{#e;#t;constructor(e){this.#e=e}async start(){let e=this.#t=f.create(),n=await this.#e();if(n){e.resolve(n);return}let r=async()=>{if(e.finished())return;let o=await this.#e();if(!o){window.requestAnimationFrame(r);return}e.resolve(o),await this.stop()};window.requestAnimationFrame(r)}async stop(){m(this.#t,"Polling never started."),this.#t.finished()||this.#t.reject(new Error("Polling stopped"))}result(){return m(this.#t,"Polling never started."),this.#t.valueOrThrow()}},x=class{#e;#t;#n;#r;constructor(e,n){this.#e=e,this.#t=n}async start(){let e=this.#r=f.create(),n=await this.#e();if(n){e.resolve(n);return}this.#n=setInterval(async()=>{let r=await this.#e();r&&(e.resolve(r),await this.stop())},this.#t)}async stop(){m(this.#r,"Polling never started."),this.#r.finished()||this.#r.reject(new Error("Polling stopped")),this.#n&&(clearInterval(this.#n),this.#n=void 0)}result(){return m(this.#r,"Polling never started."),this.#r.valueOrThrow()}};var H={};u(H,{pQuerySelector:()=>Ie,pQuerySelectorAll:()=>re});var c=class{static async*map(e,n){for await(let r of e)yield await n(r)}static async*flatMap(e,n){for await(let r of e)yield*n(r)}static async collect(e){let n=[];for await(let r of e)n.push(r);return n}static async first(e){for await(let n of e)return n}};var p={attribute:/\\[\\s*(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)\\s*(?:(?<operator>\\W?=)\\s*(?<value>.+?)\\s*(\\s(?<caseSensitive>[iIsS]))?\\s*)?\\]/gu,id:/#(?<name>[-\\w\\P{ASCII}]+)/gu,class:/\\.(?<name>[-\\w\\P{ASCII}]+)/gu,comma:/\\s*,\\s*/g,combinator:/\\s*[\\s>+~]\\s*/g,"pseudo-element":/::(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>\xB6*)\\))?/gu,"pseudo-class":/:(?<name>[-\\w\\P{ASCII}]+)(?:\\((?<argument>\xB6*)\\))?/gu,universal:/(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?\\*/gu,type:/(?:(?<namespace>\\*|[-\\w\\P{ASCII}]*)\\|)?(?<name>[-\\w\\P{ASCII}]+)/gu},fe=new Set(["combinator","comma"]);var de=t=>{switch(t){case"pseudo-element":case"pseudo-class":return new RegExp(p[t].source.replace("(?<argument>\\xB6*)","(?<argument>.*)"),"gu");default:return p[t]}};function me(t,e){let n=0,r="";for(;e<t.length;e++){let o=t[e];switch(o){case"(":++n;break;case")":--n;break}if(r+=o,n===0)return r}return r}function he(t,e=p){if(!t)return[];let n=[t];for(let[o,i]of Object.entries(e))for(let s=0;s<n.length;s++){let l=n[s];if(typeof l!="string")continue;i.lastIndex=0;let a=i.exec(l);if(!a)continue;let h=a.index-1,d=[],V=a[0],B=l.slice(0,h+1);B&&d.push(B),d.push({...a.groups,type:o,content:V});let z=l.slice(h+V.length+1);z&&d.push(z),n.splice(s,1,...d)}let r=0;for(let o of n)switch(typeof o){case"string":throw new Error(`Unexpected sequence ${o} found at index ${r}`);case"object":r+=o.content.length,o.pos=[r-o.content.length,r],fe.has(o.type)&&(o.content=o.content.trim()||" ");break}return n}var pe=/([\'"])([^\\\\\\n]+?)\\1/g,ye=/\\\\./g;function K(t,e=p){if(t=t.trim(),t==="")return[];let n=[];t=t.replace(ye,(i,s)=>(n.push({value:i,offset:s}),"\\uE000".repeat(i.length))),t=t.replace(pe,(i,s,l,a)=>(n.push({value:i,offset:a}),`${s}${"\\uE001".repeat(l.length)}${s}`));{let i=0,s;for(;(s=t.indexOf("(",i))>-1;){let l=me(t,s);n.push({value:l,offset:s}),t=`${t.substring(0,s)}(${"\\xB6".repeat(l.length-2)})${t.substring(s+l.length)}`,i=s+l.length}}let r=he(t,e),o=new Set;for(let i of n.reverse())for(let s of r){let{offset:l,value:a}=i;if(!(s.pos[0]<=l&&l+a.length<=s.pos[1]))continue;let{content:h}=s,d=l-s.pos[0];s.content=h.slice(0,d)+a+h.slice(d+a.length),s.content!==h&&o.add(s)}for(let i of o){let s=de(i.type);if(!s)throw new Error(`Unknown token type: ${i.type}`);s.lastIndex=0;let l=s.exec(i.content);if(!l)throw new Error(`Unable to parse content for ${i.type}: ${i.content}`);Object.assign(i,l.groups)}return r}function*N(t,e){switch(t.type){case"list":for(let n of t.list)yield*N(n,t);break;case"complex":yield*N(t.left,t),yield*N(t.right,t);break;case"compound":yield*t.list.map(n=>[n,t]);break;default:yield[t,e]}}function y(t){let e;return Array.isArray(t)?e=t:e=[...N(t)].map(([n])=>n),e.map(n=>n.content).join("")}p.combinator=/\\s*(>>>>?|[\\s>+~])\\s*/g;var ge=/\\\\[\\s\\S]/g,we=t=>t.length<=1?t:((t[0]===\'"\'||t[0]==="\'")&&t.endsWith(t[0])&&(t=t.slice(1,-1)),t.replace(ge,e=>e[1]));function Y(t){let e=!0,n=K(t);if(n.length===0)return[[],e];let r=[],o=[r],i=[o],s=[];for(let l of n){switch(l.type){case"combinator":switch(l.content){case">>>":e=!1,s.length&&(r.push(y(s)),s.splice(0)),r=[],o.push(">>>"),o.push(r);continue;case">>>>":e=!1,s.length&&(r.push(y(s)),s.splice(0)),r=[],o.push(">>>>"),o.push(r);continue}break;case"pseudo-element":if(!l.name.startsWith("-p-"))break;e=!1,s.length&&(r.push(y(s)),s.splice(0)),r.push({name:l.name.slice(3),value:we(l.argument??"")});continue;case"comma":s.length&&(r.push(y(s)),s.splice(0)),r=[],o=[r],i.push(o);continue}s.push(l)}return s.length&&r.push(y(s)),[i,e]}var Q={};u(Q,{textQuerySelectorAll:()=>b});var Se=new Set(["checkbox","image","radio"]),be=t=>t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement&&!Se.has(t.type),Te=new Set(["SCRIPT","STYLE"]),w=t=>!Te.has(t.nodeName)&&!document.head?.contains(t),_=new WeakMap,Z=t=>{for(;t;)_.delete(t),t instanceof ShadowRoot?t=t.host:t=t.parentNode},J=new WeakSet,Pe=new MutationObserver(t=>{for(let e of t)Z(e.target)}),g=t=>{let e=_.get(t);if(e||(e={full:"",immediate:[]},!w(t)))return e;let n="";if(be(t))e.full=t.value,e.immediate.push(t.value),t.addEventListener("input",r=>{Z(r.target)},{once:!0,capture:!0});else{for(let r=t.firstChild;r;r=r.nextSibling){if(r.nodeType===Node.TEXT_NODE){e.full+=r.nodeValue??"",n+=r.nodeValue??"";continue}n&&e.immediate.push(n),n="",r.nodeType===Node.ELEMENT_NODE&&(e.full+=g(r).full)}n&&e.immediate.push(n),t instanceof Element&&t.shadowRoot&&(e.full+=g(t.shadowRoot).full),J.has(t)||(Pe.observe(t,{childList:!0,characterData:!0}),J.add(t))}return _.set(t,e),e};var b=function*(t,e){let n=!1;for(let r of t.childNodes)if(r instanceof Element&&w(r)){let o;r.shadowRoot?o=b(r.shadowRoot,e):o=b(r,e);for(let i of o)yield i,n=!0}n||t instanceof Element&&w(t)&&g(t).full.includes(e)&&(yield t)};var $={};u($,{checkVisibility:()=>xe,pierce:()=>A,pierceAll:()=>L});var Ee=["hidden","collapse"],xe=(t,e)=>{if(!t)return e===!1;if(e===void 0)return t;let n=t.nodeType===Node.TEXT_NODE?t.parentElement:t,r=window.getComputedStyle(n),o=r&&!Ee.includes(r.visibility)&&!Ne(n);return e===o?t:!1};function Ne(t){let e=t.getBoundingClientRect();return e.width===0||e.height===0}var Ae=t=>"shadowRoot"in t&&t.shadowRoot instanceof ShadowRoot;function*A(t){Ae(t)?yield t.shadowRoot:yield t}function*L(t){t=A(t).next().value,yield t;let e=[document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT)];for(let n of e){let r;for(;r=n.nextNode();)r.shadowRoot&&(yield r.shadowRoot,e.push(document.createTreeWalker(r.shadowRoot,NodeFilter.SHOW_ELEMENT)))}}var j={};u(j,{xpathQuerySelectorAll:()=>U});var U=function*(t,e){let r=(t.ownerDocument||document).evaluate(e,t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),o;for(;o=r.iterateNext();)yield o};var ve=/[-\\w\\P{ASCII}*]/,ee=t=>"querySelectorAll"in t,v=class extends Error{constructor(e,n){super(`${e} is not a valid selector: ${n}`)}},F=class{#e;#t;#n=[];#r=void 0;elements;constructor(e,n,r){this.elements=[e],this.#e=n,this.#t=r,this.#o()}async run(){if(typeof this.#r=="string")switch(this.#r.trimStart()){case":scope":this.#o();break}for(;this.#r!==void 0;this.#o()){let e=this.#r,n=this.#e;typeof e=="string"?e[0]&&ve.test(e[0])?this.elements=c.flatMap(this.elements,async function*(r){ee(r)&&(yield*r.querySelectorAll(e))}):this.elements=c.flatMap(this.elements,async function*(r){if(!r.parentElement){if(!ee(r))return;yield*r.querySelectorAll(e);return}let o=0;for(let i of r.parentElement.children)if(++o,i===r)break;yield*r.parentElement.querySelectorAll(`:scope>:nth-child(${o})${e}`)}):this.elements=c.flatMap(this.elements,async function*(r){switch(e.name){case"text":yield*b(r,e.value);break;case"xpath":yield*U(r,e.value);break;case"aria":yield*k(r,e.value);break;default:let o=M.get(e.name);if(!o)throw new v(n,`Unknown selector type: ${e.name}`);yield*o.querySelectorAll(r,e.value)}})}}#o(){if(this.#n.length!==0){this.#r=this.#n.shift();return}if(this.#t.length===0){this.#r=void 0;return}let e=this.#t.shift();switch(e){case">>>>":{this.elements=c.flatMap(this.elements,A),this.#o();break}case">>>":{this.elements=c.flatMap(this.elements,L),this.#o();break}default:this.#n=e,this.#o();break}}},W=class{#e=new WeakMap;calculate(e,n=[]){if(e===null)return n;e instanceof ShadowRoot&&(e=e.host);let r=this.#e.get(e);if(r)return[...r,...n];let o=0;for(let s=e.previousSibling;s;s=s.previousSibling)++o;let i=this.calculate(e.parentNode,[o]);return this.#e.set(e,i),[...i,...n]}},te=(t,e)=>{if(t.length+e.length===0)return 0;let[n=-1,...r]=t,[o=-1,...i]=e;return n===o?te(r,i):n<o?-1:1},Ce=async function*(t){let e=new Set;for await(let r of t)e.add(r);let n=new W;yield*[...e.values()].map(r=>[r,n.calculate(r)]).sort(([,r],[,o])=>te(r,o)).map(([r])=>r)},re=function(t,e){let n,r;try{[n,r]=Y(e)}catch{return t.querySelectorAll(e)}if(r)return t.querySelectorAll(e);if(n.some(o=>{let i=0;return o.some(s=>(typeof s=="string"?++i:i=0,i>1))}))throw new v(e,"Multiple deep combinators found in sequence.");return Ce(c.flatMap(n,o=>{let i=new F(t,e,o);return i.run(),i.elements}))},Ie=async function(t,e){for await(let n of re(t,e))return n;return null};var ke=Object.freeze({...R,...q,...D,...H,...Q,...$,...j,Deferred:f,createFunction:X,createTextContent:g,IntervalPoller:x,isSuitableNodeForTextMatching:w,MutationPoller:P,RAFPoller:E}),Re=ke;\n'});var th,mi,Na=I(()=>{Vy();th=class{#e=!1;#t=new Set;append(e){this.#r(()=>{this.#t.add(e)})}pop(e){this.#r(()=>{this.#t.delete(e)})}inject(e,t=!1){(this.#e||t)&&e(this.#i()),this.#e=!1}#r(e){e(),this.#e=!0}#i(){return`(() => {
      const module = {};
      ${Wy}
      ${[...this.#t].map(e=>`(${e})(module.exports.default);`).join("")}
      return module.exports.default;
    })()`}},mi=new th});var rh,Da,La=I(()=>{le();Qi();fi();Na();rh=class{#e=new Map;get(e){let t=this.#e.get(e);return t?t[1]:void 0}register(e,t){S(!this.#e.has(e),`Cannot register over existing handler: ${e}`),S(/^[a-zA-Z]+$/.test(e),"Custom query handler names may only contain [a-zA-Z]"),S(t.queryAll||t.queryOne,"At least one query method must be implemented.");let i=class extends Pt{static querySelectorAll=Br((s,a,o)=>o.customQuerySelectors.get(PLACEHOLDER("name")).querySelectorAll(s,a),{name:JSON.stringify(e)});static querySelector=Br((s,a,o)=>o.customQuerySelectors.get(PLACEHOLDER("name")).querySelector(s,a),{name:JSON.stringify(e)})},n=Br(s=>{s.customQuerySelectors.register(PLACEHOLDER("name"),{queryAll:PLACEHOLDER("queryAll"),queryOne:PLACEHOLDER("queryOne")})},{name:JSON.stringify(e),queryAll:t.queryAll?Ze(t.queryAll):String(void 0),queryOne:t.queryOne?Ze(t.queryOne):String(void 0)}).toString();this.#e.set(e,[n,i]),mi.append(n)}unregister(e){let t=this.#e.get(e);if(!t)throw new Error(`Cannot unregister unknown handler: ${e}`);mi.pop(t[0]),this.#e.delete(e)}names(){return[...this.#e.keys()]}clear(){for(let[e]of this.#e)mi.pop(e);this.#e.clear()}},Da=new rh});var il,ih=I(()=>{fi();il=class extends Pt{static querySelector=(e,t,{pierceQuerySelector:i})=>i(e,t);static querySelectorAll=(e,t,{pierceQuerySelectorAll:i})=>i(e,t)}});var nl,nh=I(()=>{fi();nl=class extends Pt{static querySelectorAll=(e,t,{pQuerySelectorAll:i})=>i(e,t);static querySelector=(e,t,{pQuerySelector:i})=>i(e,t)}});var sl,sh=I(()=>{fi();sl=class extends Pt{static querySelectorAll=(e,t,{textQuerySelectorAll:i})=>i(e,t)}});var al,ah=I(()=>{fi();al=class extends Pt{static querySelectorAll=(e,t,{xpathQuerySelectorAll:i})=>i(e,t)}});function Jn(r){for(let e of[Da.names().map(t=>[t,Da.get(t)]),Object.entries(AI)])for(let[t,i]of e)for(let n of OI){let s=`${t}${n}`;if(r.startsWith(s))return r=r.slice(s.length),{updatedSelector:r,QueryHandler:i}}return{updatedSelector:r,QueryHandler:nl}}var AI,OI,ol=I(()=>{rl();La();ih();nh();sh();ah();AI={aria:Zi,pierce:il,xpath:al,text:sl},OI=["=","/"]});var Yn,oh=I(()=>{Te();Ce();Yn=class r{static Guard=class{#r;constructor(t){this.#r=t}[re](){return this.#r.release()}};#e=!1;#t=[];async acquire(){if(!this.#e)return this.#e=!0,new r.Guard(this);let e=z.create();return this.#t.push(e.resolve.bind(e)),await e.valueOrThrow(),new r.Guard(this)}release(){let e=this.#t.shift();if(!e){this.#e=!1;return}e()}}});function Gy(r,e){let t=!1;if(r.prototype[re]){let i=r.prototype[re];r.prototype[re]=function(){if(Fa.has(this)){Fa.delete(this);return}return i.call(this)},t=!0}if(r.prototype[dt]){let i=r.prototype[dt];r.prototype[dt]=function(){if(Fa.has(this)){Fa.delete(this);return}return i.call(this)},t=!0}return t&&(r.prototype.move=function(){return Fa.add(this),this}),r}function Z(r=e=>`Attempted to use disposed ${e.constructor.name}.`){return(e,t)=>function(...i){if(this.disposed)throw new Error(r(this));return e.call(this,...i)}}function Zt(r,e){let t=new WeakMap,i=-1;return function(...n){if(i===-1&&(i=n.length),i!==n.length)throw new Error("Memoized method was called with the wrong number of arguments");let s=!1,a=t;for(let o of n)a.has(o)||(s=!0,a.set(o,new WeakMap)),a=a.get(o);if(s)return r.call(this,...n)}}function Xy(r=function(){return this}){return(e,t)=>{let i=new WeakMap;return async function(...n){let s={stack:[],error:void 0,hasError:!1};try{let a=r.call(this),o=i.get(a);o||(o=new Yn,i.set(a,o));let c=NI(s,await o.acquire(),!0);return await e.call(this,...n)}catch(a){s.error=a,s.hasError=!0}finally{let a=DI(s);a&&await a}}}}var NI,DI,Fa,gi=I(()=>{Ce();oh();NI=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},DI=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Fa=new WeakSet});var Jy,ch,LI,FI,er,Qn=I(()=>{ae();gi();Ce();Jy=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},ch=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},LI=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},FI=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),er=(()=>{var c;let r=[Gy],e,t=[],i,n=[],s,a;var o=(c=class{constructor(){Jy(this,n)}get disposed(){throw new Error("Not implemented")}async evaluate(u,...d){return u=Ee(this.evaluate.name,u),await this.realm.evaluate(u,this,...d)}async evaluateHandle(u,...d){return u=Ee(this.evaluateHandle.name,u),await this.realm.evaluateHandle(u,this,...d)}async getProperty(u){return await this.evaluateHandle((d,p)=>d[p],u)}async getProperties(){let u=await this.evaluate(m=>{var g;let f=[],h=Object.getOwnPropertyDescriptors(m);for(let w in h)(g=h[w])!=null&&g.enumerable&&f.push(w);return f}),d=new Map,p=await Promise.all(u.map(m=>this.getProperty(m)));for(let[m,f]of Object.entries(u)){let h={stack:[],error:void 0,hasError:!1};try{let g=LI(h,p[m],!1);g&&d.set(f,g.move())}catch(g){h.error=g,h.hasError=!0}finally{FI(h)}}return d}[(s=[Z()],a=[Z()],re)](){return void this.dispose().catch(D)}[dt](){return this.dispose()}},i=c,(()=>{let u=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;ch(c,null,s,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:d=>"getProperty"in d,get:d=>d.getProperty},metadata:u},null,n),ch(c,null,a,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:d=>"getProperties"in d,get:d=>d.getProperties},metadata:u},null,n),ch(null,e={value:i},r,{kind:"class",name:i.name,metadata:u},null,t),o=i=e.value,u&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u}),Jy(i,t)})(),c);return o=i})()});var eh={};kn(eh,{ElementHandle:()=>xi});function jI(r,e,t){r.width=Math.max(r.x>=0?Math.min(e-r.x,r.width):Math.min(e,r.width+r.x),0),r.height=Math.max(r.y>=0?Math.min(t-r.y,r.height):Math.min(t,r.height+r.y),0)}var BI,he,en,tn,xi,Xn=I(()=>{ol();hi();ae();le();Oa();gi();Qn();BI=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},he=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},en=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},tn=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),xi=(()=>{var $i,lh,nc,Yy,ha,uh,fa,dh,ma,ph,sc,Qy,ac,Zy,B;var r,e,t,i,n,s,a,o,c,l,u,d,p,m,f,h,g,w,v,_,b,P,T,R,O,M,ne,U,Pe,te,C,y;let j=er,N=[],ue,we,Q,Ie,ve,Gt,Re,ri,_t,xx,kr,wx,Cr,vx,Tr,yx,Pr,bx,Ir,_x,Rr,Ex,tt,Sx,H,L,J,Je,ec,tc,rc,ic;return B=class extends j{constructor(E){super();W(this,$i);W(this,nc);W(this,ha);W(this,fa);W(this,ma);W(this,sc);W(this,ac);Ye(this,"handle",(BI(this,N),void 0));this.handle=E}static bindIsolatedHandle(E,x){return async function(...$){let q={stack:[],error:void 0,hasError:!1};try{if(this.realm===this.frame.isolatedRealm())return await E.call(this,...$);let ee=en(q,await this.frame.isolatedRealm().adoptHandle(this),!1),G=await E.call(ee,...$);return G===ee?this:G instanceof er?await this.realm.transferHandle(G):(Array.isArray(G)&&await Promise.all(G.map(async(me,Ne,De)=>{me instanceof er&&(De[Ne]=await this.realm.transferHandle(me))})),G instanceof Map&&await Promise.all([...G.entries()].map(async([me,Ne])=>{Ne instanceof er&&G.set(me,await this.realm.transferHandle(Ne))})),G)}catch(ee){q.error=ee,q.hasError=!0}finally{tn(q)}}}get id(){return this.handle.id}get disposed(){return this.handle.disposed}async getProperty(E){return await this.handle.getProperty(E)}async getProperties(){return await this.handle.getProperties()}async evaluate(E,...x){return E=Ee(this.evaluate.name,E),await this.handle.evaluate(E,...x)}async evaluateHandle(E,...x){return E=Ee(this.evaluateHandle.name,E),await this.handle.evaluateHandle(E,...x)}async jsonValue(){return await this.handle.jsonValue()}toString(){return this.handle.toString()}remoteObject(){return this.handle.remoteObject()}dispose(){return this.handle.dispose()}asElement(){return this}async $(E){let{updatedSelector:x,QueryHandler:$}=Jn(E);return await $.queryOne(this,x)}async $$(E){let{updatedSelector:x,QueryHandler:$}=Jn(E);return await jr.collect($.queryAll(this,x))}async $eval(E,x,...$){let q={stack:[],error:void 0,hasError:!1};try{x=Ee(this.$eval.name,x);let ee=en(q,await this.$(E),!1);if(!ee)throw new Error(`Error: failed to find element matching selector "${E}"`);return await ee.evaluate(x,...$)}catch(ee){q.error=ee,q.hasError=!0}finally{tn(q)}}async $$eval(E,x,...$){let q={stack:[],error:void 0,hasError:!1};try{x=Ee(this.$$eval.name,x);let ee=await this.$$(E),G=en(q,await this.evaluateHandle((Ne,...De)=>De,...ee),!1),[me]=await Promise.all([G.evaluate(x,...$),...ee.map(Ne=>Ne.dispose())]);return me}catch(ee){q.error=ee,q.hasError=!0}finally{tn(q)}}async $x(E){return E.startsWith("//")&&(E=`.${E}`),await this.$$(`xpath/${E}`)}async waitForSelector(E,x={}){let{updatedSelector:$,QueryHandler:q}=Jn(E);return await q.waitFor(this,$,x)}async isVisible(){return await Le(this,$i,lh).call(this,!0)}async isHidden(){return await Le(this,$i,lh).call(this,!1)}async waitForXPath(E,x={}){return E.startsWith("//")&&(E=`.${E}`),await this.waitForSelector(`xpath/${E}`,x)}async toElement(E){if(!await this.evaluate(($,q)=>$.nodeName===q.toUpperCase(),E))throw new Error(`Element is not a(n) \`${E}\` element`);return this}async clickablePoint(E){let x=await Le(this,nc,Yy).call(this);if(!x)throw new Error("Node is either not clickable or not an Element");return E!==void 0?{x:x.x+E.x,y:x.y+E.y}:{x:x.x+x.width/2,y:x.y+x.height/2}}async hover(){await this.scrollIntoViewIfNeeded();let{x:E,y:x}=await this.clickablePoint();await this.frame.page().mouse.move(E,x)}async click(E={}){await this.scrollIntoViewIfNeeded();let{x,y:$}=await this.clickablePoint(E.offset);await this.frame.page().mouse.click(x,$,E)}async drag(E){await this.scrollIntoViewIfNeeded();let x=this.frame.page();if(x.isDragInterceptionEnabled()){let $=await this.clickablePoint();return E instanceof B&&(E=await E.clickablePoint()),await x.mouse.drag($,E)}try{x._isDragging||(x._isDragging=!0,await this.hover(),await x.mouse.down()),E instanceof B?await E.hover():await x.mouse.move(E.x,E.y)}catch($){throw x._isDragging=!1,$}}async dragEnter(E={items:[],dragOperationsMask:1}){let x=this.frame.page();await this.scrollIntoViewIfNeeded();let $=await this.clickablePoint();await x.mouse.dragEnter($,E)}async dragOver(E={items:[],dragOperationsMask:1}){let x=this.frame.page();await this.scrollIntoViewIfNeeded();let $=await this.clickablePoint();await x.mouse.dragOver($,E)}async drop(E={items:[],dragOperationsMask:1}){let x=this.frame.page();if("items"in E){await this.scrollIntoViewIfNeeded();let $=await this.clickablePoint();await x.mouse.drop($,E)}else await E.drag(this),x._isDragging=!1,await x.mouse.up()}async dragAndDrop(E,x){let $=this.frame.page();S($.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this.scrollIntoViewIfNeeded();let q=await this.clickablePoint(),ee=await E.clickablePoint();await $.mouse.dragAndDrop(q,ee,x)}async select(...E){for(let x of E)S(Ke(x),'Values must be strings. Found value "'+x+'" of type "'+typeof x+'"');return await this.evaluate((x,$)=>{let q=new Set($);if(!(x instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");let ee=new Set;if(x.multiple)for(let G of x.options)G.selected=q.has(G.value),G.selected&&ee.add(G.value);else{for(let G of x.options)G.selected=!1;for(let G of x.options)if(q.has(G.value)){G.selected=!0,ee.add(G.value);break}}return x.dispatchEvent(new Event("input",{bubbles:!0})),x.dispatchEvent(new Event("change",{bubbles:!0})),[...ee.values()]},E)}async uploadFile(){throw new Error("Not implemented")}async tap(){await this.scrollIntoViewIfNeeded();let{x:E,y:x}=await this.clickablePoint();await this.frame.page().touchscreen.touchStart(E,x),await this.frame.page().touchscreen.touchEnd()}async touchStart(){await this.scrollIntoViewIfNeeded();let{x:E,y:x}=await this.clickablePoint();await this.frame.page().touchscreen.touchStart(E,x)}async touchMove(){await this.scrollIntoViewIfNeeded();let{x:E,y:x}=await this.clickablePoint();await this.frame.page().touchscreen.touchMove(E,x)}async touchEnd(){await this.scrollIntoViewIfNeeded(),await this.frame.page().touchscreen.touchEnd()}async focus(){await this.evaluate(E=>{if(!(E instanceof HTMLElement))throw new Error("Cannot focus non-HTMLElement");return E.focus()})}async type(E,x){await this.focus(),await this.frame.page().keyboard.type(E,x)}async press(E,x){await this.focus(),await this.frame.page().keyboard.press(E,x)}async boundingBox(){let E=await this.evaluate($=>{if(!($ instanceof Element)||$.getClientRects().length===0)return null;let q=$.getBoundingClientRect();return{x:q.x,y:q.y,width:q.width,height:q.height}});if(!E)return null;let x=await Le(this,fa,dh).call(this);return x?{x:E.x+x.x,y:E.y+x.y,height:E.height,width:E.width}:null}async boxModel(){let E=await this.evaluate($=>{if(!($ instanceof Element)||$.getClientRects().length===0)return null;let q=$.getBoundingClientRect(),ee=window.getComputedStyle($),G={padding:{left:parseInt(ee.paddingLeft,10),top:parseInt(ee.paddingTop,10),right:parseInt(ee.paddingRight,10),bottom:parseInt(ee.paddingBottom,10)},margin:{left:-parseInt(ee.marginLeft,10),top:-parseInt(ee.marginTop,10),right:-parseInt(ee.marginRight,10),bottom:-parseInt(ee.marginBottom,10)},border:{left:parseInt(ee.borderLeft,10),top:parseInt(ee.borderTop,10),right:parseInt(ee.borderRight,10),bottom:parseInt(ee.borderBottom,10)}},me=[{x:q.left,y:q.top},{x:q.left+q.width,y:q.top},{x:q.left+q.width,y:q.top+q.bottom},{x:q.left,y:q.top+q.bottom}],Ne=lr(me,G.border),De=lr(Ne,G.padding),Mr=lr(me,G.margin);return{content:De,padding:Ne,border:me,margin:Mr,width:q.width,height:q.height};function lr(ii,ni){return[{x:ii[0].x+ni.left,y:ii[0].y+ni.top},{x:ii[1].x-ni.right,y:ii[1].y+ni.top},{x:ii[2].x-ni.right,y:ii[2].y-ni.bottom},{x:ii[3].x+ni.left,y:ii[3].y-ni.bottom}]}});if(!E)return null;let x=await Le(this,fa,dh).call(this);if(!x)return null;for(let $ of["content","padding","border","margin"])for(let q of E[$])q.x+=x.x,q.y+=x.y;return E}async screenshot(E={}){let x={stack:[],error:void 0,hasError:!1};try{let{scrollIntoView:$=!0,captureBeyondViewport:q=!0,allowViewportExpansion:ee=q}=E,G=await Le(this,ma,ph).call(this),me=this.frame.page(),Ne=en(x,ee&&G?await me._createTemporaryViewportContainingBox(G):null,!0);$&&(await this.scrollIntoViewIfNeeded(),G=await Le(this,ma,ph).call(this));let[De,Mr]=await this.evaluate(()=>{if(!window.visualViewport)throw new Error("window.visualViewport is not supported.");return[window.visualViewport.pageLeft,window.visualViewport.pageTop]});return G.x+=De,G.y+=Mr,await me.screenshot({...E,captureBeyondViewport:!1,clip:G})}catch($){x.error=$,x.hasError=!0}finally{let $=tn(x);$&&await $}}async assertConnectedElement(){let E=await this.evaluate(async x=>{if(!x.isConnected)return"Node is detached from document";if(x.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement"});if(E)throw new Error(E)}async scrollIntoViewIfNeeded(){await this.isIntersectingViewport({threshold:1})||await this.scrollIntoView()}async isIntersectingViewport(E={}){var $;let x={stack:[],error:void 0,hasError:!1};try{await this.assertConnectedElement();let q=await Le(this,sc,Qy).call(this);return await(en(x,q&&await Le($=q,ac,Zy).call($),!1)??this).evaluate(async(G,me)=>{let Ne=await new Promise(De=>{let Mr=new IntersectionObserver(lr=>{De(lr[0].intersectionRatio),Mr.disconnect()});Mr.observe(G)});return me===1?Ne===1:Ne>me},E.threshold??0)}catch(q){x.error=q,x.hasError=!0}finally{tn(x)}}async scrollIntoView(){await this.assertConnectedElement(),await this.evaluate(async E=>{E.scrollIntoView({block:"center",inline:"center",behavior:"instant"})})}},$i=new WeakSet,lh=async function(E){return await this.evaluate(async(x,$,q)=>!!$.checkVisibility(x,q),et.create(x=>x.puppeteerUtil),E)},nc=new WeakSet,Yy=async function(){var ee;let E=await this.evaluate(G=>G instanceof Element?[...G.getClientRects()].map(me=>({x:me.x,y:me.y,width:me.width,height:me.height})):null);if(!(E!=null&&E.length))return null;await Le(this,ha,uh).call(this,E);let x=this.frame,$;for(;$=x==null?void 0:x.parentFrame();){let G={stack:[],error:void 0,hasError:!1};try{let me=en(G,await x.frameElement(),!1);if(!me)throw new Error("Unsupported frame type");let Ne=await me.evaluate(De=>{if(De.getClientRects().length===0)return null;let Mr=De.getBoundingClientRect(),lr=window.getComputedStyle(De);return{left:Mr.left+parseInt(lr.paddingLeft,10)+parseInt(lr.borderLeftWidth,10),top:Mr.top+parseInt(lr.paddingTop,10)+parseInt(lr.borderTopWidth,10)}});if(!Ne)return null;for(let De of E)De.x+=Ne.left,De.y+=Ne.top;await Le(ee=me,ha,uh).call(ee,E),x=$}catch(me){G.error=me,G.hasError=!0}finally{tn(G)}}let q=E.find(G=>G.width>=1&&G.height>=1);return q?{x:q.x,y:q.y,height:q.height,width:q.width}:null},ha=new WeakSet,uh=async function(E){let{documentWidth:x,documentHeight:$}=await this.frame.isolatedRealm().evaluate(()=>({documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight}));for(let q of E)jI(q,x,$)},fa=new WeakSet,dh=async function(){let E={x:0,y:0},x=this.frame,$;for(;$=x==null?void 0:x.parentFrame();){let q={stack:[],error:void 0,hasError:!1};try{let ee=en(q,await x.frameElement(),!1);if(!ee)throw new Error("Unsupported frame type");let G=await ee.evaluate(me=>{if(me.getClientRects().length===0)return null;let Ne=me.getBoundingClientRect(),De=window.getComputedStyle(me);return{left:Ne.left+parseInt(De.paddingLeft,10)+parseInt(De.borderLeftWidth,10),top:Ne.top+parseInt(De.paddingTop,10)+parseInt(De.borderTopWidth,10)}});if(!G)return null;E.x+=G.left,E.y+=G.top,x=$}catch(ee){q.error=ee,q.hasError=!0}finally{tn(q)}}return E},ma=new WeakSet,ph=async function(){let E=await this.boundingBox();return S(E,"Node is either not visible or not an HTMLElement"),S(E.width!==0,"Node has 0 width."),S(E.height!==0,"Node has 0 height."),E},sc=new WeakSet,Qy=async function(){return await this.evaluate(E=>E instanceof SVGElement)?this:null},ac=new WeakSet,Zy=async function(){return await this.evaluateHandle(E=>E instanceof SVGSVGElement?E:E.ownerSVGElement)},(()=>{let E=typeof Symbol=="function"&&Symbol.metadata?Object.create(j[Symbol.metadata]??null):void 0;ue=[Z(),(r=B).bindIsolatedHandle.bind(r)],we=[Z(),(e=B).bindIsolatedHandle.bind(e)],Q=[Z(),(t=B).bindIsolatedHandle.bind(t)],Ie=[Z(),(i=B).bindIsolatedHandle.bind(i)],ve=[Z(),(n=B).bindIsolatedHandle.bind(n)],Gt=[Z(),(s=B).bindIsolatedHandle.bind(s)],Re=[Z(),(a=B).bindIsolatedHandle.bind(a)],ri=[Z(),(o=B).bindIsolatedHandle.bind(o)],_t=[Z(),(c=B).bindIsolatedHandle.bind(c)],xx=[Z(),(l=B).bindIsolatedHandle.bind(l)],kr=[Z(),(u=B).bindIsolatedHandle.bind(u)],wx=[Z(),(d=B).bindIsolatedHandle.bind(d)],Cr=[Z(),(p=B).bindIsolatedHandle.bind(p)],vx=[Z(),(m=B).bindIsolatedHandle.bind(m)],Tr=[Z(),(f=B).bindIsolatedHandle.bind(f)],yx=[Z(),(h=B).bindIsolatedHandle.bind(h)],Pr=[Z(),(g=B).bindIsolatedHandle.bind(g)],bx=[Z(),(w=B).bindIsolatedHandle.bind(w)],Ir=[Z(),(v=B).bindIsolatedHandle.bind(v)],_x=[Z(),(_=B).bindIsolatedHandle.bind(_)],Rr=[Z(),(b=B).bindIsolatedHandle.bind(b)],Ex=[Z(),(P=B).bindIsolatedHandle.bind(P)],tt=[Z(),(T=B).bindIsolatedHandle.bind(T)],Sx=[Z(),(R=B).bindIsolatedHandle.bind(R)],H=[Z(),(O=B).bindIsolatedHandle.bind(O)],L=[Z(),(M=B).bindIsolatedHandle.bind(M)],J=[Z(),(ne=B).bindIsolatedHandle.bind(ne)],Je=[Z(),(U=B).bindIsolatedHandle.bind(U)],ec=[Z(),(Pe=B).bindIsolatedHandle.bind(Pe)],tc=[Z(),(te=B).bindIsolatedHandle.bind(te)],rc=[Z(),(C=B).bindIsolatedHandle.bind(C)],ic=[Z(),(y=B).bindIsolatedHandle.bind(y)],he(B,null,ue,{kind:"method",name:"getProperty",static:!1,private:!1,access:{has:x=>"getProperty"in x,get:x=>x.getProperty},metadata:E},null,N),he(B,null,we,{kind:"method",name:"getProperties",static:!1,private:!1,access:{has:x=>"getProperties"in x,get:x=>x.getProperties},metadata:E},null,N),he(B,null,Q,{kind:"method",name:"jsonValue",static:!1,private:!1,access:{has:x=>"jsonValue"in x,get:x=>x.jsonValue},metadata:E},null,N),he(B,null,Ie,{kind:"method",name:"$",static:!1,private:!1,access:{has:x=>"$"in x,get:x=>x.$},metadata:E},null,N),he(B,null,ve,{kind:"method",name:"$$",static:!1,private:!1,access:{has:x=>"$$"in x,get:x=>x.$$},metadata:E},null,N),he(B,null,Gt,{kind:"method",name:"$x",static:!1,private:!1,access:{has:x=>"$x"in x,get:x=>x.$x},metadata:E},null,N),he(B,null,Re,{kind:"method",name:"waitForSelector",static:!1,private:!1,access:{has:x=>"waitForSelector"in x,get:x=>x.waitForSelector},metadata:E},null,N),he(B,null,ri,{kind:"method",name:"isVisible",static:!1,private:!1,access:{has:x=>"isVisible"in x,get:x=>x.isVisible},metadata:E},null,N),he(B,null,_t,{kind:"method",name:"isHidden",static:!1,private:!1,access:{has:x=>"isHidden"in x,get:x=>x.isHidden},metadata:E},null,N),he(B,null,xx,{kind:"method",name:"waitForXPath",static:!1,private:!1,access:{has:x=>"waitForXPath"in x,get:x=>x.waitForXPath},metadata:E},null,N),he(B,null,kr,{kind:"method",name:"toElement",static:!1,private:!1,access:{has:x=>"toElement"in x,get:x=>x.toElement},metadata:E},null,N),he(B,null,wx,{kind:"method",name:"clickablePoint",static:!1,private:!1,access:{has:x=>"clickablePoint"in x,get:x=>x.clickablePoint},metadata:E},null,N),he(B,null,Cr,{kind:"method",name:"hover",static:!1,private:!1,access:{has:x=>"hover"in x,get:x=>x.hover},metadata:E},null,N),he(B,null,vx,{kind:"method",name:"click",static:!1,private:!1,access:{has:x=>"click"in x,get:x=>x.click},metadata:E},null,N),he(B,null,Tr,{kind:"method",name:"drag",static:!1,private:!1,access:{has:x=>"drag"in x,get:x=>x.drag},metadata:E},null,N),he(B,null,yx,{kind:"method",name:"dragEnter",static:!1,private:!1,access:{has:x=>"dragEnter"in x,get:x=>x.dragEnter},metadata:E},null,N),he(B,null,Pr,{kind:"method",name:"dragOver",static:!1,private:!1,access:{has:x=>"dragOver"in x,get:x=>x.dragOver},metadata:E},null,N),he(B,null,bx,{kind:"method",name:"drop",static:!1,private:!1,access:{has:x=>"drop"in x,get:x=>x.drop},metadata:E},null,N),he(B,null,Ir,{kind:"method",name:"dragAndDrop",static:!1,private:!1,access:{has:x=>"dragAndDrop"in x,get:x=>x.dragAndDrop},metadata:E},null,N),he(B,null,_x,{kind:"method",name:"select",static:!1,private:!1,access:{has:x=>"select"in x,get:x=>x.select},metadata:E},null,N),he(B,null,Rr,{kind:"method",name:"tap",static:!1,private:!1,access:{has:x=>"tap"in x,get:x=>x.tap},metadata:E},null,N),he(B,null,Ex,{kind:"method",name:"touchStart",static:!1,private:!1,access:{has:x=>"touchStart"in x,get:x=>x.touchStart},metadata:E},null,N),he(B,null,tt,{kind:"method",name:"touchMove",static:!1,private:!1,access:{has:x=>"touchMove"in x,get:x=>x.touchMove},metadata:E},null,N),he(B,null,Sx,{kind:"method",name:"touchEnd",static:!1,private:!1,access:{has:x=>"touchEnd"in x,get:x=>x.touchEnd},metadata:E},null,N),he(B,null,H,{kind:"method",name:"focus",static:!1,private:!1,access:{has:x=>"focus"in x,get:x=>x.focus},metadata:E},null,N),he(B,null,L,{kind:"method",name:"type",static:!1,private:!1,access:{has:x=>"type"in x,get:x=>x.type},metadata:E},null,N),he(B,null,J,{kind:"method",name:"press",static:!1,private:!1,access:{has:x=>"press"in x,get:x=>x.press},metadata:E},null,N),he(B,null,Je,{kind:"method",name:"boundingBox",static:!1,private:!1,access:{has:x=>"boundingBox"in x,get:x=>x.boundingBox},metadata:E},null,N),he(B,null,ec,{kind:"method",name:"boxModel",static:!1,private:!1,access:{has:x=>"boxModel"in x,get:x=>x.boxModel},metadata:E},null,N),he(B,null,tc,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:x=>"screenshot"in x,get:x=>x.screenshot},metadata:E},null,N),he(B,null,rc,{kind:"method",name:"isIntersectingViewport",static:!1,private:!1,access:{has:x=>"isIntersectingViewport"in x,get:x=>x.isIntersectingViewport},metadata:E},null,N),he(B,null,ic,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:x=>"scrollIntoView"in x,get:x=>x.scrollIntoView},metadata:E},null,N),E&&Object.defineProperty(B,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:E})})(),B})()});var qI,UI,Ba,Zn,Nt,eb=I(()=>{Fr();Fe();ae();xr();qI=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},UI=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Ba=100;(function(r){r.Action="action"})(Zn||(Zn={}));Nt=class extends de{static race(e){return cl.create(e)}visibility=null;_timeout=3e4;#e=!0;#t=!0;#r=!0;operators={conditions:(e,t)=>ze(i=>Ca(...e.map(n=>n(i,t))).pipe(Wp(i))),retryAndRaceWithSignalAndTimer:e=>{let t=[];return e&&t.push(Qt(e,"abort").pipe($t(()=>{throw e.reason}))),t.push(Ma(this._timeout)),sy(Bn({delay:Ba}),Ta(...t))}};get timeout(){return this._timeout}setTimeout(e){let t=this._clone();return t._timeout=e,t}setVisibility(e){let t=this._clone();return t.visibility=e,t}setWaitForEnabled(e){let t=this._clone();return t.#t=e,t}setEnsureElementIsInTheViewport(e){let t=this._clone();return t.#e=e,t}setWaitForStableBoundingBox(e){let t=this._clone();return t.#r=e,t}copyOptions(e){return this._timeout=e._timeout,this.visibility=e.visibility,this.#t=e.#t,this.#e=e.#e,this.#r=e.#r,this}#i=(e,t)=>this.#t?pe(e.frame.waitForFunction(i=>i instanceof HTMLElement?!["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(i.nodeName)||!i.hasAttribute("disabled"):!0,{timeout:this._timeout,signal:t},e)).pipe(Vi()):pi;#n=e=>this.#r?Lr(()=>pe(e.evaluate(t=>new Promise(i=>{window.requestAnimationFrame(()=>{let n=t.getBoundingClientRect();window.requestAnimationFrame(()=>{let s=t.getBoundingClientRect();i([{x:n.x,y:n.y,width:n.width,height:n.height},{x:s.x,y:s.y,width:s.width,height:s.height}])})})})))).pipe(Xi(([t,i])=>t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height),Bn({delay:Ba}),Vi()):pi;#s=e=>this.#e?pe(e.isIntersectingViewport({threshold:0})).pipe(pr(t=>!t),ze(()=>pe(e.scrollIntoView())),ze(()=>Lr(()=>pe(e.isIntersectingViewport({threshold:0}))).pipe(Xi(dr),Bn({delay:Ba}),Vi()))):pi;#a(e){let t=e==null?void 0:e.signal;return this._wait(e).pipe(this.operators.conditions([this.#s,this.#n,this.#i],t),Pa(()=>this.emit(Zn.Action,void 0)),ze(i=>pe(i.click(e)).pipe(Fn(n=>{throw i.dispose().catch(D),n}))),this.operators.retryAndRaceWithSignalAndTimer(t))}#o(e,t){let i=t==null?void 0:t.signal;return this._wait(t).pipe(this.operators.conditions([this.#s,this.#n,this.#i],i),Pa(()=>this.emit(Zn.Action,void 0)),ze(n=>pe(n.evaluate(s=>s instanceof HTMLSelectElement?"select":s instanceof HTMLTextAreaElement?"typeable-input":s instanceof HTMLInputElement?new Set(["textarea","text","url","tel","search","password","number","email"]).has(s.type)?"typeable-input":"other-input":s.isContentEditable?"contenteditable":"unknown")).pipe(ze(s=>{switch(s){case"select":return pe(n.select(e).then(Dn));case"contenteditable":case"typeable-input":return pe(n.evaluate((a,o)=>{let c=a.isContentEditable?a.innerText:a.value;if(o.length<=c.length||!o.startsWith(a.value))return a.isContentEditable?a.innerText="":a.value="",o;let l=a.isContentEditable?a.innerText:a.value;return a.isContentEditable?(a.innerText="",a.innerText=l):(a.value="",a.value=l),o.substring(l.length)},e)).pipe(ze(a=>pe(n.type(a))));case"other-input":return pe(n.focus()).pipe(ze(()=>pe(n.evaluate((a,o)=>{a.value=o,a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0}))},e))));case"unknown":throw new Error("Element cannot be filled out.")}})).pipe(Fn(s=>{throw n.dispose().catch(D),s}))),this.operators.retryAndRaceWithSignalAndTimer(i))}#l(e){let t=e==null?void 0:e.signal;return this._wait(e).pipe(this.operators.conditions([this.#s,this.#n],t),Pa(()=>this.emit(Zn.Action,void 0)),ze(i=>pe(i.hover()).pipe(Fn(n=>{throw i.dispose().catch(D),n}))),this.operators.retryAndRaceWithSignalAndTimer(t))}#c(e){let t=e==null?void 0:e.signal;return this._wait(e).pipe(this.operators.conditions([this.#s,this.#n],t),Pa(()=>this.emit(Zn.Action,void 0)),ze(i=>pe(i.evaluate((n,s,a)=>{s!==void 0&&(n.scrollTop=s),a!==void 0&&(n.scrollLeft=a)},e==null?void 0:e.scrollTop,e==null?void 0:e.scrollLeft)).pipe(Fn(n=>{throw i.dispose().catch(D),n}))),this.operators.retryAndRaceWithSignalAndTimer(t))}clone(){return this._clone()}async waitHandle(e){return await Dr(this._wait(e).pipe(this.operators.retryAndRaceWithSignalAndTimer(e==null?void 0:e.signal)))}async wait(e){let t={stack:[],error:void 0,hasError:!1};try{return await qI(t,await this.waitHandle(e),!1).jsonValue()}catch(i){t.error=i,t.hasError=!0}finally{UI(t)}}map(e){return new qa(this._clone(),t=>t.evaluateHandle(e))}filter(e){return new ja(this._clone(),async(t,i)=>(await t.frame.waitForFunction(e,{signal:i,timeout:this._timeout},t),!0))}filterHandle(e){return new ja(this._clone(),e)}mapHandle(e){return new qa(this._clone(),e)}click(e){return Dr(this.#a(e))}fill(e,t){return Dr(this.#o(e,t))}hover(e){return Dr(this.#l(e))}scroll(e){return Dr(this.#c(e))}}});var es,hh=I(()=>{xr();es=class extends Nt{#e;constructor(e){super(),this.#e=e,this.copyOptions(this.#e)}get delegate(){return this.#e}setTimeout(e){let t=super.setTimeout(e);return t.#e=this.#e.setTimeout(e),t}setVisibility(e){let t=super.setVisibility(e);return t.#e=t.#e.setVisibility(e),t}setWaitForEnabled(e){let t=super.setWaitForEnabled(e);return t.#e=this.#e.setWaitForEnabled(e),t}setEnsureElementIsInTheViewport(e){let t=super.setEnsureElementIsInTheViewport(e);return t.#e=this.#e.setEnsureElementIsInTheViewport(e),t}setWaitForStableBoundingBox(e){let t=super.setWaitForStableBoundingBox(e);return t.#e=this.#e.setWaitForStableBoundingBox(e),t}}});var ja,tb=I(()=>{Fr();hh();ja=class r extends es{#e;constructor(e,t){super(e),this.#e=t}_clone(){return new r(this.delegate.clone(),this.#e).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe(ze(t=>pe(Promise.resolve(this.#e(t,e==null?void 0:e.signal))).pipe(pr(i=>i),$t(()=>t))),Gi())}}});var ts,rb=I(()=>{Fr();xr();ts=class r extends Nt{static create(e,t){return new r(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}_clone(){return new r(this.#e,this.#t)}_wait(e){let t=e==null?void 0:e.signal;return Lr(()=>pe(this.#e.waitForFunction(this.#t,{timeout:this.timeout,signal:t}))).pipe(Gi())}}});var qa,ib=I(()=>{Fr();xr();qa=class r extends es{#e;constructor(e,t){super(e),this.#e=t}_clone(){return new r(this.delegate.clone(),this.#e).copyOptions(this)}_wait(e){return this.delegate._wait(e).pipe(ze(t=>pe(Promise.resolve(this.#e(t,e==null?void 0:e.signal)))))}}});var rs,nb=I(()=>{Fr();xr();rs=class r extends Nt{static create(e,t){return new r(e,t).setTimeout("getDefaultTimeout"in e?e.getDefaultTimeout():e.page().getDefaultTimeout())}#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}#r=e=>this.visibility?(()=>{switch(this.visibility){case"hidden":return Lr(()=>pe(e.isHidden()));case"visible":return Lr(()=>pe(e.isVisible()))}})().pipe(Xi(dr),Bn({delay:Ba}),Vi()):pi;_clone(){return new r(this.#e,this.#t).copyOptions(this)}_wait(e){let t=e==null?void 0:e.signal;return Lr(()=>pe(this.#e.waitForSelector(this.#t,{visible:!1,timeout:this._timeout,signal:t}))).pipe(pr(i=>i!==null),Gi(),this.operators.conditions([this.#r],t))}}});function $I(r){for(let e of r)if(!(e instanceof Nt))throw new Error("Unknown locator for race candidate");return r}var cl,sb=I(()=>{Fr();xr();cl=class r extends Nt{static create(e){let t=$I(e);return new r(t)}#e;constructor(e){super(),this.#e=e}_clone(){return new r(this.#e.map(e=>e.clone())).copyOptions(this)}_wait(e){return _y(...this.#e.map(t=>t._wait(e)))}}});var xr=I(()=>{eb();hh();tb();rb();ib();nb();sb()});var zI,Ae,wi,vi,He,xe,ll,ns=I(()=>{Fe();ol();Zc();hi();ae();le();gi();xr();zI=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},Ae=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},wi=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},vi=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i});(function(r){r.FrameNavigated=Symbol("Frame.FrameNavigated"),r.FrameSwapped=Symbol("Frame.FrameSwapped"),r.LifecycleEvent=Symbol("Frame.LifecycleEvent"),r.FrameNavigatedWithinDocument=Symbol("Frame.FrameNavigatedWithinDocument"),r.FrameDetached=Symbol("Frame.FrameDetached"),r.FrameSwappedByActivation=Symbol("Frame.FrameSwappedByActivation")})(He||(He={}));xe=Z(r=>`Attempted to use detached Frame '${r._id}'.`),ll=(()=>{var O,M,is,U;let r=de,e=[],t,i,n,s,a,o,c,l,u,d,p,m,f,h,g,w,v,_,b,P,T,R;return U=class extends r{constructor(){super();W(this,M);Ye(this,"_id",(zI(this,e),void 0));Ye(this,"_parentId");Ye(this,"worlds");Ye(this,"_name");Ye(this,"_hasStartedLoading",!1);W(this,O,void 0)}isOOPFrame(){throw new Error("Not implemented")}clearDocumentHandle(){Ue(this,O,void 0)}async frameElement(){let C={stack:[],error:void 0,hasError:!1};try{let y=this.parentFrame();if(!y)return null;let j=wi(C,await y.isolatedRealm().evaluateHandle(()=>document.querySelectorAll("iframe")),!1);for await(let N of Qc(j)){let ue={stack:[],error:void 0,hasError:!1};try{let we=wi(ue,N,!1);if((await we.contentFrame())._id===this._id)return we.move()}catch(we){ue.error=we,ue.hasError=!0}finally{vi(ue)}}return null}catch(y){C.error=y,C.hasError=!0}finally{vi(C)}}async evaluateHandle(C,...y){return C=Ee(this.evaluateHandle.name,C),await this.mainRealm().evaluateHandle(C,...y)}async evaluate(C,...y){return C=Ee(this.evaluate.name,C),await this.mainRealm().evaluate(C,...y)}locator(C){return typeof C=="string"?rs.create(this,C):ts.create(this,C)}async $(C){return await(await Le(this,M,is).call(this)).$(C)}async $$(C){return await(await Le(this,M,is).call(this)).$$(C)}async $eval(C,y,...j){return y=Ee(this.$eval.name,y),await(await Le(this,M,is).call(this)).$eval(C,y,...j)}async $$eval(C,y,...j){return y=Ee(this.$$eval.name,y),await(await Le(this,M,is).call(this)).$$eval(C,y,...j)}async $x(C){return await(await Le(this,M,is).call(this)).$x(C)}async waitForSelector(C,y={}){let{updatedSelector:j,QueryHandler:N}=Jn(C);return await N.waitFor(this,j,y)}async waitForXPath(C,y={}){return C.startsWith("//")&&(C=`.${C}`),await this.waitForSelector(`xpath/${C}`,y)}async waitForFunction(C,y={},...j){return await this.mainRealm().waitForFunction(C,y,...j)}async content(){return await this.evaluate($y)}name(){return this._name||""}isDetached(){return this.detached}get disposed(){return this.detached}async addScriptTag(C){let{content:y="",type:j}=C,{path:N}=C;if(+!!C.url+ +!!N+ +!!y!=1)throw new Error("Exactly one of `url`, `path`, or `content` must be specified.");return N&&(y=await(await Kn()).readFile(N,"utf8"),y+=`//# sourceURL=${N.replace(/\n/g,"")}`),j=j??"text/javascript",await this.mainRealm().transferHandle(await this.isolatedRealm().evaluateHandle(async({Deferred:ue},{url:we,id:Q,type:Ie,content:ve})=>{let Gt=ue.create(),Re=document.createElement("script");return Re.type=Ie,Re.text=ve,we?(Re.src=we,Re.addEventListener("load",()=>Gt.resolve(),{once:!0}),Re.addEventListener("error",ri=>{Gt.reject(new Error(ri.message??"Could not load script"))},{once:!0})):Gt.resolve(),Q&&(Re.id=Q),document.head.appendChild(Re),await Gt.valueOrThrow(),Re},et.create(ue=>ue.puppeteerUtil),{...C,type:j,content:y}))}async addStyleTag(C){let{content:y=""}=C,{path:j}=C;if(+!!C.url+ +!!j+ +!!y!=1)throw new Error("Exactly one of `url`, `path`, or `content` must be specified.");return j&&(y=await(await Kn()).readFile(j,"utf8"),y+="/*# sourceURL="+j.replace(/\n/g,"")+"*/",C.content=y),await this.mainRealm().transferHandle(await this.isolatedRealm().evaluateHandle(async({Deferred:N},{url:ue,content:we})=>{let Q=N.create(),Ie;if(!ue)Ie=document.createElement("style"),Ie.appendChild(document.createTextNode(we));else{let ve=document.createElement("link");ve.rel="stylesheet",ve.href=ue,Ie=ve}return Ie.addEventListener("load",()=>{Q.resolve()},{once:!0}),Ie.addEventListener("error",ve=>{Q.reject(new Error(ve.message??"Could not load style"))},{once:!0}),document.head.appendChild(Ie),await Q.valueOrThrow(),Ie},et.create(N=>N.puppeteerUtil),C))}async click(C,y={}){let j={stack:[],error:void 0,hasError:!1};try{let N=wi(j,await this.$(C),!1);S(N,`No element found for selector: ${C}`),await N.click(y),await N.dispose()}catch(N){j.error=N,j.hasError=!0}finally{vi(j)}}async focus(C){let y={stack:[],error:void 0,hasError:!1};try{let j=wi(y,await this.$(C),!1);S(j,`No element found for selector: ${C}`),await j.focus()}catch(j){y.error=j,y.hasError=!0}finally{vi(y)}}async hover(C){let y={stack:[],error:void 0,hasError:!1};try{let j=wi(y,await this.$(C),!1);S(j,`No element found for selector: ${C}`),await j.hover()}catch(j){y.error=j,y.hasError=!0}finally{vi(y)}}async select(C,...y){let j={stack:[],error:void 0,hasError:!1};try{let N=wi(j,await this.$(C),!1);return S(N,`No element found for selector: ${C}`),await N.select(...y)}catch(N){j.error=N,j.hasError=!0}finally{vi(j)}}async tap(C){let y={stack:[],error:void 0,hasError:!1};try{let j=wi(y,await this.$(C),!1);S(j,`No element found for selector: ${C}`),await j.tap()}catch(j){y.error=j,y.hasError=!0}finally{vi(y)}}async type(C,y,j){let N={stack:[],error:void 0,hasError:!1};try{let ue=wi(N,await this.$(C),!1);S(ue,`No element found for selector: ${C}`),await ue.type(y,j)}catch(ue){N.error=ue,N.hasError=!0}finally{vi(N)}}async waitForTimeout(C){return await new Promise(y=>{setTimeout(y,C)})}async title(){return await this.isolatedRealm().evaluate(()=>document.title)}waitForDevicePrompt(){throw new Error("Not implemented")}exposeFunction(){throw new Error("Not implemented")}},O=new WeakMap,M=new WeakSet,is=function(){return A(this,O)||Ue(this,O,this.isolatedRealm().evaluateHandle(()=>document).then(C=>this.mainRealm().transferHandle(C))),A(this,O)},(()=>{let C=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;t=[xe],i=[xe],n=[xe],s=[xe],a=[xe],o=[xe],c=[xe],l=[xe],u=[xe],d=[xe],p=[xe],m=[xe],f=[xe],h=[xe],g=[xe],w=[xe],v=[xe],_=[xe],b=[xe],P=[xe],T=[xe],R=[xe],Ae(U,null,t,{kind:"method",name:"frameElement",static:!1,private:!1,access:{has:y=>"frameElement"in y,get:y=>y.frameElement},metadata:C},null,e),Ae(U,null,i,{kind:"method",name:"evaluateHandle",static:!1,private:!1,access:{has:y=>"evaluateHandle"in y,get:y=>y.evaluateHandle},metadata:C},null,e),Ae(U,null,n,{kind:"method",name:"evaluate",static:!1,private:!1,access:{has:y=>"evaluate"in y,get:y=>y.evaluate},metadata:C},null,e),Ae(U,null,s,{kind:"method",name:"locator",static:!1,private:!1,access:{has:y=>"locator"in y,get:y=>y.locator},metadata:C},null,e),Ae(U,null,a,{kind:"method",name:"$",static:!1,private:!1,access:{has:y=>"$"in y,get:y=>y.$},metadata:C},null,e),Ae(U,null,o,{kind:"method",name:"$$",static:!1,private:!1,access:{has:y=>"$$"in y,get:y=>y.$$},metadata:C},null,e),Ae(U,null,c,{kind:"method",name:"$eval",static:!1,private:!1,access:{has:y=>"$eval"in y,get:y=>y.$eval},metadata:C},null,e),Ae(U,null,l,{kind:"method",name:"$$eval",static:!1,private:!1,access:{has:y=>"$$eval"in y,get:y=>y.$$eval},metadata:C},null,e),Ae(U,null,u,{kind:"method",name:"$x",static:!1,private:!1,access:{has:y=>"$x"in y,get:y=>y.$x},metadata:C},null,e),Ae(U,null,d,{kind:"method",name:"waitForSelector",static:!1,private:!1,access:{has:y=>"waitForSelector"in y,get:y=>y.waitForSelector},metadata:C},null,e),Ae(U,null,p,{kind:"method",name:"waitForXPath",static:!1,private:!1,access:{has:y=>"waitForXPath"in y,get:y=>y.waitForXPath},metadata:C},null,e),Ae(U,null,m,{kind:"method",name:"waitForFunction",static:!1,private:!1,access:{has:y=>"waitForFunction"in y,get:y=>y.waitForFunction},metadata:C},null,e),Ae(U,null,f,{kind:"method",name:"content",static:!1,private:!1,access:{has:y=>"content"in y,get:y=>y.content},metadata:C},null,e),Ae(U,null,h,{kind:"method",name:"addScriptTag",static:!1,private:!1,access:{has:y=>"addScriptTag"in y,get:y=>y.addScriptTag},metadata:C},null,e),Ae(U,null,g,{kind:"method",name:"addStyleTag",static:!1,private:!1,access:{has:y=>"addStyleTag"in y,get:y=>y.addStyleTag},metadata:C},null,e),Ae(U,null,w,{kind:"method",name:"click",static:!1,private:!1,access:{has:y=>"click"in y,get:y=>y.click},metadata:C},null,e),Ae(U,null,v,{kind:"method",name:"focus",static:!1,private:!1,access:{has:y=>"focus"in y,get:y=>y.focus},metadata:C},null,e),Ae(U,null,_,{kind:"method",name:"hover",static:!1,private:!1,access:{has:y=>"hover"in y,get:y=>y.hover},metadata:C},null,e),Ae(U,null,b,{kind:"method",name:"select",static:!1,private:!1,access:{has:y=>"select"in y,get:y=>y.select},metadata:C},null,e),Ae(U,null,P,{kind:"method",name:"tap",static:!1,private:!1,access:{has:y=>"tap"in y,get:y=>y.tap},metadata:C},null,e),Ae(U,null,T,{kind:"method",name:"type",static:!1,private:!1,access:{has:y=>"type"in y,get:y=>y.type},metadata:C},null,e),Ae(U,null,R,{kind:"method",name:"title",static:!1,private:!1,access:{has:y=>"title"in y,get:y=>y.title},metadata:C},null,e),C&&Object.defineProperty(U,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:C})})(),U})()});function fh(r){let e=[];for(let t in r){let i=r[t];if(!Object.is(i,void 0)){let n=Array.isArray(i)?i:[i];e.push(...n.map(s=>({name:t,value:s+""})))}}return e}var ss,tr,ab,ul=I(()=>{ss=class{_requestId="";_interceptionId;_failureText=null;_response=null;_fromMemoryCache=!1;_redirectChain=[];get client(){throw new Error("Not implemented")}constructor(){}url(){throw new Error("Not implemented")}continueRequestOverrides(){throw new Error("Not implemented")}responseForRequest(){throw new Error("Not implemented")}abortErrorReason(){throw new Error("Not implemented")}interceptResolutionState(){throw new Error("Not implemented")}isInterceptResolutionHandled(){throw new Error("Not implemented")}enqueueInterceptAction(){throw new Error("Not implemented")}async finalizeInterceptions(){throw new Error("Not implemented")}resourceType(){throw new Error("Not implemented")}method(){throw new Error("Not implemented")}postData(){throw new Error("Not implemented")}headers(){throw new Error("Not implemented")}response(){throw new Error("Not implemented")}frame(){throw new Error("Not implemented")}isNavigationRequest(){throw new Error("Not implemented")}initiator(){throw new Error("Not implemented")}redirectChain(){throw new Error("Not implemented")}failure(){throw new Error("Not implemented")}async continue(){throw new Error("Not implemented")}async respond(){throw new Error("Not implemented")}async abort(){throw new Error("Not implemented")}};(function(r){r.Abort="abort",r.Respond="respond",r.Continue="continue",r.Disabled="disabled",r.None="none",r.AlreadyHandled="already-handled"})(tr||(tr={}));ab={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"}});var as,dl=I(()=>{as=class{constructor(){}_resolveBody(e){throw new Error("Not implemented")}remoteAddress(){throw new Error("Not implemented")}url(){throw new Error("Not implemented")}ok(){let e=this.status();return e===0||e>=200&&e<=299}status(){throw new Error("Not implemented")}statusText(){throw new Error("Not implemented")}headers(){throw new Error("Not implemented")}securityDetails(){throw new Error("Not implemented")}timing(){throw new Error("Not implemented")}buffer(){throw new Error("Not implemented")}async text(){return(await this.buffer()).toString("utf8")}async json(){let e=await this.text();return JSON.parse(e)}request(){throw new Error("Not implemented")}fromCache(){throw new Error("Not implemented")}fromServiceWorker(){throw new Error("Not implemented")}frame(){throw new Error("Not implemented")}}});var os,Se,cs,ls,pl=I(()=>{os=class{constructor(){}},Se=Object.freeze({Left:"left",Right:"right",Middle:"middle",Back:"back",Forward:"forward"}),cs=class{constructor(){}async reset(){throw new Error("Not implemented")}async move(){throw new Error("Not implemented")}async down(){throw new Error("Not implemented")}async up(){throw new Error("Not implemented")}async click(){throw new Error("Not implemented")}async wheel(){throw new Error("Not implemented")}async drag(){throw new Error("Not implemented")}async dragEnter(){throw new Error("Not implemented")}async dragOver(){throw new Error("Not implemented")}async drop(){throw new Error("Not implemented")}async dragAndDrop(){throw new Error("Not implemented")}},ls=class{constructor(){}async tap(){throw new Error("Not implemented")}async touchStart(){throw new Error("Not implemented")}async touchMove(){throw new Error("Not implemented")}async touchEnd(){throw new Error("Not implemented")}}});var oe,qr,Kt=I(()=>{Fe();(function(r){r.Disconnected=Symbol("CDPSession.Disconnected"),r.Swapped=Symbol("CDPSession.Swapped"),r.Ready=Symbol("CDPSession.Ready"),r.SessionAttached="sessionattached",r.SessionDetached="sessiondetached"})(oe||(oe={}));qr=class extends de{constructor(){super()}connection(){throw new Error("Not implemented")}parentSession(){}send(){throw new Error("Not implemented")}async detach(){throw new Error("Not implemented")}id(){throw new Error("Not implemented")}}});async function mh(r){if(["Invalid header"].includes(r.originalMessage))throw r;D(r)}var Ua,KI,gh=I(()=>{ul();ae();le();Ua=class extends ss{#e;#t;#r;#i=!1;#n;#s;#a;#o;#l={};#c;#u;#h=null;#p=null;#d={action:tr.None};#m;#f;get client(){return this.#e}constructor(e,t,i,n,s,a){super(),this.#e=e,this._requestId=s.requestId,this.#t=s.requestId===s.loaderId&&s.type==="Document",this._interceptionId=i,this.#r=n,this.#n=s.request.url,this.#s=(s.type||"other").toLowerCase(),this.#a=s.request.method,this.#o=s.request.postData,this.#c=t,this._redirectChain=a,this.#u={},this.#m=[],this.#f=s.initiator;for(let[o,c]of Object.entries(s.request.headers))this.#l[o.toLowerCase()]=c}url(){return this.#n}continueRequestOverrides(){return S(this.#r,"Request Interception is not enabled!"),this.#u}responseForRequest(){return S(this.#r,"Request Interception is not enabled!"),this.#h}abortErrorReason(){return S(this.#r,"Request Interception is not enabled!"),this.#p}interceptResolutionState(){return this.#r?this.#i?{action:tr.AlreadyHandled}:{...this.#d}:{action:tr.Disabled}}isInterceptResolutionHandled(){return this.#i}enqueueInterceptAction(e){this.#m.push(e)}async finalizeInterceptions(){await this.#m.reduce((t,i)=>t.then(i),Promise.resolve());let{action:e}=this.interceptResolutionState();switch(e){case"abort":return await this.#w(this.#p);case"respond":if(this.#h===null)throw new Error("Response is missing for the interception");return await this.#g(this.#h);case"continue":return await this.#x(this.#u)}}resourceType(){return this.#s}method(){return this.#a}postData(){return this.#o}headers(){return this.#l}response(){return this._response}frame(){return this.#c}isNavigationRequest(){return this.#t}initiator(){return this.#f}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={},t){if(!this.#n.startsWith("data:")){if(S(this.#r,"Request Interception is not enabled!"),S(!this.#i,"Request is already handled!"),t===void 0)return await this.#x(e);if(this.#u=e,this.#d.priority===void 0||t>this.#d.priority){this.#d={action:tr.Continue,priority:t};return}if(t===this.#d.priority){if(this.#d.action==="abort"||this.#d.action==="respond")return;this.#d.action=tr.Continue}}}async#x(e={}){let{url:t,method:i,postData:n,headers:s}=e;this.#i=!0;let a=n?Buffer.from(n).toString("base64"):void 0;if(this._interceptionId===void 0)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.continueRequest");await this.#e.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:i,postData:a,headers:s?fh(s):void 0}).catch(o=>(this.#i=!1,mh(o)))}async respond(e,t){if(!this.#n.startsWith("data:")){if(S(this.#r,"Request Interception is not enabled!"),S(!this.#i,"Request is already handled!"),t===void 0)return await this.#g(e);if(this.#h=e,this.#d.priority===void 0||t>this.#d.priority){this.#d={action:tr.Respond,priority:t};return}if(t===this.#d.priority){if(this.#d.action==="abort")return;this.#d.action=tr.Respond}}}async#g(e){this.#i=!0;let t=e.body&&Ke(e.body)?Buffer.from(e.body):e.body||null,i={};if(e.headers)for(let s of Object.keys(e.headers)){let a=e.headers[s];i[s.toLowerCase()]=Array.isArray(a)?a.map(o=>String(o)):String(a)}e.contentType&&(i["content-type"]=e.contentType),t&&!("content-length"in i)&&(i["content-length"]=String(Buffer.byteLength(t)));let n=e.status||200;if(this._interceptionId===void 0)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.fulfillRequest");await this.#e.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:n,responsePhrase:ab[n],responseHeaders:fh(i),body:t?t.toString("base64"):void 0}).catch(s=>(this.#i=!1,mh(s)))}async abort(e="failed",t){if(this.#n.startsWith("data:"))return;let i=KI[e];if(S(i,"Unknown error code: "+e),S(this.#r,"Request Interception is not enabled!"),S(!this.#i,"Request is already handled!"),t===void 0)return await this.#w(i);if(this.#p=i,this.#d.priority===void 0||t>=this.#d.priority){this.#d={action:tr.Abort,priority:t};return}}async#w(e){if(this.#i=!0,this._interceptionId===void 0)throw new Error("HTTPRequest is missing _interceptionId needed for Fetch.failRequest");await this.#e.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:e||"Failed"}).catch(mh)}},KI={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"}});var hl,xh=I(()=>{hl=class{#e;#t;#r;#i;#n;#s;constructor(e){this.#e=e.subjectName,this.#t=e.issuer,this.#r=e.validFrom,this.#i=e.validTo,this.#n=e.protocol,this.#s=e.sanList}issuer(){return this.#t}validFrom(){return this.#r}validTo(){return this.#i}protocol(){return this.#n}subjectName(){return this.#e}subjectAlternativeNames(){return this.#s}}});var $a,wh=I(()=>{dl();bt();xh();Te();$a=class extends as{#e;#t;#r=null;#i=z.create();#n;#s;#a;#o;#l;#c;#u={};#h;#p;constructor(e,t,i,n){super(),this.#e=e,this.#t=t,this.#n={ip:i.remoteIPAddress,port:i.remotePort},this.#a=this.#d(n)||i.statusText,this.#o=t.url(),this.#l=!!i.fromDiskCache,this.#c=!!i.fromServiceWorker,this.#s=n?n.statusCode:i.status;let s=n?n.headers:i.headers;for(let[a,o]of Object.entries(s))this.#u[a.toLowerCase()]=o;this.#h=i.securityDetails?new hl(i.securityDetails):null,this.#p=i.timing||null}#d(e){if(!e||!e.headersText)return;let t=e.headersText.split("\r",1)[0];if(!t)return;let i=t.match(/[^ ]* [^ ]* (.*)/);if(!i)return;let n=i[1];if(n)return n}_resolveBody(e){return e?this.#i.resolve(e):this.#i.resolve()}remoteAddress(){return this.#n}url(){return this.#o}status(){return this.#s}statusText(){return this.#a}headers(){return this.#u}securityDetails(){return this.#h}timing(){return this.#p}buffer(){return this.#r||(this.#r=this.#i.valueOrThrow().then(async e=>{if(e)throw e;try{let t=await this.#e.send("Network.getResponseBody",{requestId:this.#t._requestId});return Buffer.from(t.body,t.base64Encoded?"base64":"utf8")}catch(t){throw t instanceof Tt&&t.originalMessage==="No resource with given identifier found"?new Tt("Could not load body for this request. This might happen if the request is a preflight request."):t}})),this.#r}request(){return this.#t}fromCache(){return this.#l||this.#t._fromMemoryCache}fromServiceWorker(){return this.#c}frame(){return this.#t.frame()}}});var fl,vh=I(()=>{fl=class{#e=new Map;#t=new Map;#r=new Map;#i=new Map;#n=new Map;#s=new Map;forget(e){this.#e.delete(e),this.#t.delete(e),this.#s.delete(e),this.#n.delete(e),this.#i.delete(e)}responseExtraInfo(e){return this.#i.has(e)||this.#i.set(e,[]),this.#i.get(e)}queuedRedirectInfo(e){return this.#n.has(e)||this.#n.set(e,[]),this.#n.get(e)}queueRedirectInfo(e,t){this.queuedRedirectInfo(e).push(t)}takeQueuedRedirectInfo(e){return this.queuedRedirectInfo(e).shift()}inFlightRequestsCount(){let e=0;for(let t of this.#r.values())t.response()||e++;return e}storeRequestWillBeSent(e,t){this.#e.set(e,t)}getRequestWillBeSent(e){return this.#e.get(e)}forgetRequestWillBeSent(e){this.#e.delete(e)}getRequestPaused(e){return this.#t.get(e)}forgetRequestPaused(e){this.#t.delete(e)}storeRequestPaused(e,t){this.#t.set(e,t)}getRequest(e){return this.#r.get(e)}storeRequest(e,t){this.#r.set(e,t)}forgetRequest(e){this.#r.delete(e)}getQueuedEventGroup(e){return this.#s.get(e)}queueEventGroup(e,t){this.#s.set(e,t)}forgetQueuedEventGroup(e){this.#s.delete(e)}}});var ie,ml,yi=I(()=>{Kt();Fe();ae();le();Ce();gh();wh();vh();(function(r){r.Request=Symbol("NetworkManager.Request"),r.RequestServedFromCache=Symbol("NetworkManager.RequestServedFromCache"),r.Response=Symbol("NetworkManager.Response"),r.RequestFailed=Symbol("NetworkManager.RequestFailed"),r.RequestFinished=Symbol("NetworkManager.RequestFinished")})(ie||(ie={}));ml=class extends de{#e;#t;#r=new fl;#i;#n;#s=new Set;#a=!1;#o=!1;#l;#c;#u;#h;#p=[["Fetch.requestPaused",this.#E],["Fetch.authRequired",this.#_],["Network.requestWillBeSent",this.#b],["Network.requestServedFromCache",this.#R],["Network.responseReceived",this.#N],["Network.loadingFinished",this.#A],["Network.loadingFailed",this.#L],["Network.responseReceivedExtraInfo",this.#D],[oe.Disconnected,this.#m]];#d=new Map;constructor(e,t){super(),this.#e=e,this.#t=t}async addClient(e){if(this.#d.has(e))return;let t=new ot;this.#d.set(e,t);for(let[i,n]of this.#p)t.use(new ge(e,i,s=>n.bind(this)(e,s)));await Promise.all([this.#e?e.send("Security.setIgnoreCertificateErrors",{ignore:!0}):null,e.send("Network.enable"),this.#f(e),this.#g(e),this.#v(e),this.#y(e),this.#w(e)])}async#m(e){var t;(t=this.#d.get(e))==null||t.dispose(),this.#d.delete(e)}async authenticate(e){this.#n=e;let t=this.#a||!!this.#n;t!==this.#o&&(this.#o=t,await this.#x(this.#y.bind(this)))}async setExtraHTTPHeaders(e){this.#i={};for(let t of Object.keys(e)){let i=e[t];S(Ke(i),`Expected value of header "${t}" to be String, but "${typeof i}" is found.`),this.#i[t.toLowerCase()]=i}await this.#x(this.#f.bind(this))}async#f(e){this.#i!==void 0&&await e.send("Network.setExtraHTTPHeaders",{headers:this.#i})}extraHTTPHeaders(){return Object.assign({},this.#i)}inFlightRequestsCount(){return this.#r.inFlightRequestsCount()}async setOfflineMode(e){this.#c||(this.#c={offline:!1,upload:-1,download:-1,latency:0}),this.#c.offline=e,await this.#x(this.#g.bind(this))}async emulateNetworkConditions(e){this.#c||(this.#c={offline:!1,upload:-1,download:-1,latency:0}),this.#c.upload=e?e.upload:-1,this.#c.download=e?e.download:-1,this.#c.latency=e?e.latency:0,await this.#x(this.#g.bind(this))}async#x(e){await Promise.all(Array.from(this.#d.keys()).map(t=>e(t)))}async#g(e){this.#c!==void 0&&await e.send("Network.emulateNetworkConditions",{offline:this.#c.offline,latency:this.#c.latency,uploadThroughput:this.#c.upload,downloadThroughput:this.#c.download})}async setUserAgent(e,t){this.#u=e,this.#h=t,await this.#x(this.#w.bind(this))}async#w(e){this.#u!==void 0&&await e.send("Network.setUserAgentOverride",{userAgent:this.#u,userAgentMetadata:this.#h})}async setCacheEnabled(e){this.#l=!e,await this.#x(this.#v.bind(this))}async setRequestInterception(e){this.#a=e;let t=this.#a||!!this.#n;t!==this.#o&&(this.#o=t,await this.#x(this.#y.bind(this)))}async#y(e){this.#l===void 0&&(this.#l=!1),this.#o?await Promise.all([this.#v(e),e.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this.#v(e),e.send("Fetch.disable")])}async#v(e){this.#l!==void 0&&await e.send("Network.setCacheDisabled",{cacheDisabled:this.#l})}#b(e,t){if(this.#a&&!t.request.url.startsWith("data:")){let{requestId:i}=t;this.#r.storeRequestWillBeSent(i,t);let n=this.#r.getRequestPaused(i);if(n){let{requestId:s}=n;this.#k(t,n),this.#C(e,t,s),this.#r.forgetRequestPaused(i)}return}this.#C(e,t,void 0)}#_(e,t){let i="Default";this.#s.has(t.requestId)?i="CancelAuth":this.#n&&(i="ProvideCredentials",this.#s.add(t.requestId));let{username:n,password:s}=this.#n||{username:void 0,password:void 0};e.send("Fetch.continueWithAuth",{requestId:t.requestId,authChallengeResponse:{response:i,username:n,password:s}}).catch(D)}#E(e,t){!this.#a&&this.#o&&e.send("Fetch.continueRequest",{requestId:t.requestId}).catch(D);let{networkId:i,requestId:n}=t;if(!i){this.#T(e,t);return}let s=(()=>{let a=this.#r.getRequestWillBeSent(i);if(a&&(a.request.url!==t.request.url||a.request.method!==t.request.method)){this.#r.forgetRequestWillBeSent(i);return}return a})();s?(this.#k(s,t),this.#C(e,s,n)):this.#r.storeRequestPaused(i,t)}#k(e,t){e.request.headers={...e.request.headers,...t.request.headers}}#T(e,t){let i=t.frameId?this.#t.frame(t.frameId):null,n=new Ua(e,i,t.requestId,this.#a,t,[]);this.emit(ie.Request,n),n.finalizeInterceptions()}#C(e,t,i){let n=[];if(t.redirectResponse){let o=null;if(t.redirectHasExtraInfo&&(o=this.#r.responseExtraInfo(t.requestId).shift(),!o)){this.#r.queueRedirectInfo(t.requestId,{event:t,fetchRequestId:i});return}let c=this.#r.getRequest(t.requestId);c&&(this.#S(e,c,t.redirectResponse,o),n=c._redirectChain)}let s=t.frameId?this.#t.frame(t.frameId):null,a=new Ua(e,s,i,this.#a,t,n);this.#r.storeRequest(t.requestId,a),this.emit(ie.Request,a),a.finalizeInterceptions()}#R(e,t){let i=this.#r.getRequest(t.requestId);i&&(i._fromMemoryCache=!0),this.emit(ie.RequestServedFromCache,i)}#S(e,t,i,n){let s=new $a(e,t,i,n);t._response=s,t._redirectChain.push(t),s._resolveBody(new Error("Response body is unavailable for redirect responses")),this.#I(t,!1),this.emit(ie.Response,s),this.emit(ie.RequestFinished,t)}#P(e,t,i){let n=this.#r.getRequest(t.requestId);if(!n)return;this.#r.responseExtraInfo(t.requestId).length&&D(new Error("Unexpected extraInfo events for request "+t.requestId)),t.response.fromDiskCache&&(i=null);let a=new $a(e,n,t.response,i);n._response=a,this.emit(ie.Response,a)}#N(e,t){let i=this.#r.getRequest(t.requestId),n=null;if(i&&!i._fromMemoryCache&&t.hasExtraInfo&&(n=this.#r.responseExtraInfo(t.requestId).shift(),!n)){this.#r.queueEventGroup(t.requestId,{responseReceivedEvent:t});return}this.#P(e,t,n)}#D(e,t){let i=this.#r.takeQueuedRedirectInfo(t.requestId);if(i){this.#r.responseExtraInfo(t.requestId).push(t),this.#C(e,i.event,i.fetchRequestId);return}let n=this.#r.getQueuedEventGroup(t.requestId);if(n){this.#r.forgetQueuedEventGroup(t.requestId),this.#P(e,n.responseReceivedEvent,t),n.loadingFinishedEvent&&this.#O(n.loadingFinishedEvent),n.loadingFailedEvent&&this.#M(n.loadingFailedEvent);return}this.#r.responseExtraInfo(t.requestId).push(t)}#I(e,t){let i=e._requestId,n=e._interceptionId;this.#r.forgetRequest(i),n!==void 0&&this.#s.delete(n),t&&this.#r.forget(i)}#A(e,t){let i=this.#r.getQueuedEventGroup(t.requestId);i?i.loadingFinishedEvent=t:this.#O(t)}#O(e){var i;let t=this.#r.getRequest(e.requestId);t&&(t.response()&&((i=t.response())==null||i._resolveBody(null)),this.#I(t,!0),this.emit(ie.RequestFinished,t))}#L(e,t){let i=this.#r.getQueuedEventGroup(t.requestId);i?i.loadingFailedEvent=t:this.#M(t)}#M(e){let t=this.#r.getRequest(e.requestId);if(!t)return;t._failureText=e.errorText;let i=t.response();i&&i._resolveBody(null),this.#I(t,!0),this.emit(ie.RequestFailed,t)}}});var ob,yh=I(()=>{ob={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}}});function us(r,e="in"){if(typeof r>"u")return;let t;if(Fy(r))t=r;else if(Ke(r)){let i=r,n=i.substring(i.length-2).toLowerCase(),s="";n in bh?s=i.substring(0,i.length-2):(n="px",s=i);let a=Number(s);S(!isNaN(a),"Failed to parse parameter value: "+i),t=a*bh[n]}else throw new Error("page.pdf() Cannot handle parameter type: "+typeof r);return t/bh[e]}function VI(r){return{...r.width<0?{x:r.x+r.width,width:-r.width}:{x:r.x,width:r.width},...r.height<0?{y:r.y+r.height,height:-r.height}:{y:r.y,height:r.height},scale:r.scale}}function GI(r){let e=Math.round(r.x),t=Math.round(r.y),i=Math.round(r.width+r.x-e),n=Math.round(r.height+r.y-t);return{x:e,y:t,width:i,height:n,scale:r.scale}}var HI,WI,cb,lb,gl,bh,xl=I(()=>{Fr();yi();bt();Fe();yh();ae();le();gi();Ce();xr();HI=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},WI=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},cb=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},lb=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),gl=(()=>{var i,n;let r=de,e=[],t;return n=class extends r{constructor(){super();Ye(this,"_isDragging",(HI(this,e),!1));W(this,i,new WeakMap)}isServiceWorkerBypassed(){throw new Error("Not implemented")}isDragInterceptionEnabled(){throw new Error("Not implemented")}isJavaScriptEnabled(){throw new Error("Not implemented")}on(o,c){if(o!=="request")return super.on(o,c);let l=A(this,i).get(c);return l===void 0&&(l=u=>{u.enqueueInterceptAction(()=>c(u))},A(this,i).set(c,l)),super.on(o,l)}off(o,c){return o==="request"&&(c=A(this,i).get(c)||c),super.off(o,c)}waitForFileChooser(){throw new Error("Not implemented")}async setGeolocation(){throw new Error("Not implemented")}target(){throw new Error("Not implemented")}createCDPSession(){throw new Error("Not implemented")}get touchscreen(){throw new Error("Not implemented")}workers(){throw new Error("Not implemented")}async setRequestInterception(){throw new Error("Not implemented")}async setBypassServiceWorker(){throw new Error("Not implemented")}async setDragInterception(){throw new Error("Not implemented")}setOfflineMode(){throw new Error("Not implemented")}emulateNetworkConditions(){throw new Error("Not implemented")}locator(o){return typeof o=="string"?rs.create(this,o):ts.create(this,o)}locatorRace(o){return Nt.race(o)}async $(o){return await this.mainFrame().$(o)}async $$(o){return await this.mainFrame().$$(o)}async evaluateHandle(o,...c){return o=Ee(this.evaluateHandle.name,o),await this.mainFrame().evaluateHandle(o,...c)}async $eval(o,c,...l){return c=Ee(this.$eval.name,c),await this.mainFrame().$eval(o,c,...l)}async $$eval(o,c,...l){return c=Ee(this.$$eval.name,c),await this.mainFrame().$$eval(o,c,...l)}async $x(o){return await this.mainFrame().$x(o)}async cookies(){throw new Error("Not implemented")}async deleteCookie(){throw new Error("Not implemented")}async setCookie(){throw new Error("Not implemented")}async addScriptTag(o){return await this.mainFrame().addScriptTag(o)}async addStyleTag(o){return await this.mainFrame().addStyleTag(o)}async removeExposedFunction(){throw new Error("Not implemented")}async authenticate(){throw new Error("Not implemented")}async setExtraHTTPHeaders(){throw new Error("Not implemented")}async metrics(){throw new Error("Not implemented")}url(){return this.mainFrame().url()}async content(){return await this.mainFrame().content()}async setContent(o,c){await this.mainFrame().setContent(o,c)}async goto(o,c){return await this.mainFrame().goto(o,c)}async waitForNavigation(o={}){return await this.mainFrame().waitForNavigation(o)}async _waitForNetworkIdle(o,c,l,u){await Dr(Ca(Qt(o,ie.Request),Qt(o,ie.Response),Qt(o,ie.RequestFailed)).pipe(Cy(null),pr(()=>o.inFlightRequestsCount()===0),Ty(d=>vy(d).pipe(ky(c))),Ta(Ma(l),pe(u.valueOrThrow()))))}async waitForFrame(o,c={}){let{timeout:l=this.getDefaultTimeout()}=c;return Ke(o)&&(o=u=>o===u.url()),await Dr(Ca(Qt(this,"frameattached"),Qt(this,"framenavigated"),pe(this.frames())).pipe(Py(o),Xi(),Ta(Ma(l),Qt(this,"close").pipe($t(()=>{throw new ct("Page closed.")})))))}async goBack(){throw new Error("Not implemented")}async goForward(){throw new Error("Not implemented")}async emulate(o){await Promise.all([this.setUserAgent(o.userAgent),this.setViewport(o.viewport)])}async setJavaScriptEnabled(){throw new Error("Not implemented")}async emulateMediaType(){throw new Error("Not implemented")}async emulateCPUThrottling(){throw new Error("Not implemented")}async emulateMediaFeatures(){throw new Error("Not implemented")}async emulateTimezone(){throw new Error("Not implemented")}async emulateIdleState(){throw new Error("Not implemented")}async emulateVisionDeficiency(){throw new Error("Not implemented")}async evaluate(o,...c){return o=Ee(this.evaluate.name,o),await this.mainFrame().evaluate(o,...c)}async _maybeWriteBufferToFile(o,c){if(!o)return;await(await Kn()).writeFile(o,c)}async screenshot(o={}){let c={stack:[],error:void 0,hasError:!1};try{await this.bringToFront();let l={...o,clip:o.clip?{...o.clip}:void 0};if(l.type===void 0&&l.path!==void 0){let m=l.path;switch(m.slice(m.lastIndexOf(".")+1).toLowerCase()){case"png":l.type="png";break;case"jpeg":case"jpg":l.type="jpeg";break;case"webp":l.type="webp";break}}l.quality&&(S(l.type==="jpeg"||l.type==="webp",`options.quality is unsupported for the ${l.type} screenshots`),S(typeof l.quality=="number",`Expected options.quality to be a number but found ${typeof l.quality}`),S(Number.isInteger(l.quality),"Expected options.quality to be an integer"),S(l.quality>=0&&l.quality<=100,`Expected options.quality to be between 0 and 100 (inclusive), got ${l.quality}`)),S(!l.clip||!l.fullPage,"options.clip and options.fullPage are exclusive"),l.clip&&(S(typeof l.clip.x=="number",`Expected options.clip.x to be a number but found ${typeof l.clip.x}`),S(typeof l.clip.y=="number",`Expected options.clip.y to be a number but found ${typeof l.clip.y}`),S(typeof l.clip.width=="number",`Expected options.clip.width to be a number but found ${typeof l.clip.width}`),S(typeof l.clip.height=="number",`Expected options.clip.height to be a number but found ${typeof l.clip.height}`),S(l.clip.width!==0,"Expected options.clip.width not to be 0."),S(l.clip.height!==0,"Expected options.clip.height not to be 0.")),l.captureBeyondViewport??=!0,l.allowViewportExpansion??=l.captureBeyondViewport,l.clip=l.clip&&GI(VI(l.clip));let u=cb(c,new Wi,!0);if(l.allowViewportExpansion||l.captureBeyondViewport)if(l.fullPage){let m=await this.mainFrame().isolatedRealm().evaluate(()=>{let{scrollHeight:f,scrollWidth:h}=document.documentElement,{height:g,width:w}=window.visualViewport;return{height:Math.max(f,g),width:Math.max(h,w)}});l.clip={...m,x:0,y:0},u.use(await this._createTemporaryViewportContainingBox(l.clip))}else l.clip&&!l.captureBeyondViewport?u.use(l.clip&&await this._createTemporaryViewportContainingBox(l.clip)):l.clip||(l.captureBeyondViewport=!1);let d=await this._screenshot(l);if(l.encoding==="base64")return d;let p=Buffer.from(d,"base64");return await this._maybeWriteBufferToFile(l.path,p),p}catch(l){c.error=l,c.hasError=!0}finally{let l=lb(c);l&&await l}}async _createTemporaryViewportContainingBox(o){let c={stack:[],error:void 0,hasError:!1};try{let l=await this.mainFrame().isolatedRealm().evaluate(()=>({pageLeft:window.visualViewport.pageLeft,pageTop:window.visualViewport.pageTop,width:window.visualViewport.width,height:window.visualViewport.height})),u=cb(c,new Wi,!0);if((o.x<l.pageLeft||o.y<l.pageTop)&&(await this.evaluate((d,p)=>{window.scroll({left:d,top:p,behavior:"instant"})},Math.floor(o.x),Math.floor(o.y)),u.defer(async()=>{await this.evaluate((d,p)=>{window.scroll({left:d,top:p,behavior:"instant"})},l.pageLeft,l.pageTop).catch(D)})),o.width+o.x>l.width||o.height+o.y>l.height){let d=this.viewport()??{width:0,height:0};await this.setViewport({width:Math.max(l.width,Math.ceil(o.width+o.x)),height:Math.max(l.height,Math.ceil(o.height+o.y))}),u.defer(async()=>{await this.setViewport(d).catch(D)})}return u.move()}catch(l){c.error=l,c.hasError=!0}finally{let l=lb(c);l&&await l}}_getPDFOptions(o={},c="in"){var f,h,g,w;let l={scale:1,displayHeaderFooter:!1,headerTemplate:"",footerTemplate:"",printBackground:!1,landscape:!1,pageRanges:"",preferCSSPageSize:!1,omitBackground:!1,timeout:3e4},u=8.5,d=11;if(o.format){let v=ob[o.format.toLowerCase()];S(v,"Unknown paper format: "+o.format),u=v.width,d=v.height}else u=us(o.width,c)??u,d=us(o.height,c)??d;let p={top:us((f=o.margin)==null?void 0:f.top,c)||0,left:us((h=o.margin)==null?void 0:h.left,c)||0,bottom:us((g=o.margin)==null?void 0:g.bottom,c)||0,right:us((w=o.margin)==null?void 0:w.right,c)||0};return{...l,...o,width:u,height:d,margin:p}}async createPDFStream(){throw new Error("Not implemented")}async title(){return await this.mainFrame().title()}click(o,c){return this.mainFrame().click(o,c)}focus(o){return this.mainFrame().focus(o)}hover(o){return this.mainFrame().hover(o)}select(o,...c){return this.mainFrame().select(o,...c)}tap(o){return this.mainFrame().tap(o)}type(o,c,l){return this.mainFrame().type(o,c,l)}waitForTimeout(o){return this.mainFrame().waitForTimeout(o)}async waitForSelector(o,c={}){return await this.mainFrame().waitForSelector(o,c)}waitForXPath(o,c){return this.mainFrame().waitForXPath(o,c)}waitForFunction(o,c,...l){return this.mainFrame().waitForFunction(o,c,...l)}waitForDevicePrompt(){throw new Error("Not implemented")}[(t=[Xy(function(){return this.browser()})],re)](){return void this.close().catch(D)}[dt](){return this.close()}},i=new WeakMap,(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;WI(n,null,t,{kind:"method",name:"screenshot",static:!1,private:!1,access:{has:c=>"screenshot"in c,get:c=>c.screenshot},metadata:o},null,e),o&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),n})(),bh={px:1,in:96,cm:37.8,mm:3.78}});var wl,vl,_h=I(()=>{Te();zt();Qi();bt();hi();wl=class{#e;#t;#r;#i;#n;#s;#a=z.create();#o;#l;constructor(e,t,i,...n){var s;switch(this.#e=e,this.#t=t.polling,this.#r=t.root,this.#l=t.signal,(s=this.#l)==null||s.addEventListener("abort",()=>{var a;this.terminate((a=this.#l)==null?void 0:a.reason)},{once:!0}),typeof i){case"string":this.#i=`() => {return (${i});}`;break;default:this.#i=Ze(i);break}this.#n=n,this.#e.taskManager.add(this),t.timeout&&(this.#s=setTimeout(()=>{this.terminate(new yt(`Waiting failed: ${t.timeout}ms exceeded`))},t.timeout)),this.rerun()}get result(){return this.#a.valueOrThrow()}async rerun(){try{switch(this.#t){case"raf":this.#o=await this.#e.evaluateHandle(({RAFPoller:t,createFunction:i},n,...s)=>{let a=i(n);return new t(()=>a(...s))},et.create(t=>t.puppeteerUtil),this.#i,...this.#n);break;case"mutation":this.#o=await this.#e.evaluateHandle(({MutationPoller:t,createFunction:i},n,s,...a)=>{let o=i(s);return new t(()=>o(...a),n||document)},et.create(t=>t.puppeteerUtil),this.#r,this.#i,...this.#n);break;default:this.#o=await this.#e.evaluateHandle(({IntervalPoller:t,createFunction:i},n,s,...a)=>{let o=i(s);return new t(()=>o(...a),n)},et.create(t=>t.puppeteerUtil),this.#t,this.#i,...this.#n);break}await this.#o.evaluate(t=>{t.start()});let e=await this.#o.evaluateHandle(t=>t.result());this.#a.resolve(e),await this.terminate()}catch(e){let t=this.getBadError(e);t&&await this.terminate(t)}}async terminate(e){if(this.#e.taskManager.delete(this),this.#s&&clearTimeout(this.#s),e&&!this.#a.finished()&&this.#a.reject(e),this.#o)try{await this.#o.evaluateHandle(async t=>{await t.stop()}),this.#o&&(await this.#o.dispose(),this.#o=void 0)}catch{}}getBadError(e){return Me(e)?e.message.includes("Execution context is not available in detached frame")?new Error("Waiting failed: Frame detached"):e.message.includes("Execution context was destroyed")||e.message.includes("Cannot find context with specified id")?void 0:e:new Error("WaitTask failed with an error",{cause:e})}},vl=class{#e=new Set;add(e){this.#e.add(e)}delete(e){this.#e.delete(e)}terminateAll(e){for(let t of this.#e)t.terminate(e);this.#e.clear()}async rerunAll(){await Promise.all([...this.#e].map(e=>e.rerun()))}}});var ds,yl=I(()=>{_h();Ce();ds=class{timeoutSettings;taskManager=new vl;constructor(e){this.timeoutSettings=e}async waitForFunction(e,t={},...i){let{polling:n="raf",timeout:s=this.timeoutSettings.timeout(),root:a,signal:o}=t;if(typeof n=="number"&&n<0)throw new Error("Cannot poll with non-positive interval");return await new wl(this,{polling:n,root:a,timeout:s,signal:o},e,...i).result}get disposed(){return this.#e}#e=!1;[re](){this.#e=!0,this.taskManager.terminateAll(new Error("waitForFunction failed: frame got detached."))}}});var ht,ps,za=I(()=>{(function(r){r.PAGE="page",r.BACKGROUND_PAGE="background_page",r.SERVICE_WORKER="service_worker",r.SHARED_WORKER="shared_worker",r.BROWSER="browser",r.WEBVIEW="webview",r.OTHER="other",r.TAB="tab"})(ht||(ht={}));ps=class{constructor(){}async worker(){return null}async page(){return null}url(){throw new Error("not implemented")}createCDPSession(){throw new Error("not implemented")}type(){throw new Error("not implemented")}browser(){throw new Error("not implemented")}browserContext(){throw new Error("not implemented")}opener(){throw new Error("not implemented")}}});var hs,Eh,bl=I(()=>{hs=class{#e;constructor(e){this.#e=e}updateClient(e){this.#e=e}async snapshot(e={}){let{interestingOnly:t=!0,root:i=null}=e,{nodes:n}=await this.#e.send("Accessibility.getFullAXTree"),s;if(i){let{node:l}=await this.#e.send("DOM.describeNode",{objectId:i.id});s=l.backendNodeId}let a=Eh.createTree(n),o=a;if(s&&(o=a.find(l=>l.payload.backendDOMNodeId===s),!o))return null;if(!t)return this.serializeTree(o)[0]??null;let c=new Set;return this.collectInterestingNodes(c,a,!1),c.has(o)?this.serializeTree(o,c)[0]??null:null}serializeTree(e,t){let i=[];for(let s of e.children)i.push(...this.serializeTree(s,t));if(t&&!t.has(e))return i;let n=e.serialize();return i.length&&(n.children=i),[n]}collectInterestingNodes(e,t,i){if(t.isInteresting(i)&&e.add(t),!t.isLeafNode()){i=i||t.isControl();for(let n of t.children)this.collectInterestingNodes(e,n,i)}}},Eh=class r{payload;children=[];#e=!1;#t=!1;#r=!1;#i=!1;#n;#s;#a;#o;constructor(e){this.payload=e,this.#n=this.payload.name?this.payload.name.value:"",this.#s=this.payload.role?this.payload.role.value:"Unknown",this.#a=this.payload.ignored;for(let t of this.payload.properties||[])t.name==="editable"&&(this.#e=t.value.value==="richtext",this.#t=!0),t.name==="focusable"&&(this.#r=t.value.value),t.name==="hidden"&&(this.#i=t.value.value)}#l(){return this.#e?!1:this.#t?!0:this.#s==="textbox"||this.#s==="searchbox"}#c(){let e=this.#s;return e==="LineBreak"||e==="text"||e==="InlineTextBox"}#u(){if(this.#o===void 0){this.#o=!1;for(let e of this.children)if(e.#r||e.#u()){this.#o=!0;break}}return this.#o}find(e){if(e(this))return this;for(let t of this.children){let i=t.find(e);if(i)return i}return null}isLeafNode(){if(!this.children.length||this.#l()||this.#c())return!0;switch(this.#s){case"doc-cover":case"graphics-symbol":case"img":case"image":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0;default:break}return this.#u()?!1:!!(this.#r&&this.#n||this.#s==="heading"&&this.#n)}isControl(){switch(this.#s){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return this.#s==="Ignored"||this.#i||this.#a?!1:this.#r||this.#e||this.isControl()?!0:e?!1:this.isLeafNode()&&!!this.#n}serialize(){let e=new Map;for(let p of this.payload.properties||[])e.set(p.name.toLowerCase(),p.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);let t={role:this.#s},i=["name","value","description","keyshortcuts","roledescription","valuetext"],n=p=>e.get(p);for(let p of i)e.has(p)&&(t[p]=n(p));let s=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],a=p=>e.get(p);for(let p of s)p==="focused"&&this.#s==="RootWebArea"||!a(p)||(t[p]=a(p));let o=["checked","pressed"];for(let p of o){if(!e.has(p))continue;let m=e.get(p);t[p]=m==="mixed"?"mixed":m==="true"}let c=["level","valuemax","valuemin"],l=p=>e.get(p);for(let p of c)e.has(p)&&(t[p]=l(p));let u=["autocomplete","haspopup","invalid","orientation"],d=p=>e.get(p);for(let p of u){let m=d(p);!m||m==="false"||(t[p]=d(p))}return t}static createTree(e){let t=new Map;for(let i of e)t.set(i.nodeId,new r(i));for(let i of t.values())for(let n of i.payload.childIds||[]){let s=t.get(n);s&&i.children.push(s)}return t.values().next().value}}});function ZI(){let r=0;return()=>++r}function kh(r){let e=`${r.error.message}`;return r.error&&typeof r.error=="object"&&"data"in r.error&&(e+=` ${r.error.data}`),e}function ub(r,e,t){return r.message=e,r.originalMessage=t??r.originalMessage,r}function Ka(r){return r instanceof ct}var YI,QI,Sh,rn,Ur,_i=I(()=>{Kt();zn();bt();Fe();ae();Te();fs();YI=hr("puppeteer:protocol:SEND \u25BA"),QI=hr("puppeteer:protocol:RECV \u25C0");Sh=class{#e;#t=new Tt;#r=z.create();#i;#n;constructor(e,t,i){this.#e=e,this.#n=t,i&&(this.#i=setTimeout(()=>{this.#r.reject(ub(this.#t,`${t} timed out. Increase the 'protocolTimeout' setting in launch/connect calls for a higher timeout if needed.`))},i))}resolve(e){clearTimeout(this.#i),this.#r.resolve(e)}reject(e){clearTimeout(this.#i),this.#r.reject(e)}get id(){return this.#e}get promise(){return this.#r}get error(){return this.#t}get label(){return this.#n}},rn=class{#e=new Map;#t=ZI();create(e,t,i){let n=new Sh(this.#t(),e,t);this.#e.set(n.id,n);try{i(n.id)}catch(s){throw n.promise.valueOrThrow().catch(D).finally(()=>{this.#e.delete(n.id)}),n.reject(s),s}return n.promise.valueOrThrow().finally(()=>{this.#e.delete(n.id)})}reject(e,t,i){let n=this.#e.get(e);n&&this._reject(n,t,i)}_reject(e,t,i){let n,s;t instanceof Tt?(n=t,n.cause=e.error,s=t.message):(n=e.error,s=t),e.reject(ub(n,`Protocol error (${e.label}): ${s}`,i))}resolve(e,t){let i=this.#e.get(e);i&&i.resolve(t)}clear(){for(let e of this.#e.values())this._reject(e,new ct("Target closed"));this.#e.clear()}},Ur=class extends de{#e;#t;#r;#i;#n=new Map;#s=!1;#a=new Set;#o=new rn;constructor(e,t,i=0,n){super(),this.#e=e,this.#r=i,this.#i=n??18e4,this.#t=t,this.#t.onmessage=this.onMessage.bind(this),this.#t.onclose=this.#l.bind(this)}static fromSession(e){return e.connection()}get timeout(){return this.#i}get _closed(){return this.#s}get _sessions(){return this.#n}session(e){return this.#n.get(e)||null}url(){return this.#e}send(e,...t){let i=t.length?t[0]:void 0;return this._rawSend(this.#o,e,i)}_rawSend(e,t,i,n){return e.create(t,this.#i,s=>{let a=JSON.stringify({method:t,params:i,id:s,sessionId:n});YI(a),this.#t.send(a)})}async closeBrowser(){await this.send("Browser.close")}async onMessage(e){this.#r&&await new Promise(i=>setTimeout(i,this.#r)),QI(e);let t=JSON.parse(e);if(t.method==="Target.attachedToTarget"){let i=t.params.sessionId,n=new Ht(this,t.params.targetInfo.type,i,t.sessionId);this.#n.set(i,n),this.emit(oe.SessionAttached,n);let s=this.#n.get(t.sessionId);s&&s.emit(oe.SessionAttached,n)}else if(t.method==="Target.detachedFromTarget"){let i=this.#n.get(t.params.sessionId);if(i){i._onClosed(),this.#n.delete(t.params.sessionId),this.emit(oe.SessionDetached,i);let n=this.#n.get(t.sessionId);n&&n.emit(oe.SessionDetached,i)}}if(t.sessionId){let i=this.#n.get(t.sessionId);i&&i._onMessage(t)}else t.id?t.error?this.#o.reject(t.id,kh(t),t.error.message):this.#o.resolve(t.id,t.result):this.emit(t.method,t.params)}#l(){if(!this.#s){this.#s=!0,this.#t.onmessage=void 0,this.#t.onclose=void 0,this.#o.clear();for(let e of this.#n.values())e._onClosed();this.#n.clear(),this.emit(oe.Disconnected,void 0)}}dispose(){this.#l(),this.#t.close()}isAutoAttached(e){return!this.#a.has(e)}async _createSession(e,t=!0){t||this.#a.add(e.targetId);let{sessionId:i}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0});this.#a.delete(e.targetId);let n=this.#n.get(i);if(!n)throw new Error("CDPSession creation failed.");return n}async createSession(e){return await this._createSession(e,!1)}}});var Ht,fs=I(()=>{Kt();bt();le();_i();Ht=class extends qr{#e;#t;#r=new rn;#i;#n;#s;constructor(e,t,i,n){super(),this.#i=e,this.#t=t,this.#e=i,this.#n=n}_setTarget(e){this.#s=e}_target(){return S(this.#s,"Target must exist"),this.#s}connection(){return this.#i}parentSession(){var t;return this.#n?((t=this.#i)==null?void 0:t.session(this.#n))??void 0:void 0}send(e,...t){if(!this.#i)return Promise.reject(new ct(`Protocol error (${e}): Session closed. Most likely the ${this.#t} has been closed.`));let i=t.length?t[0]:void 0;return this.#i._rawSend(this.#r,e,i,this.#e)}_onMessage(e){e.id?e.error?this.#r.reject(e.id,kh(e),e.error.message):this.#r.resolve(e.id,e.result):(S(!e.id),this.emit(e.method,e.params))}async detach(){if(!this.#i)throw new Error(`Session already detached. Most likely the ${this.#t} has been closed.`);await this.#i.send("Target.detachFromTarget",{sessionId:this.#e})}_onClosed(){this.#r.clear(),this.#i=void 0,this.emit(oe.Disconnected,void 0)}id(){return this.#e}}});var nn,_l=I(()=>{nn=class{#e;#t;#r;#i;constructor(e,t,i,n){this.#e=e,this.#t=t,this.#r=i,this.#i=n}type(){return this.#e}text(){return this.#t}args(){return this.#r}location(){return this.#i[0]??{}}stackTrace(){return this.#i}}});var $r,Ha=I(()=>{$r=class{#e;#t;constructor(){this.#e=null,this.#t=null}setDefaultTimeout(e){this.#e=e}setDefaultNavigationTimeout(e){this.#t=e}navigationTimeout(){return this.#t!==null?this.#t:this.#e!==null?this.#e:3e4}timeout(){return this.#e!==null?this.#e:3e4}}});function db(r){let e=[];for(let s of r)e.push({offset:s.startOffset,type:0,range:s}),e.push({offset:s.endOffset,type:1,range:s});e.sort((s,a)=>{if(s.offset!==a.offset)return s.offset-a.offset;if(s.type!==a.type)return a.type-s.type;let o=s.range.endOffset-s.range.startOffset,c=a.range.endOffset-a.range.startOffset;return s.type===0?c-o:o-c});let t=[],i=[],n=0;for(let s of e){if(t.length&&n<s.offset&&t[t.length-1]>0){let a=i[i.length-1];a&&a.end===n?a.end=s.offset:i.push({start:n,end:s.offset})}n=s.offset,s.type===0?t.push(s.range.count):t.pop()}return i.filter(s=>s.end-s.start>0)}var ms,Ch,Th,Sl=I(()=>{Fe();ae();le();Ce();ms=class{#e;#t;constructor(e){this.#e=new Ch(e),this.#t=new Th(e)}updateClient(e){this.#e.updateClient(e),this.#t.updateClient(e)}async startJSCoverage(e={}){return await this.#e.start(e)}async stopJSCoverage(){return await this.#e.stop()}async startCSSCoverage(e={}){return await this.#t.start(e)}async stopCSSCoverage(){return await this.#t.stop()}},Ch=class{#e;#t=!1;#r=new Map;#i=new Map;#n;#s=!1;#a=!1;#o=!1;constructor(e){this.#e=e}updateClient(e){this.#e=e}async start(e={}){S(!this.#t,"JSCoverage is already enabled");let{resetOnNavigation:t=!0,reportAnonymousScripts:i=!1,includeRawScriptCoverage:n=!1,useBlockCoverage:s=!0}=e;this.#s=t,this.#a=i,this.#o=n,this.#t=!0,this.#r.clear(),this.#i.clear(),this.#n=new ot,this.#n.use(new ge(this.#e,"Debugger.scriptParsed",this.#c.bind(this))),this.#n.use(new ge(this.#e,"Runtime.executionContextsCleared",this.#l.bind(this))),await Promise.all([this.#e.send("Profiler.enable"),this.#e.send("Profiler.startPreciseCoverage",{callCount:this.#o,detailed:s}),this.#e.send("Debugger.enable"),this.#e.send("Debugger.setSkipAllPauses",{skip:!0})])}#l(){this.#s&&(this.#r.clear(),this.#i.clear())}async#c(e){if(!rt.isPuppeteerURL(e.url)&&!(!e.url&&!this.#a))try{let t=await this.#e.send("Debugger.getScriptSource",{scriptId:e.scriptId});this.#r.set(e.scriptId,e.url),this.#i.set(e.scriptId,t.scriptSource)}catch(t){D(t)}}async stop(){var n;S(this.#t,"JSCoverage is not enabled"),this.#t=!1;let e=await Promise.all([this.#e.send("Profiler.takePreciseCoverage"),this.#e.send("Profiler.stopPreciseCoverage"),this.#e.send("Profiler.disable"),this.#e.send("Debugger.disable")]);(n=this.#n)==null||n.dispose();let t=[],i=e[0];for(let s of i.result){let a=this.#r.get(s.scriptId);!a&&this.#a&&(a="debugger://VM"+s.scriptId);let o=this.#i.get(s.scriptId);if(o===void 0||a===void 0)continue;let c=[];for(let u of s.functions)c.push(...u.ranges);let l=db(c);this.#o?t.push({url:a,ranges:l,text:o,rawScriptCoverage:s}):t.push({url:a,ranges:l,text:o})}return t}},Th=class{#e;#t=!1;#r=new Map;#i=new Map;#n;#s=!1;constructor(e){this.#e=e}updateClient(e){this.#e=e}async start(e={}){S(!this.#t,"CSSCoverage is already enabled");let{resetOnNavigation:t=!0}=e;this.#s=t,this.#t=!0,this.#r.clear(),this.#i.clear(),this.#n=new ot,this.#n.use(new ge(this.#e,"CSS.styleSheetAdded",this.#o.bind(this))),this.#n.use(new ge(this.#e,"Runtime.executionContextsCleared",this.#a.bind(this))),await Promise.all([this.#e.send("DOM.enable"),this.#e.send("CSS.enable"),this.#e.send("CSS.startRuleUsageTracking")])}#a(){this.#s&&(this.#r.clear(),this.#i.clear())}async#o(e){let t=e.header;if(t.sourceURL)try{let i=await this.#e.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this.#r.set(t.styleSheetId,t.sourceURL),this.#i.set(t.styleSheetId,i.text)}catch(i){D(i)}}async stop(){var n;S(this.#t,"CSSCoverage is not enabled"),this.#t=!1;let e=await this.#e.send("CSS.stopRuleUsageTracking");await Promise.all([this.#e.send("CSS.disable"),this.#e.send("DOM.disable")]),(n=this.#n)==null||n.dispose();let t=new Map;for(let s of e.ruleUsage){let a=t.get(s.styleSheetId);a||(a=[],t.set(s.styleSheetId,a)),a.push({startOffset:s.startOffset,endOffset:s.endOffset,count:s.used?1:0})}let i=[];for(let s of this.#r.keys()){let a=this.#r.get(s);S(typeof a<"u",`Stylesheet URL is undefined (styleSheetId=${s})`);let o=this.#i.get(s);S(typeof o<"u",`Stylesheet text is undefined (styleSheetId=${s})`);let c=db(t.get(s)||[]);i.push({url:a,ranges:c,text:o})}return i}}});var eR,wr,vr,Wt,Cl,Tl=I(()=>{Kt();ae();le();gi();zt();eR=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},wr=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},vr=function(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})},Wt=class{#e;#t;#r;constructor(e,t,i){this.#e=e,this.#t=t,this.#r=i,this.#t.registerState(this)}async setState(e){this.#e=e,await this.sync()}get state(){return this.#e}async sync(){await Promise.all(this.#t.clients().map(e=>this.#r(e,this.#e)))}},Cl=(()=>{var P,T,R,O,M,ne,U,Pe,te,C,y,j,N,ue,we,Q,Ph,ve,Ih,Re,Rh,_t,Mh,kr,Ah,Cr,Oh,Tr,Nh,Pr,Dh,Ir,Lh,Rr,Fh,tt;let r=[],e,t,i,n,s,a,o,c,l,u,d,p,m,f,h,g,w,v,_,b;return tt=class{constructor(H){W(this,Q);W(this,ve);W(this,Re);W(this,_t);W(this,kr);W(this,Cr);W(this,Tr);W(this,Pr);W(this,Ir);W(this,Rr);W(this,P,(eR(this,r),void 0));W(this,T,!1);W(this,R,!1);W(this,O,[]);W(this,M,new Wt({active:!1},this,A(this,Q,Ph)));W(this,ne,new Wt({active:!1},this,A(this,ve,Ih)));W(this,U,new Wt({active:!1},this,A(this,Re,Rh)));W(this,Pe,new Wt({active:!1},this,A(this,_t,Mh)));W(this,te,new Wt({active:!1},this,A(this,kr,Ah)));W(this,C,new Wt({active:!1},this,A(this,Cr,Oh)));W(this,y,new Wt({active:!1},this,A(this,Tr,Nh)));W(this,j,new Wt({active:!1},this,A(this,Pr,Dh)));W(this,N,new Wt({active:!1},this,A(this,Ir,Lh)));W(this,ue,new Wt({javaScriptEnabled:!0,active:!1},this,A(this,Rr,Fh)));W(this,we,new Set);Ue(this,P,H)}updateClient(H){Ue(this,P,H),A(this,we).delete(H)}registerState(H){A(this,O).push(H)}clients(){return[A(this,P),...Array.from(A(this,we))]}async registerSpeculativeSession(H){A(this,we).add(H),H.once(oe.Disconnected,()=>{A(this,we).delete(H)}),Promise.all(A(this,O).map(L=>L.sync().catch(D)))}get javascriptEnabled(){return A(this,ue).state.javaScriptEnabled}async emulateViewport(H){await A(this,M).setState({viewport:H,active:!0});let L=H.isMobile||!1,J=H.hasTouch||!1,Je=A(this,T)!==L||A(this,R)!==J;return Ue(this,T,L),Ue(this,R,J),Je}async emulateIdleState(H){await A(this,ne).setState({active:!0,overrides:H})}async emulateTimezone(H){await A(this,U).setState({timezoneId:H,active:!0})}async emulateVisionDeficiency(H){S(!H||new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]).has(H),`Unsupported vision deficiency: ${H}`),await A(this,Pe).setState({active:!0,visionDeficiency:H})}async emulateCPUThrottling(H){S(H===null||H>=1,"Throttling rate should be greater or equal to 1"),await A(this,te).setState({active:!0,factor:H??void 0})}async emulateMediaFeatures(H){if(Array.isArray(H))for(let L of H){let J=L.name;S(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(J),"Unsupported media feature: "+J)}await A(this,C).setState({active:!0,mediaFeatures:H})}async emulateMediaType(H){S(H==="screen"||H==="print"||(H??void 0)===void 0,"Unsupported media type: "+H),await A(this,y).setState({type:H,active:!0})}async setGeolocation(H){let{longitude:L,latitude:J,accuracy:Je=0}=H;if(L<-180||L>180)throw new Error(`Invalid longitude "${L}": precondition -180 <= LONGITUDE <= 180 failed.`);if(J<-90||J>90)throw new Error(`Invalid latitude "${J}": precondition -90 <= LATITUDE <= 90 failed.`);if(Je<0)throw new Error(`Invalid accuracy "${Je}": precondition 0 <= ACCURACY failed.`);await A(this,j).setState({active:!0,geoLocation:{longitude:L,latitude:J,accuracy:Je}})}async resetDefaultBackgroundColor(){await A(this,N).setState({active:!0,color:void 0})}async setTransparentBackgroundColor(){await A(this,N).setState({active:!0,color:{r:0,g:0,b:0,a:0}})}async setJavaScriptEnabled(H){await A(this,ue).setState({active:!0,javaScriptEnabled:H})}},P=new WeakMap,T=new WeakMap,R=new WeakMap,O=new WeakMap,M=new WeakMap,ne=new WeakMap,U=new WeakMap,Pe=new WeakMap,te=new WeakMap,C=new WeakMap,y=new WeakMap,j=new WeakMap,N=new WeakMap,ue=new WeakMap,we=new WeakMap,Q=new WeakSet,Ph=function(){return t.value},ve=new WeakSet,Ih=function(){return n.value},Re=new WeakSet,Rh=function(){return a.value},_t=new WeakSet,Mh=function(){return c.value},kr=new WeakSet,Ah=function(){return u.value},Cr=new WeakSet,Oh=function(){return p.value},Tr=new WeakSet,Nh=function(){return f.value},Pr=new WeakSet,Dh=function(){return g.value},Ir=new WeakSet,Lh=function(){return v.value},Rr=new WeakSet,Fh=function(){return b.value},(()=>{let H=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;e=[Zt],i=[Zt],s=[Zt],o=[Zt],l=[Zt],d=[Zt],m=[Zt],h=[Zt],w=[Zt],_=[Zt],wr(tt,t={value:vr(async function(L,J){if(!J.viewport)return;let{viewport:Je}=J,ec=Je.isMobile||!1,tc=Je.width,rc=Je.height,ic=Je.deviceScaleFactor??1,$i=Je.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},gk=Je.hasTouch||!1;await Promise.all([L.send("Emulation.setDeviceMetricsOverride",{mobile:ec,width:tc,height:rc,deviceScaleFactor:ic,screenOrientation:$i}),L.send("Emulation.setTouchEmulationEnabled",{enabled:gk})])},"#applyViewport")},e,{kind:"method",name:"#applyViewport",static:!1,private:!0,access:{has:L=>Xt(Q,L),get:L=>A(L,Q,Ph)},metadata:H},null,r),wr(tt,n={value:vr(async function(L,J){J.active&&(J.overrides?await L.send("Emulation.setIdleOverride",{isUserActive:J.overrides.isUserActive,isScreenUnlocked:J.overrides.isScreenUnlocked}):await L.send("Emulation.clearIdleOverride"))},"#emulateIdleState")},i,{kind:"method",name:"#emulateIdleState",static:!1,private:!0,access:{has:L=>Xt(ve,L),get:L=>A(L,ve,Ih)},metadata:H},null,r),wr(tt,a={value:vr(async function(L,J){if(J.active)try{await L.send("Emulation.setTimezoneOverride",{timezoneId:J.timezoneId||""})}catch(Je){throw Me(Je)&&Je.message.includes("Invalid timezone")?new Error(`Invalid timezone ID: ${J.timezoneId}`):Je}},"#emulateTimezone")},s,{kind:"method",name:"#emulateTimezone",static:!1,private:!0,access:{has:L=>Xt(Re,L),get:L=>A(L,Re,Rh)},metadata:H},null,r),wr(tt,c={value:vr(async function(L,J){J.active&&await L.send("Emulation.setEmulatedVisionDeficiency",{type:J.visionDeficiency||"none"})},"#emulateVisionDeficiency")},o,{kind:"method",name:"#emulateVisionDeficiency",static:!1,private:!0,access:{has:L=>Xt(_t,L),get:L=>A(L,_t,Mh)},metadata:H},null,r),wr(tt,u={value:vr(async function(L,J){J.active&&await L.send("Emulation.setCPUThrottlingRate",{rate:J.factor??1})},"#emulateCpuThrottling")},l,{kind:"method",name:"#emulateCpuThrottling",static:!1,private:!0,access:{has:L=>Xt(kr,L),get:L=>A(L,kr,Ah)},metadata:H},null,r),wr(tt,p={value:vr(async function(L,J){J.active&&await L.send("Emulation.setEmulatedMedia",{features:J.mediaFeatures})},"#emulateMediaFeatures")},d,{kind:"method",name:"#emulateMediaFeatures",static:!1,private:!0,access:{has:L=>Xt(Cr,L),get:L=>A(L,Cr,Oh)},metadata:H},null,r),wr(tt,f={value:vr(async function(L,J){J.active&&await L.send("Emulation.setEmulatedMedia",{media:J.type||""})},"#emulateMediaType")},m,{kind:"method",name:"#emulateMediaType",static:!1,private:!0,access:{has:L=>Xt(Tr,L),get:L=>A(L,Tr,Nh)},metadata:H},null,r),wr(tt,g={value:vr(async function(L,J){J.active&&await L.send("Emulation.setGeolocationOverride",J.geoLocation?{longitude:J.geoLocation.longitude,latitude:J.geoLocation.latitude,accuracy:J.geoLocation.accuracy}:void 0)},"#setGeolocation")},h,{kind:"method",name:"#setGeolocation",static:!1,private:!0,access:{has:L=>Xt(Pr,L),get:L=>A(L,Pr,Dh)},metadata:H},null,r),wr(tt,v={value:vr(async function(L,J){J.active&&await L.send("Emulation.setDefaultBackgroundColorOverride",{color:J.color})},"#setDefaultBackgroundColor")},w,{kind:"method",name:"#setDefaultBackgroundColor",static:!1,private:!0,access:{has:L=>Xt(Ir,L),get:L=>A(L,Ir,Lh)},metadata:H},null,r),wr(tt,b={value:vr(async function(L,J){J.active&&await L.send("Emulation.setScriptExecutionDisabled",{value:!J.javaScriptEnabled})},"#setJavaScriptEnabled")},_,{kind:"method",name:"#setJavaScriptEnabled",static:!1,private:!0,access:{has:L=>Xt(Rr,L),get:L=>A(L,Rr,Fh)},metadata:H},null,r),H&&Object.defineProperty(tt,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:H})})(),tt})()});var ws,Al=I(()=>{Te();ws=class{#e=new Map;#t=new Map;#r=new Map;#i;#n=new Map;getMainFrame(){return this.#i}getById(e){return this.#e.get(e)}waitForFrame(e){let t=this.getById(e);if(t)return Promise.resolve(t);let i=z.create();return(this.#n.get(e)||new Set).add(i),i.valueOrThrow()}frames(){return Array.from(this.#e.values())}addFrame(e){var t;this.#e.set(e._id,e),e._parentId?(this.#t.set(e._id,e._parentId),this.#r.has(e._parentId)||this.#r.set(e._parentId,new Set),this.#r.get(e._parentId).add(e._id)):this.#i||(this.#i=e),(t=this.#n.get(e._id))==null||t.forEach(i=>i.resolve(e))}removeFrame(e){var t;this.#e.delete(e._id),this.#t.delete(e._id),e._parentId?(t=this.#r.get(e._parentId))==null||t.delete(e._id):this.#i=void 0}childFrames(e){let t=this.#r.get(e);return t?Array.from(t).map(i=>this.getById(i)).filter(i=>i!==void 0):[]}parentFrame(e){let t=this.#t.get(e);return t?this.getById(t):void 0}}});var vs,Fl=I(()=>{ae();le();Te();zt();vs=class{#e;#t=!1;#r;constructor(e){this.#e=e}updateClient(e){this.#e=e}async start(e={}){S(!this.#t,"Cannot start recording trace while already recording trace.");let t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler"],{path:i,screenshots:n=!1,categories:s=t}=e;n&&s.push("disabled-by-default-devtools.screenshot");let a=s.filter(c=>c.startsWith("-")).map(c=>c.slice(1)),o=s.filter(c=>!c.startsWith("-"));this.#r=i,this.#t=!0,await this.#e.send("Tracing.start",{transferMode:"ReturnAsStream",traceConfig:{excludedCategories:a,includedCategories:o}})}async stop(){let e=z.create();return this.#e.once("Tracing.tracingComplete",async t=>{try{S(t.stream,'Missing "stream"');let i=await Kc(this.#e,t.stream),n=await zc(i,this.#r);e.resolve(n??void 0)}catch(i){Me(i)?e.reject(i):e.reject(new Error(`Unknown error: ${i}`))}}),await this.#e.send("Tracing.end"),this.#t=!1,await e.valueOrThrow()}}});var xb=k(()=>{"use strict";moduel.exports={}});var _b=k((Sq,bb)=>{"use strict";var{Duplex:dR}=require("stream");function vb(r){r.emit("close")}function pR(){!this.destroyed&&this._writableState.finished&&this.destroy()}function yb(r){this.removeListener("error",yb),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function hR(r,e){let t=!0,i=new dR({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return r.on("message",function(s,a){let o=!a&&i._readableState.objectMode?s.toString():s;i.push(o)||r.pause()}),r.once("error",function(s){i.destroyed||(t=!1,i.destroy(s))}),r.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(n,s){if(r.readyState===r.CLOSED){s(n),process.nextTick(vb,i);return}let a=!1;r.once("error",function(c){a=!0,s(c)}),r.once("close",function(){a||s(n),process.nextTick(vb,i)}),t&&r.terminate()},i._final=function(n){if(r.readyState===r.CONNECTING){r.once("open",function(){i._final(n)});return}r._socket!==null&&(r._socket._writableState.finished?(n(),i._readableState.endEmitted&&i.destroy()):(r._socket.once("finish",function(){n()}),r.close()))},i._read=function(){r.isPaused&&r.resume()},i._write=function(n,s,a){if(r.readyState===r.CONNECTING){r.once("open",function(){i._write(n,s,a)});return}r.send(n,a)},i.on("end",pR),i.on("error",yb),i}bb.exports=hR});var Si=k((kq,Eb)=>{"use strict";Eb.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Xa=k((Cq,Kl)=>{"use strict";var{EMPTY_BUFFER:fR}=Si(),Kh=Buffer[Symbol.species];function mR(r,e){if(r.length===0)return fR;if(r.length===1)return r[0];let t=Buffer.allocUnsafe(e),i=0;for(let n=0;n<r.length;n++){let s=r[n];t.set(s,i),i+=s.length}return i<e?new Kh(t.buffer,t.byteOffset,i):t}function Sb(r,e,t,i,n){for(let s=0;s<n;s++)t[i+s]=r[s]^e[s&3]}function kb(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t&3]}function gR(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function Hh(r){if(Hh.readOnly=!0,Buffer.isBuffer(r))return r;let e;return r instanceof ArrayBuffer?e=new Kh(r):ArrayBuffer.isView(r)?e=new Kh(r.buffer,r.byteOffset,r.byteLength):(e=Buffer.from(r),Hh.readOnly=!1),e}Kl.exports={concat:mR,mask:Sb,toArrayBuffer:gR,toBuffer:Hh,unmask:kb};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=require("bufferutil");Kl.exports.mask=function(e,t,i,n,s){s<48?Sb(e,t,i,n,s):r.mask(e,t,i,n,s)},Kl.exports.unmask=function(e,t){e.length<32?kb(e,t):r.unmask(e,t)}}catch{}});var Pb=k((Tq,Tb)=>{"use strict";var Cb=Symbol("kDone"),Wh=Symbol("kRun"),Vh=class{constructor(e){this[Cb]=()=>{this.pending--,this[Wh]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Wh]()}[Wh](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Cb])}}};Tb.exports=Vh});var Qa=k((Pq,Ab)=>{"use strict";var Ja=require("zlib"),Ib=Xa(),xR=Pb(),{kStatusCode:Rb}=Si(),wR=Buffer[Symbol.species],vR=Buffer.from([0,0,255,255]),Vl=Symbol("permessage-deflate"),Hr=Symbol("total-length"),Ya=Symbol("callback"),ki=Symbol("buffers"),Wl=Symbol("error"),Hl,Gh=class{constructor(e,t,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Hl){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Hl=new xR(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Ya];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(n=>!(t.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>n.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(i.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?i.client_max_window_bits=t.clientMaxWindowBits:(i.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(i=>{let n=t[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);t[i]=n})}),e}decompress(e,t,i){Hl.add(n=>{this._decompress(e,t,(s,a)=>{n(),i(s,a)})})}compress(e,t,i){Hl.add(n=>{this._compress(e,t,(s,a)=>{n(),i(s,a)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,a=typeof this.params[s]!="number"?Ja.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Ja.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Vl]=this,this._inflate[Hr]=0,this._inflate[ki]=[],this._inflate.on("error",bR),this._inflate.on("data",Mb)}this._inflate[Ya]=i,this._inflate.write(e),t&&this._inflate.write(vR),this._inflate.flush(()=>{let s=this._inflate[Wl];if(s){this._inflate.close(),this._inflate=null,i(s);return}let a=Ib.concat(this._inflate[ki],this._inflate[Hr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Hr]=0,this._inflate[ki]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,a)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,a=typeof this.params[s]!="number"?Ja.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Ja.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[Hr]=0,this._deflate[ki]=[],this._deflate.on("data",yR)}this._deflate[Ya]=i,this._deflate.write(e),this._deflate.flush(Ja.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Ib.concat(this._deflate[ki],this._deflate[Hr]);t&&(s=new wR(s.buffer,s.byteOffset,s.length-4)),this._deflate[Ya]=null,this._deflate[Hr]=0,this._deflate[ki]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};Ab.exports=Gh;function yR(r){this[ki].push(r),this[Hr]+=r.length}function Mb(r){if(this[Hr]+=r.length,this[Vl]._maxPayload<1||this[Hr]<=this[Vl]._maxPayload){this[ki].push(r);return}this[Wl]=new RangeError("Max payload size exceeded"),this[Wl].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Wl][Rb]=1009,this.removeListener("data",Mb),this.reset()}function bR(r){this[Vl]._inflate=null,r[Rb]=1007,this[Ya](r)}});var Za=k((Iq,Gl)=>{"use strict";var{isUtf8:Ob}=require("buffer"),_R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ER(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function Xh(r){let e=r.length,t=0;for(;t<e;)if(!(r[t]&128))t++;else if((r[t]&224)===192){if(t+1===e||(r[t+1]&192)!==128||(r[t]&254)===192)return!1;t+=2}else if((r[t]&240)===224){if(t+2>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||r[t]===224&&(r[t+1]&224)===128||r[t]===237&&(r[t+1]&224)===160)return!1;t+=3}else if((r[t]&248)===240){if(t+3>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||(r[t+3]&192)!==128||r[t]===240&&(r[t+1]&240)===128||r[t]===244&&r[t+1]>143||r[t]>244)return!1;t+=4}else return!1;return!0}Gl.exports={isValidStatusCode:ER,isValidUTF8:Xh,tokenChars:_R};if(Ob)Gl.exports.isValidUTF8=function(r){return r.length<24?Xh(r):Ob(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=require("utf-8-validate");Gl.exports.isValidUTF8=function(e){return e.length<32?Xh(e):r(e)}}catch{}});var ef=k((Rq,Ub)=>{"use strict";var{Writable:SR}=require("stream"),Nb=Qa(),{BINARY_TYPES:kR,EMPTY_BUFFER:Db,kStatusCode:CR,kWebSocket:TR}=Si(),{concat:Jh,toArrayBuffer:PR,unmask:IR}=Xa(),{isValidStatusCode:RR,isValidUTF8:Lb}=Za(),Xl=Buffer[Symbol.species],MR=Promise.resolve(),AR=typeof queueMicrotask=="function"?queueMicrotask:OR,_s=0,Fb=1,Bb=2,jb=3,Yh=4,qb=5,Qh=6,Zh=class extends SR{constructor(e={}){super(),this._binaryType=e.binaryType||kR[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[TR]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=_s,this._loop=!1}_write(e,t,i){if(this._opcode===8&&this._state==_s)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=new Xl(i.buffer,i.byteOffset+e,i.length-e),new Xl(i.buffer,i.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new Xl(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case _s:t=this.getInfo();break;case Fb:t=this.getPayloadLength16();break;case Bb:t=this.getPayloadLength64();break;case jb:this.getMask();break;case Yh:t=this.getData(e);break;case qb:this._loop=!1;return;default:this._loop=!1,AR(()=>{this._state=_s,this.startLoop(e)});return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,it(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[Nb.extensionName])return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,it(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,it(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,it(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,it(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,it(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,it(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,it(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Fb;else if(this._payloadLength===127)this._state=Bb;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,53-32)-1?(this._loop=!1,it(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,it(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=jb:this._state=Yh}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Yh}getData(e){let t=Db;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&IR(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=qb,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[Nb.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return t(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(it(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let a=this.dataMessage();if(a)return t(a);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Jh(t,e):this._binaryType==="arraybuffer"?i=PR(Jh(t,e)):i=t,this.emit("message",i,!0)}else{let i=Jh(t,e);if(!this._skipUTF8Validation&&!Lb(i))return this._loop=!1,it(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=Qh}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Db),this.end(),this._state=_s;else{let t=e.readUInt16BE(0);if(!RR(t))return it(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=new Xl(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!Lb(i))return it(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,i),this.end(),this._state=_s}else this._opcode===9?(this.emit("ping",e),this._state=Qh):(this.emit("pong",e),this._state=Qh)}};Ub.exports=Zh;function it(r,e,t,i,n){let s=new r(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,it),s.code=n,s[CR]=i,s}function OR(r){MR.then(r).catch(DR)}function NR(r){throw r}function DR(r){process.nextTick(NR,r)}});var rf=k((Aq,Kb)=>{"use strict";var{Duplex:Mq}=require("stream"),{randomFillSync:LR}=require("crypto"),$b=Qa(),{EMPTY_BUFFER:FR}=Si(),{isValidStatusCode:BR}=Za(),{mask:zb,toBuffer:Es}=Xa(),rr=Symbol("kByteLength"),jR=Buffer.alloc(4),tf=class r{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,n=!1,s=2,a=!1;t.mask&&(i=t.maskBuffer||jR,t.generateMask?t.generateMask(i):LR(i,0,4),a=(i[0]|i[1]|i[2]|i[3])===0,s=6);let o;typeof e=="string"?(!t.mask||a)&&t[rr]!==void 0?o=t[rr]:(e=Buffer.from(e),o=e.length):(o=e.length,n=t.mask&&t.readOnly&&!a);let c=o;o>=65536?(s+=8,c=127):o>125&&(s+=2,c=126);let l=Buffer.allocUnsafe(n?o+s:s);return l[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(o,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),t.mask?(l[1]|=128,l[s-4]=i[0],l[s-3]=i[1],l[s-2]=i[2],l[s-1]=i[3],a?[l,e]:n?(zb(e,i,l,s,o),[l]):(zb(e,i,e,0,o),[l,e])):[l,e]}close(e,t,i,n){let s;if(e===void 0)s=FR;else{if(typeof e!="number"||!BR(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let o=Buffer.byteLength(t);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+o),s.writeUInt16BE(e,0),typeof t=="string"?s.write(t,2):s.set(t,2)}}let a={[rr]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,a,n]):this.sendFrame(r.frame(s,a),n)}ping(e,t,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Es(e),n=e.length,s=Es.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[rr]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(r.frame(e,a),i)}pong(e,t,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Es(e),n=e.length,s=Es.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[rr]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(r.frame(e,a),i)}send(e,t,i){let n=this._extensions[$b.extensionName],s=t.binary?2:1,a=t.compress,o,c;if(typeof e=="string"?(o=Buffer.byteLength(e),c=!1):(e=Es(e),o=e.length,c=Es.readOnly),this._firstFragment?(this._firstFragment=!1,a&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=o>=n._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),n){let l={[rr]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:c,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,i]):this.dispatch(e,this._compress,l,i)}else this.sendFrame(r.frame(e,{[rr]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:c,rsv1:!1}),i)}dispatch(e,t,i,n){if(!t){this.sendFrame(r.frame(e,i),n);return}let s=this._extensions[$b.extensionName];this._bufferedBytes+=i[rr],this._deflating=!0,s.compress(e,i.fin,(a,o)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(c);for(let l=0;l<this._queue.length;l++){let u=this._queue[l],d=u[u.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=i[rr],this._deflating=!1,i.readOnly=!1,this.sendFrame(r.frame(o,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][rr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][rr],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};Kb.exports=tf});var Zb=k((Oq,Qb)=>{"use strict";var{kForOnEventAttribute:eo,kListener:nf}=Si(),Hb=Symbol("kCode"),Wb=Symbol("kData"),Vb=Symbol("kError"),Gb=Symbol("kMessage"),Xb=Symbol("kReason"),Ss=Symbol("kTarget"),Jb=Symbol("kType"),Yb=Symbol("kWasClean"),Wr=class{constructor(e){this[Ss]=null,this[Jb]=e}get target(){return this[Ss]}get type(){return this[Jb]}};Object.defineProperty(Wr.prototype,"target",{enumerable:!0});Object.defineProperty(Wr.prototype,"type",{enumerable:!0});var cn=class extends Wr{constructor(e,t={}){super(e),this[Hb]=t.code===void 0?0:t.code,this[Xb]=t.reason===void 0?"":t.reason,this[Yb]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Hb]}get reason(){return this[Xb]}get wasClean(){return this[Yb]}};Object.defineProperty(cn.prototype,"code",{enumerable:!0});Object.defineProperty(cn.prototype,"reason",{enumerable:!0});Object.defineProperty(cn.prototype,"wasClean",{enumerable:!0});var ks=class extends Wr{constructor(e,t={}){super(e),this[Vb]=t.error===void 0?null:t.error,this[Gb]=t.message===void 0?"":t.message}get error(){return this[Vb]}get message(){return this[Gb]}};Object.defineProperty(ks.prototype,"error",{enumerable:!0});Object.defineProperty(ks.prototype,"message",{enumerable:!0});var to=class extends Wr{constructor(e,t={}){super(e),this[Wb]=t.data===void 0?null:t.data}get data(){return this[Wb]}};Object.defineProperty(to.prototype,"data",{enumerable:!0});var qR={addEventListener(r,e,t={}){for(let n of this.listeners(r))if(!t[eo]&&n[nf]===e&&!n[eo])return;let i;if(r==="message")i=function(s,a){let o=new to("message",{data:a?s:s.toString()});o[Ss]=this,Jl(e,this,o)};else if(r==="close")i=function(s,a){let o=new cn("close",{code:s,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[Ss]=this,Jl(e,this,o)};else if(r==="error")i=function(s){let a=new ks("error",{error:s,message:s.message});a[Ss]=this,Jl(e,this,a)};else if(r==="open")i=function(){let s=new Wr("open");s[Ss]=this,Jl(e,this,s)};else return;i[eo]=!!t[eo],i[nf]=e,t.once?this.once(r,i):this.on(r,i)},removeEventListener(r,e){for(let t of this.listeners(r))if(t[nf]===e&&!t[eo]){this.removeListener(r,t);break}}};Qb.exports={CloseEvent:cn,ErrorEvent:ks,Event:Wr,EventTarget:qR,MessageEvent:to};function Jl(r,e,t){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,t):r.call(e,t)}});var sf=k((Nq,e0)=>{"use strict";var{tokenChars:ro}=Za();function yr(r,e,t){r[e]===void 0?r[e]=[t]:r[e].push(t)}function UR(r){let e=Object.create(null),t=Object.create(null),i=!1,n=!1,s=!1,a,o,c=-1,l=-1,u=-1,d=0;for(;d<r.length;d++)if(l=r.charCodeAt(d),a===void 0)if(u===-1&&ro[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let m=r.slice(c,u);l===44?(yr(e,m,t),t=Object.create(null)):a=m,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&ro[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),yr(t,r.slice(c,u),!0),l===44&&(yr(e,a,t),t=Object.create(null),a=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)o=r.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(n){if(ro[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:i||(i=!0),n=!1}else if(s)if(ro[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)s=!1,u=d;else if(l===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&r.charCodeAt(d-1)===61)s=!0;else if(u===-1&&ro[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let m=r.slice(c,u);i&&(m=m.replace(/\\/g,""),i=!1),yr(t,o,m),l===44&&(yr(e,a,t),t=Object.create(null),a=void 0),o=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||s||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=r.slice(c,u);return a===void 0?yr(e,p,t):(o===void 0?yr(t,p,!0):i?yr(t,o,p.replace(/\\/g,"")):yr(t,o,p),yr(e,a,t)),e}function $R(r){return Object.keys(r).map(e=>{let t=r[e];return Array.isArray(t)||(t=[t]),t.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(a=>a===!0?n:`${n}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}e0.exports={format:$R,parse:UR}});var uf=k((Fq,d0)=>{"use strict";var zR=require("events"),KR=require("https"),HR=require("http"),i0=require("net"),WR=require("tls"),{randomBytes:VR,createHash:GR}=require("crypto"),{Duplex:Dq,Readable:Lq}=require("stream"),{URL:af}=require("url"),Ci=Qa(),XR=ef(),JR=rf(),{BINARY_TYPES:t0,EMPTY_BUFFER:Yl,GUID:YR,kForOnEventAttribute:of,kListener:QR,kStatusCode:ZR,kWebSocket:mt,NOOP:n0}=Si(),{EventTarget:{addEventListener:eM,removeEventListener:tM}}=Zb(),{format:rM,parse:iM}=sf(),{toBuffer:nM}=Xa(),sM=30*1e3,s0=Symbol("kAborted"),cf=[8,13],Vr=["CONNECTING","OPEN","CLOSING","CLOSED"],aM=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Be=class r extends zR{constructor(e,t,i){super(),this._binaryType=t0[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Yl,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(i=t,t=[]):t=[t]),a0(this,e,t,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){t0.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new XR({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new JR(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[mt]=this,e[mt]=this,n.on("conclude",lM),n.on("drain",uM),n.on("error",dM),n.on("message",pM),n.on("ping",hM),n.on("pong",fM),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",c0),e.on("data",Zl),e.on("end",l0),e.on("error",u0),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ci.extensionName]&&this._extensions[Ci.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){let i="WebSocket was closed before the connection was established";Dt(this,this._req,i);return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(e,t,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),sM)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=t=void 0):typeof t=="function"&&(i=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){lf(this,e,i);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Yl,t,i)}pong(e,t,i){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=t=void 0):typeof t=="function"&&(i=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){lf(this,e,i);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Yl,t,i)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(i=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){lf(this,e,i);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[Ci.extensionName]||(n.compress=!1),this._sender.send(e||Yl,n,i)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){let e="WebSocket was closed before the connection was established";Dt(this,this._req,e);return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(Be,"CONNECTING",{enumerable:!0,value:Vr.indexOf("CONNECTING")});Object.defineProperty(Be.prototype,"CONNECTING",{enumerable:!0,value:Vr.indexOf("CONNECTING")});Object.defineProperty(Be,"OPEN",{enumerable:!0,value:Vr.indexOf("OPEN")});Object.defineProperty(Be.prototype,"OPEN",{enumerable:!0,value:Vr.indexOf("OPEN")});Object.defineProperty(Be,"CLOSING",{enumerable:!0,value:Vr.indexOf("CLOSING")});Object.defineProperty(Be.prototype,"CLOSING",{enumerable:!0,value:Vr.indexOf("CLOSING")});Object.defineProperty(Be,"CLOSED",{enumerable:!0,value:Vr.indexOf("CLOSED")});Object.defineProperty(Be.prototype,"CLOSED",{enumerable:!0,value:Vr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(Be.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(Be.prototype,`on${r}`,{enumerable:!0,get(){for(let e of this.listeners(r))if(e[of])return e[QR];return null},set(e){for(let t of this.listeners(r))if(t[of]){this.removeListener(r,t);break}typeof e=="function"&&this.addEventListener(r,e,{[of]:!0})}})});Be.prototype.addEventListener=eM;Be.prototype.removeEventListener=tM;d0.exports=Be;function a0(r,e,t,i){let n={protocolVersion:cf[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!cf.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${cf.join(", ")})`);let s;if(e instanceof af)s=e;else try{s=new af(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),r._url=s.href;let a=s.protocol==="wss:",o=s.protocol==="ws+unix:",c;if(s.protocol!=="ws:"&&!a&&!o?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:o&&!s.pathname?c="The URL's pathname is empty":s.hash&&(c="The URL contains a fragment identifier"),c){let h=new SyntaxError(c);if(r._redirects===0)throw h;Ql(r,h);return}let l=a?443:80,u=VR(16).toString("base64"),d=a?KR.request:HR.request,p=new Set,m;if(n.createConnection=a?cM:oM,n.defaultPort=n.defaultPort||l,n.port=s.port||l,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={...n.headers,"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(m=new Ci(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=rM({[Ci.extensionName]:m.offer()})),t.length){for(let h of t){if(typeof h!="string"||!aM.test(h)||p.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(h)}n.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),o){let h=n.path.split(":");n.socketPath=h[0],n.path=h[1]}let f;if(n.followRedirects){if(r._redirects===0){r._originalIpc=o,r._originalSecure=a,r._originalHostOrSocketPath=o?n.socketPath:s.host;let h=i&&i.headers;if(i={...i,headers:{}},h)for(let[g,w]of Object.entries(h))i.headers[g.toLowerCase()]=w}else if(r.listenerCount("redirect")===0){let h=o?r._originalIpc?n.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:s.host===r._originalHostOrSocketPath;(!h||r._originalSecure&&!a)&&(delete n.headers.authorization,delete n.headers.cookie,h||delete n.headers.host,n.auth=void 0)}n.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(n.auth).toString("base64")),f=r._req=d(n),r._redirects&&r.emit("redirect",r.url,f)}else f=r._req=d(n);n.timeout&&f.on("timeout",()=>{Dt(r,f,"Opening handshake has timed out")}),f.on("error",h=>{f===null||f[s0]||(f=r._req=null,Ql(r,h))}),f.on("response",h=>{let g=h.headers.location,w=h.statusCode;if(g&&n.followRedirects&&w>=300&&w<400){if(++r._redirects>n.maxRedirects){Dt(r,f,"Maximum redirects exceeded");return}f.abort();let v;try{v=new af(g,e)}catch{let b=new SyntaxError(`Invalid URL: ${g}`);Ql(r,b);return}a0(r,v,t,i)}else r.emit("unexpected-response",f,h)||Dt(r,f,`Unexpected server response: ${h.statusCode}`)}),f.on("upgrade",(h,g,w)=>{if(r.emit("upgrade",h),r.readyState!==Be.CONNECTING)return;if(f=r._req=null,h.headers.upgrade.toLowerCase()!=="websocket"){Dt(r,g,"Invalid Upgrade header");return}let v=GR("sha1").update(u+YR).digest("base64");if(h.headers["sec-websocket-accept"]!==v){Dt(r,g,"Invalid Sec-WebSocket-Accept header");return}let _=h.headers["sec-websocket-protocol"],b;if(_!==void 0?p.size?p.has(_)||(b="Server sent an invalid subprotocol"):b="Server sent a subprotocol but none was requested":p.size&&(b="Server sent no subprotocol"),b){Dt(r,g,b);return}_&&(r._protocol=_);let P=h.headers["sec-websocket-extensions"];if(P!==void 0){if(!m){Dt(r,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let T;try{T=iM(P)}catch{Dt(r,g,"Invalid Sec-WebSocket-Extensions header");return}let R=Object.keys(T);if(R.length!==1||R[0]!==Ci.extensionName){Dt(r,g,"Server indicated an extension that was not requested");return}try{m.accept(T[Ci.extensionName])}catch{Dt(r,g,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[Ci.extensionName]=m}r.setSocket(g,w,{generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})}),n.finishRequest?n.finishRequest(f,r):f.end()}function Ql(r,e){r._readyState=Be.CLOSING,r.emit("error",e),r.emitClose()}function oM(r){return r.path=r.socketPath,i0.connect(r)}function cM(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=i0.isIP(r.host)?"":r.host),WR.connect(r)}function Dt(r,e,t){r._readyState=Be.CLOSING;let i=new Error(t);Error.captureStackTrace(i,Dt),e.setHeader?(e[s0]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Ql,r,i)):(e.destroy(i),e.once("error",r.emit.bind(r,"error")),e.once("close",r.emitClose.bind(r)))}function lf(r,e,t){if(e){let i=nM(e).length;r._socket?r._sender._bufferedBytes+=i:r._bufferedAmount+=i}if(t){let i=new Error(`WebSocket is not open: readyState ${r.readyState} (${Vr[r.readyState]})`);process.nextTick(t,i)}}function lM(r,e){let t=this[mt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=r,t._socket[mt]!==void 0&&(t._socket.removeListener("data",Zl),process.nextTick(o0,t._socket),r===1005?t.close():t.close(r,e))}function uM(){let r=this[mt];r.isPaused||r._socket.resume()}function dM(r){let e=this[mt];e._socket[mt]!==void 0&&(e._socket.removeListener("data",Zl),process.nextTick(o0,e._socket),e.close(r[ZR])),e.emit("error",r)}function r0(){this[mt].emitClose()}function pM(r,e){this[mt].emit("message",r,e)}function hM(r){let e=this[mt];e.pong(r,!e._isServer,n0),e.emit("ping",r)}function fM(r){this[mt].emit("pong",r)}function o0(r){r.resume()}function c0(){let r=this[mt];this.removeListener("close",c0),this.removeListener("data",Zl),this.removeListener("end",l0),r._readyState=Be.CLOSING;let e;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(e=r._socket.read())!==null&&r._receiver.write(e),r._receiver.end(),this[mt]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",r0),r._receiver.on("finish",r0))}function Zl(r){this[mt]._receiver.write(r)||this.pause()}function l0(){let r=this[mt];r._readyState=Be.CLOSING,r._receiver.end(),this.end()}function u0(){let r=this[mt];this.removeListener("error",u0),this.on("error",n0),r&&(r._readyState=Be.CLOSING,this.destroy())}});var h0=k((Bq,p0)=>{"use strict";var{tokenChars:mM}=Za();function gM(r){let e=new Set,t=-1,i=-1,n=0;for(n;n<r.length;n++){let a=r.charCodeAt(n);if(i===-1&&mM[a]===1)t===-1&&(t=n);else if(n!==0&&(a===32||a===9))i===-1&&t!==-1&&(i=n);else if(a===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${n}`);i===-1&&(i=n);let o=r.slice(t,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),t=i=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(t===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let s=r.slice(t,n);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}p0.exports={parse:gM}});var y0=k((qq,v0)=>{"use strict";var xM=require("events"),eu=require("http"),{Duplex:jq}=require("stream"),{createHash:wM}=require("crypto"),f0=sf(),ln=Qa(),vM=h0(),yM=uf(),{GUID:bM,kWebSocket:_M}=Si(),EM=/^[+/0-9A-Za-z]{22}==$/,m0=0,g0=1,w0=2,df=class extends xM{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:yM,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=eu.createServer((i,n)=>{let s=eu.STATUS_CODES[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=SM(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,a)=>{this.handleUpgrade(n,s,a,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=m0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===w0){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(io,this);return}if(e&&this.once("close",e),this._state!==g0)if(this._state=g0,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(io,this):process.nextTick(io,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{io(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",x0);let s=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){un(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){un(this,e,t,400,"Invalid Upgrade header");return}if(!s||!EM.test(s)){un(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){un(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){no(t,400);return}let o=e.headers["sec-websocket-protocol"],c=new Set;if(o!==void 0)try{c=vM.parse(o)}catch{un(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let l=e.headers["sec-websocket-extensions"],u={};if(this.options.perMessageDeflate&&l!==void 0){let d=new ln(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=f0.parse(l);p[ln.extensionName]&&(d.accept(p[ln.extensionName]),u[ln.extensionName]=d)}catch{un(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let d={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(d,(p,m,f,h)=>{if(!p)return no(t,m||401,f,h);this.completeUpgrade(u,s,c,e,t,i,n)});return}if(!this.options.verifyClient(d))return no(t,401)}this.completeUpgrade(u,s,c,e,t,i,n)}completeUpgrade(e,t,i,n,s,a,o){if(!s.readable||!s.writable)return s.destroy();if(s[_M])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>m0)return no(s,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${wM("sha1").update(t+bM).digest("base64")}`],u=new this.options.WebSocket(null);if(i.size){let d=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[ln.extensionName]){let d=e[ln.extensionName].params,p=f0.format({[ln.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,n),s.write(l.concat(`\r
`).join(`\r
`)),s.removeListener("error",x0),u.setSocket(s,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(io,this)})),o(u,n)}};v0.exports=df;function SM(r,e){for(let t of Object.keys(e))r.on(t,e[t]);return function(){for(let i of Object.keys(e))r.removeListener(i,e[i])}}function io(r){r._state=w0,r.emit("close")}function x0(){this.destroy()}function no(r,e,t,i){t=t||eu.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...i},r.once("finish",r.destroy),r.end(`HTTP/1.1 ${e} ${eu.STATUS_CODES[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+t)}function un(r,e,t,i,n){if(r.listenerCount("wsClientError")){let s=new Error(n);Error.captureStackTrace(s,un),r.emit("wsClientError",s,t,e)}else no(t,i,n)}});var kM,CM,TM,b0,PM,_0,E0=I(()=>{kM=V(_b(),1),CM=V(ef(),1),TM=V(rf(),1),b0=V(uf(),1),PM=V(y0(),1),_0=b0.default});var S0,k0=I(()=>{S0="21.3.4"});var C0={};kn(C0,{NodeWebSocketTransport:()=>Cs});var Cs,pf=I(()=>{E0();k0();Cs=class r{static create(e,t){return new Promise((i,n)=>{let s=new _0(e,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:268435456,headers:{"User-Agent":`Puppeteer ${S0}`,...t}});s.addEventListener("open",()=>i(new r(s))),s.addEventListener("error",n)})}#e;onmessage;onclose;constructor(e){this.#e=e,this.#e.addEventListener("message",t=>{this.onmessage&&this.onmessage.call(null,t.data)}),this.#e.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this.#e.addEventListener("error",()=>{})}send(e){this.#e.send(e)}close(){this.#e.close()}}});var T0={};kn(T0,{BrowserWebSocketTransport:()=>hf});var hf,ff=I(()=>{hf=class r{static create(e){return new Promise((t,i)=>{let n=new WebSocket(e);n.addEventListener("open",()=>t(new r(n))),n.addEventListener("error",i)})}#e;onmessage;onclose;constructor(e){this.#e=e,this.#e.addEventListener("message",t=>{this.onmessage&&this.onmessage.call(null,t.data)}),this.#e.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this.#e.addEventListener("error",()=>{})}send(e){this.#e.send(e)}close(){this.#e.close()}}});var A0=k((b8,M0)=>{"use strict";M0.exports={}});var a_=k((X8,s_)=>{s_.exports=n_;function n_(r,e){if(r&&e)return n_(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(i){t[i]=r[i]}),t;function t(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=r.apply(this,i),a=i[i.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(o){s[o]=a[o]}),s}}});var Cf=k((J8,kf)=>{var o_=a_();kf.exports=o_(mu);kf.exports.strict=o_(c_);mu.proto=mu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return mu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return c_(this)},configurable:!0})});function mu(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function c_(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var d_=k((Y8,u_)=>{var VM=Cf(),GM=function(){},XM=function(r){return r.setHeader&&typeof r.abort=="function"},JM=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},l_=function(r,e,t){if(typeof e=="function")return l_(r,null,e);e||(e={}),t=VM(t||GM);var i=r._writableState,n=r._readableState,s=e.readable||e.readable!==!1&&r.readable,a=e.writable||e.writable!==!1&&r.writable,o=!1,c=function(){r.writable||l()},l=function(){a=!1,s||t.call(r)},u=function(){s=!1,a||t.call(r)},d=function(g){t.call(r,g?new Error("exited with error code: "+g):null)},p=function(g){t.call(r,g)},m=function(){process.nextTick(f)},f=function(){if(!o){if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"));if(a&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"))}},h=function(){r.req.on("finish",l)};return XM(r)?(r.on("complete",l),r.on("abort",m),r.req?h():r.on("request",h)):a&&!i&&(r.on("end",c),r.on("close",c)),JM(r)&&r.on("exit",d),r.on("end",u),r.on("finish",l),e.error!==!1&&r.on("error",p),r.on("close",m),function(){o=!0,r.removeListener("complete",l),r.removeListener("abort",m),r.removeListener("request",h),r.req&&r.req.removeListener("finish",l),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",l),r.removeListener("exit",d),r.removeListener("end",u),r.removeListener("error",p),r.removeListener("close",m)}};u_.exports=l_});var Pf=k((Q8,h_)=>{var YM=Cf(),QM=d_(),Tf=require("fs"),uo=function(){},ZM=/^v?\.0/.test(process.version),gu=function(r){return typeof r=="function"},eA=function(r){return!ZM||!Tf?!1:(r instanceof(Tf.ReadStream||uo)||r instanceof(Tf.WriteStream||uo))&&gu(r.close)},tA=function(r){return r.setHeader&&gu(r.abort)},rA=function(r,e,t,i){i=YM(i);var n=!1;r.on("close",function(){n=!0}),QM(r,{readable:e,writable:t},function(a){if(a)return i(a);n=!0,i()});var s=!1;return function(a){if(!n&&!s){if(s=!0,eA(r))return r.close(uo);if(tA(r))return r.abort();if(gu(r.destroy))return r.destroy();i(a||new Error("stream was destroyed"))}}},p_=function(r){r()},iA=function(r,e){return r.pipe(e)},nA=function(){var r=Array.prototype.slice.call(arguments),e=gu(r[r.length-1]||uo)&&r.pop()||uo;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,i=r.map(function(n,s){var a=s<r.length-1,o=s>0;return rA(n,a,o,function(c){t||(t=c),c&&i.forEach(p_),!a&&(i.forEach(p_),e(t))})});return r.reduce(iA)};h_.exports=nA});var m_=k((Z8,f_)=>{"use strict";var{PassThrough:sA}=require("stream");f_.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,i=t==="buffer",n=!1;e?n=!(t||i):t=t||"utf8",i&&(t=null);let s=new sA({objectMode:n});t&&s.setEncoding(t);let a=0,o=[];return s.on("data",c=>{o.push(c),n?a=o.length:a+=c.length}),s.getBufferedValue=()=>e?o:i?Buffer.concat(o,a):o.join(""),s.getBufferedLength=()=>a,s}});var g_=k((e7,Os)=>{"use strict";var{constants:aA}=require("buffer"),oA=Pf(),cA=m_(),xu=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function wu(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,i;return await new Promise((n,s)=>{let a=o=>{o&&i.getBufferedLength()<=aA.MAX_LENGTH&&(o.bufferedData=i.getBufferedValue()),s(o)};i=oA(r,cA(e),o=>{if(o){a(o);return}n()}),i.on("data",()=>{i.getBufferedLength()>t&&a(new xu)})}),i.getBufferedValue()}Os.exports=wu;Os.exports.default=wu;Os.exports.buffer=(r,e)=>wu(r,{...e,encoding:"buffer"});Os.exports.array=(r,e)=>wu(r,{...e,array:!0});Os.exports.MaxBufferError=xu});var y_=k((t7,v_)=>{v_.exports=vu;function vu(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}vu.prototype.go=function(r){this.pending<this.max?w_(this,r):this.waiting.push(r)};vu.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};vu.prototype.hold=function(){return x_(this)};function x_(r){r.pending+=1;var e=!1;return t;function t(n){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||n,r.pending-=1,r.waiting.length>0&&r.pending<r.max)w_(r,r.waiting.shift());else if(r.pending===0){var s=r.listeners;r.listeners=[],s.forEach(i)}}function i(n){n(r.error)}}function w_(r,e){e(x_(r))}});var __=k(ho=>{var po=require("fs"),yu=require("util"),If=require("stream"),b_=If.Readable,Rf=If.Writable,lA=If.PassThrough,uA=y_(),bu=require("events").EventEmitter;ho.createFromBuffer=dA;ho.createFromFd=pA;ho.BufferSlicer=Xr;ho.FdSlicer=Gr;yu.inherits(Gr,bu);function Gr(r,e){e=e||{},bu.call(this),this.fd=r,this.pend=new uA,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Gr.prototype.read=function(r,e,t,i,n){var s=this;s.pend.go(function(a){po.read(s.fd,r,e,t,i,function(o,c,l){a(),n(o,c,l)})})};Gr.prototype.write=function(r,e,t,i,n){var s=this;s.pend.go(function(a){po.write(s.fd,r,e,t,i,function(o,c,l){a(),n(o,c,l)})})};Gr.prototype.createReadStream=function(r){return new _u(this,r)};Gr.prototype.createWriteStream=function(r){return new Eu(this,r)};Gr.prototype.ref=function(){this.refCount+=1};Gr.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&po.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};yu.inherits(_u,b_);function _u(r,e){e=e||{},b_.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}_u.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(i){if(e.destroyed)return i();var n=new Buffer(t);po.read(e.context.fd,n,0,t,e.pos,function(s,a){s?e.destroy(s):a===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=a,e.push(n.slice(0,a))),i()})})}};_u.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};yu.inherits(Eu,Rf);function Eu(r,e){e=e||{},Rf.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Eu.prototype._write=function(r,e,t){var i=this;if(!i.destroyed){if(i.pos+r.length>i.endOffset){var n=new Error("maximum file length exceeded");n.code="ETOOBIG",i.destroy(),t(n);return}i.context.pend.go(function(s){if(i.destroyed)return s();po.write(i.context.fd,r,0,r.length,i.pos,function(a,o){a?(i.destroy(),s(),t(a)):(i.bytesWritten+=o,i.pos+=o,i.emit("progress"),s(),t())})})}};Eu.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};yu.inherits(Xr,bu);function Xr(r,e){bu.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Xr.prototype.read=function(r,e,t,i,n){var s=i+t,a=s-this.buffer.length,o=a>0?a:t;this.buffer.copy(r,e,i,s),setImmediate(function(){n(null,o)})};Xr.prototype.write=function(r,e,t,i,n){r.copy(this.buffer,i,e,e+t),setImmediate(function(){n(null,t,r)})};Xr.prototype.createReadStream=function(r){r=r||{};var e=new lA(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),i=0;;){var n=i+this.maxChunkSize;if(n>=t.length){i<t.length&&e.write(t.slice(i,t.length));break}e.write(t.slice(i,n)),i=n}return e.end(),e.destroy=function(){e.destroyed=!0},e};Xr.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new Rf(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(i,n,s){if(!t.destroyed){var a=t.pos+i.length;if(a>t.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG",t.destroyed=!0,s(o);return}i.copy(e.buffer,t.pos,0,i.length),t.bytesWritten+=i.length,t.pos=a,t.emit("progress"),s()}},t.destroy=function(){t.destroyed=!0},t};Xr.prototype.ref=function(){this.refCount+=1};Xr.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function dA(r,e){return new Xr(r,e)}function pA(r,e){return new Gr(r,e)}});var k_=k((i7,S_)=>{var Ti=require("buffer").Buffer,Mf=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Mf=new Int32Array(Mf));function E_(r){if(Ti.isBuffer(r))return r;var e=typeof Ti.alloc=="function"&&typeof Ti.from=="function";if(typeof r=="number")return e?Ti.alloc(r):new Ti(r);if(typeof r=="string")return e?Ti.from(r):new Ti(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function hA(r){var e=E_(4);return e.writeInt32BE(r,0),e}function Af(r,e){r=E_(r),Ti.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,i=0;i<r.length;i++)t=Mf[(t^r[i])&255]^t>>>8;return t^-1}function Of(){return hA(Af.apply(null,arguments))}Of.signed=function(){return Af.apply(null,arguments)};Of.unsigned=function(){return Af.apply(null,arguments)>>>0};S_.exports=Of});var A_=k(_r=>{var Nf=require("fs"),fA=require("zlib"),C_=__(),mA=k_(),Cu=require("util"),Tu=require("events").EventEmitter,T_=require("stream").Transform,Df=require("stream").PassThrough,gA=require("stream").Writable;_r.open=xA;_r.fromFd=P_;_r.fromBuffer=wA;_r.fromRandomAccessReader=Lf;_r.dosDateTimeToDate=R_;_r.validateFileName=M_;_r.ZipFile=Pi;_r.Entry=fo;_r.RandomAccessReader=Ii;function xA(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=ku),Nf.open(r,"r",function(i,n){if(i)return t(i);P_(n,e,function(s,a){s&&Nf.close(n,ku),t(s,a)})})}function P_(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=ku),Nf.fstat(r,function(i,n){if(i)return t(i);var s=C_.createFromFd(r,{autoClose:!0});Lf(s,n.size,e,t)})}function wA(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var i=C_.createFromBuffer(r,{maxChunkSize:65536});Lf(i,r.length,e,t)}function Lf(r,e,t,i){typeof t=="function"&&(i=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var n=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),i==null&&(i=ku),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var s=22,a=65535,o=Math.min(s+a,e),c=br(o),l=e-c.length;Ns(r,c,0,o,l,function(u){if(u)return i(u);for(var d=o-s;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var p=c.slice(d),m=p.readUInt16LE(4);if(m!==0)return i(new Error("multi-disk zip files are not supported: found disk number: "+m));var f=p.readUInt16LE(10),h=p.readUInt32LE(16),g=p.readUInt16LE(20),w=p.length-s;if(g!==w)return i(new Error("invalid comment length. expected: "+w+". found: "+g));var v=n?Su(p,22,p.length,!1):p.slice(22);if(!(f===65535||h===4294967295))return i(null,new Pi(r,h,e,f,v,t.autoClose,t.lazyEntries,n,t.validateEntrySizes,t.strictFileNames));var _=br(20),b=l+d-_.length;Ns(r,_,0,_.length,b,function(P){if(P)return i(P);if(_.readUInt32LE(0)!==117853008)return i(new Error("invalid zip64 end of central directory locator signature"));var T=Ds(_,8),R=br(56);Ns(r,R,0,R.length,T,function(O){return O?i(O):R.readUInt32LE(0)!==101075792?i(new Error("invalid zip64 end of central directory record signature")):(f=Ds(R,32),h=Ds(R,48),i(null,new Pi(r,h,e,f,v,t.autoClose,t.lazyEntries,n,t.validateEntrySizes,t.strictFileNames)))})});return}i(new Error("end of central directory record signature not found"))})}Cu.inherits(Pi,Tu);function Pi(r,e,t,i,n,s,a,o,c,l){var u=this;Tu.call(u),u.reader=r,u.reader.on("error",function(d){I_(u,d)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=t,u.entryCount=i,u.comment=n,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!a,u.decodeStrings=!!o,u.validateEntrySizes=!!c,u.strictFileNames=!!l,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Pi.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function sr(r,e){r.autoClose&&r.close(),I_(r,e)}function I_(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}Pi.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Pi.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=br(46);Ns(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return sr(r,t);if(!r.emittedError){var i=new fo,n=e.readUInt32LE(0);if(n!==33639248)return sr(r,new Error("invalid central directory file header signature: 0x"+n.toString(16)));if(i.versionMadeBy=e.readUInt16LE(4),i.versionNeededToExtract=e.readUInt16LE(6),i.generalPurposeBitFlag=e.readUInt16LE(8),i.compressionMethod=e.readUInt16LE(10),i.lastModFileTime=e.readUInt16LE(12),i.lastModFileDate=e.readUInt16LE(14),i.crc32=e.readUInt32LE(16),i.compressedSize=e.readUInt32LE(20),i.uncompressedSize=e.readUInt32LE(24),i.fileNameLength=e.readUInt16LE(28),i.extraFieldLength=e.readUInt16LE(30),i.fileCommentLength=e.readUInt16LE(32),i.internalFileAttributes=e.readUInt16LE(36),i.externalFileAttributes=e.readUInt32LE(38),i.relativeOffsetOfLocalHeader=e.readUInt32LE(42),i.generalPurposeBitFlag&64)return sr(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=br(i.fileNameLength+i.extraFieldLength+i.fileCommentLength),Ns(r.reader,e,0,e.length,r.readEntryCursor,function(s){if(s)return sr(r,s);if(!r.emittedError){var a=(i.generalPurposeBitFlag&2048)!==0;i.fileName=r.decodeStrings?Su(e,0,i.fileNameLength,a):e.slice(0,i.fileNameLength);var o=i.fileNameLength+i.extraFieldLength,c=e.slice(i.fileNameLength,o);i.extraFields=[];for(var l=0;l<c.length-3;){var u=c.readUInt16LE(l+0),d=c.readUInt16LE(l+2),p=l+4,m=p+d;if(m>c.length)return sr(r,new Error("extra field length exceeds extra field buffer size"));var f=br(d);c.copy(f,0,p,m),i.extraFields.push({id:u,data:f}),l=m}if(i.fileComment=r.decodeStrings?Su(e,o,o+i.fileCommentLength,a):e.slice(o,o+i.fileCommentLength),i.comment=i.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,i.uncompressedSize===4294967295||i.compressedSize===4294967295||i.relativeOffsetOfLocalHeader===4294967295){for(var h=null,l=0;l<i.extraFields.length;l++){var g=i.extraFields[l];if(g.id===1){h=g.data;break}}if(h==null)return sr(r,new Error("expected zip64 extended information extra field"));var w=0;if(i.uncompressedSize===4294967295){if(w+8>h.length)return sr(r,new Error("zip64 extended information extra field does not include uncompressed size"));i.uncompressedSize=Ds(h,w),w+=8}if(i.compressedSize===4294967295){if(w+8>h.length)return sr(r,new Error("zip64 extended information extra field does not include compressed size"));i.compressedSize=Ds(h,w),w+=8}if(i.relativeOffsetOfLocalHeader===4294967295){if(w+8>h.length)return sr(r,new Error("zip64 extended information extra field does not include relative header offset"));i.relativeOffsetOfLocalHeader=Ds(h,w),w+=8}}if(r.decodeStrings)for(var l=0;l<i.extraFields.length;l++){var g=i.extraFields[l];if(g.id===28789){if(g.data.length<6||g.data.readUInt8(0)!==1)continue;var v=g.data.readUInt32LE(1);if(mA.unsigned(e.slice(0,i.fileNameLength))!==v)continue;i.fileName=Su(g.data,5,g.data.length,!0);break}}if(r.validateEntrySizes&&i.compressionMethod===0){var _=i.uncompressedSize;if(i.isEncrypted()&&(_+=12),i.compressedSize!==_){var b="compressed/uncompressed size mismatch for stored file: "+i.compressedSize+" != "+i.uncompressedSize;return sr(r,new Error(b))}}if(r.decodeStrings){r.strictFileNames||(i.fileName=i.fileName.replace(/\\/g,"/"));var P=M_(i.fileName,r.validateFileNameOptions);if(P!=null)return sr(r,new Error(P))}r.emit("entry",i),r.lazyEntries||r._readEntry()}})}})}};Pi.prototype.openReadStream=function(r,e,t){var i=this,n=0,s=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(n=e.start,n<0)throw new Error("options.start < 0");if(n>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<n)throw new Error("options.end < options.start")}}if(!i.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));i.reader.ref();var a=br(30);Ns(i.reader,a,0,a.length,r.relativeOffsetOfLocalHeader,function(o){try{if(o)return t(o);var c=a.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var l=a.readUInt16LE(26),u=a.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+a.length+l+u,p;if(r.compressionMethod===0)p=!1;else if(r.compressionMethod===8)p=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var m=d,f=m+r.compressedSize;if(r.compressedSize!==0&&f>i.fileSize)return t(new Error("file data overflows file bounds: "+m+" + "+r.compressedSize+" > "+i.fileSize));var h=i.reader.createReadStream({start:m+n,end:m+s}),g=h;if(p){var w=!1,v=fA.createInflateRaw();h.on("error",function(_){setImmediate(function(){w||v.emit("error",_)})}),h.pipe(v),i.validateEntrySizes?(g=new mo(r.uncompressedSize),v.on("error",function(_){setImmediate(function(){w||g.emit("error",_)})}),v.pipe(g)):g=v,g.destroy=function(){w=!0,v!==g&&v.unpipe(g),h.unpipe(v),h.destroy()}}t(null,g)}finally{i.reader.unref()}})};function fo(){}fo.prototype.getLastModDate=function(){return R_(this.lastModFileDate,this.lastModFileTime)};fo.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};fo.prototype.isCompressed=function(){return this.compressionMethod===8};function R_(r,e){var t=r&31,i=(r>>5&15)-1,n=(r>>9&127)+1980,s=0,a=(e&31)*2,o=e>>5&63,c=e>>11&31;return new Date(n,i,t,c,o,a,s)}function M_(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function Ns(r,e,t,i,n,s){if(i===0)return setImmediate(function(){s(null,br(0))});r.read(e,t,i,n,function(a,o){if(a)return s(a);if(o<i)return s(new Error("unexpected EOF"));s()})}Cu.inherits(mo,T_);function mo(r){T_.call(this),this.actualByteCount=0,this.expectedByteCount=r}mo.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(i))}t(null,r)};mo.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};Cu.inherits(Ii,Tu);function Ii(){Tu.call(this),this.refCount=0}Ii.prototype.ref=function(){this.refCount+=1};Ii.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};Ii.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var i=new Df;return setImmediate(function(){i.end()}),i}var n=this._readStreamForRange(e,t),s=!1,a=new Pu(this);n.on("error",function(c){setImmediate(function(){s||a.emit("error",c)})}),a.destroy=function(){n.unpipe(a),a.unref(),n.destroy()};var o=new mo(t-e);return a.on("error",function(c){setImmediate(function(){s||o.emit("error",c)})}),o.destroy=function(){s=!0,a.unpipe(o),a.destroy()},n.pipe(a).pipe(o)};Ii.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};Ii.prototype.read=function(r,e,t,i,n){var s=this.createReadStream({start:i,end:i+t}),a=new gA,o=0;a._write=function(c,l,u){c.copy(r,e+o,0,c.length),o+=c.length,u()},a.on("finish",n),s.on("error",function(c){n(c)}),s.pipe(a)};Ii.prototype.close=function(r){setImmediate(r)};Cu.inherits(Pu,Df);function Pu(r){Df.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}Pu.prototype._flush=function(r){this.unref(),r()};Pu.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var vA="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function Su(r,e,t,i){if(i)return r.toString("utf8",e,t);for(var n="",s=e;s<t;s++)n+=vA[r[s]];return n}function Ds(r,e){var t=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return i*4294967296+t}var br;typeof Buffer.allocUnsafe=="function"?br=function(r){return Buffer.allocUnsafe(r)}:br=function(r){return new Buffer(r)};function ku(r){if(r)throw r}});var N_=k((s7,O_)=>{var ar=qc()("extract-zip"),{createWriteStream:yA,promises:Ls}=require("fs"),bA=g_(),hn=require("path"),{promisify:Bf}=require("util"),_A=require("stream"),EA=A_(),SA=Bf(EA.open),kA=Bf(_A.pipeline),Ff=class{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return ar("opening",this.zipPath,"with opts",this.opts),this.zipfile=await SA(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,t)=>{this.zipfile.on("error",i=>{this.canceled=!0,t(i)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(ar("zip extraction complete"),e())}),this.zipfile.on("entry",async i=>{if(this.canceled){ar("skipping entry",i.fileName,{cancelled:this.canceled});return}if(ar("zipfile entry",i.fileName),i.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let n=hn.dirname(hn.join(this.opts.dir,i.fileName));try{await Ls.mkdir(n,{recursive:!0});let s=await Ls.realpath(n);if(hn.relative(this.opts.dir,s).split(hn.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${i.fileName}`);await this.extractEntry(i),ar("finished processing",i.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),t(s)}})})}async extractEntry(e){if(this.canceled){ar("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let t=hn.join(this.opts.dir,e.fileName),i=e.externalFileAttributes>>16&65535,n=61440,s=16384,a=40960,o=(i&n)===a,c=(i&n)===s;!c&&e.fileName.endsWith("/")&&(c=!0);let l=e.versionMadeBy>>8;c||(c=l===0&&e.externalFileAttributes===16),ar("extracting entry",{filename:e.fileName,isDir:c,isSymlink:o});let u=this.getExtractedMode(i,c)&511,d=c?t:hn.dirname(t),p={recursive:!0};if(c&&(p.mode=u),ar("mkdir",{dir:d,...p}),await Ls.mkdir(d,p),c)return;ar("opening read stream",t);let m=await Bf(this.zipfile.openReadStream.bind(this.zipfile))(e);if(o){let f=await bA(m);ar("creating symlink",f,t),await Ls.symlink(f,t)}else await kA(m,yA(t,{mode:u}))}getExtractedMode(e,t){let i=e;return i===0&&(t?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}};O_.exports=async function(r,e){if(ar("creating target directory",e.dir),!hn.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await Ls.mkdir(e.dir,{recursive:!0}),e.dir=await Ls.realpath(e.dir),new Ff(r,e).extract()}});var L_=k((a7,D_)=>{D_.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)});var B_=k((o7,F_)=>{F_.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):L_()});var q_=k((l7,j_)=>{j_.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var jf=k((d7,$_)=>{var U_=q_();$_.exports=class{constructor(e){this.hwm=e||16,this.head=new U_(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let t=this.head;this.head=t.next=new U_(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var tm=k((p7,uE)=>{var{EventEmitter:CA}=require("events"),Nu=new Error("Stream was destroyed"),qf=new Error("Premature close"),V_=B_(),G_=jf(),We=(1<<27)-1,xn=1,Gf=2,fn=4,go=8,X_=We^xn,TA=We^Gf,_o=16,xo=32,Us=64,Ri=128,wo=256,Xf=512,mn=1024,Uf=2048,Jf=4096,Yf=8192,or=16384,Fs=32768,Du=65536,J_=wo|Xf,PA=_o|Du,IA=Us|_o,RA=Jf|Ri,MA=We^_o,AA=We^Us,OA=We^(Us|Du),NA=We^Du,DA=We^wo,LA=We^(Ri|Yf),FA=We^mn,z_=We^J_,Y_=We^Fs,BA=We^xo,Mi=1<<17,js=2<<17,Eo=4<<17,gn=8<<17,So=16<<17,wn=32<<17,$f=64<<17,Bs=128<<17,Qf=256<<17,qs=512<<17,Q_=We^(Mi|Qf),Z_=We^Eo,jA=We^qs,qA=We^So,UA=We^gn,eE=We^Bs,$A=We^js,vo=_o|Mi,tE=We^vo,Zf=or|wn,Jr=fn|go|Gf,Lt=Jr|xn,rE=Jr|Zf,zA=Z_&AA,em=Bs|Fs,KA=em&tE,iE=Lt|KA,HA=Lt|mn|or,K_=Lt|or|Ri,WA=Lt|mn|Ri,VA=Lt|Jf|Ri|Yf,GA=Lt|_o|mn|or|Du,XA=Jr|mn|or,JA=xo|Lt|Fs|Us,YA=Lt|qs|wn,QA=gn|So,nE=gn|Mi,ZA=gn|So|Lt|Mi,H_=Lt|Mi|gn,e3=Eo|Mi,t3=Mi|Qf,r3=Lt|qs|nE|wn,i3=So|Jr|qs|wn,n3=js|Lt|Bs|Eo,Iu=Symbol.asyncIterator||Symbol("asyncIterator"),Ru=class{constructor(e,{highWaterMark:t=16384,map:i=null,mapWritable:n,byteLength:s,byteLengthWritable:a}={}){this.stream=e,this.queue=new G_,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=a||s||lE,this.map=n||i,this.afterWrite=o3.bind(this),this.afterUpdateNextTick=u3.bind(this)}get ended(){return(this.stream._duplexState&wn)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=gn,!0):(this.stream._duplexState|=QA,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=UA),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|qs)&Z_}autoBatch(e,t){let i=[],n=this.stream;for(i.push(e);(n._duplexState&H_)===nE;)i.push(n._writableState.shift());if(n._duplexState&Lt)return t(null);n._writev(i,t)}update(){let e=this.stream;e._duplexState|=js;do{for(;(e._duplexState&H_)===gn;){let t=this.shift();e._duplexState|=t3,e._write(t,this.afterWrite)}e._duplexState&e3||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=$A}updateNonPrimary(){let e=this.stream;if((e._duplexState&r3)===qs){e._duplexState=(e._duplexState|Mi)&jA,e._final(a3.bind(this));return}if((e._duplexState&Jr)===fn){e._duplexState&em||(e._duplexState|=vo,e._destroy(sE.bind(this)));return}(e._duplexState&iE)===xn&&(e._duplexState=(e._duplexState|vo)&X_,e._open(aE.bind(this)))}continueUpdate(){return this.stream._duplexState&Bs?(this.stream._duplexState&=eE,!0):!1}updateCallback(){(this.stream._duplexState&n3)===Eo?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Bs||(this.stream._duplexState|=Bs,this.stream._duplexState&js||V_(this.afterUpdateNextTick))}},zf=class{constructor(e,{highWaterMark:t=16384,map:i=null,mapReadable:n,byteLength:s,byteLengthReadable:a}={}){this.stream=e,this.queue=new G_,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=a||s||lE,this.map=n||i,this.pipeTo=null,this.afterRead=c3.bind(this),this.afterUpdateNextTick=l3.bind(this)}get ended(){return(this.stream._duplexState&or)!==0}pipe(e,t){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof t!="function"&&(t=null),this.stream._duplexState|=Xf,this.pipeTo=e,this.pipeline=new Hf(this.stream,e,t),t&&this.stream.on("error",W_),bo(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",W_),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let i=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",i),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",s3.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let t=this.stream;return e===null?(this.highWaterMark=0,t._duplexState=(t._duplexState|mn)&OA,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=(t._duplexState|Ri)&NA,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=LA),e}unshift(e){let t=[this.map!==null?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let i=0;i<t.length-1;i++){let n=t[i];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){let e=this.stream;if((e._duplexState&K_)===Ri){let t=this.shift();return this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=z_),e._duplexState&Uf&&e.emit("data",t),t}return null}drain(){let e=this.stream;for(;(e._duplexState&K_)===Ri&&e._duplexState&J_;){let t=this.shift();this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=z_),e._duplexState&Uf&&e.emit("data",t)}}update(){let e=this.stream;e._duplexState|=xo;do{for(this.drain();this.buffered<this.highWaterMark&&!(e._duplexState&GA);)e._duplexState|=PA,e._read(this.afterRead),this.drain();(e._duplexState&VA)===RA&&(e._duplexState|=Yf,e.emit("readable")),e._duplexState&IA||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=BA}updateNonPrimary(){let e=this.stream;if((e._duplexState&WA)===mn&&(e._duplexState=(e._duplexState|or)&FA,e.emit("end"),(e._duplexState&rE)===Zf&&(e._duplexState|=fn),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Jr)===fn){e._duplexState&em||(e._duplexState|=vo,e._destroy(sE.bind(this)));return}(e._duplexState&iE)===xn&&(e._duplexState=(e._duplexState|vo)&X_,e._open(aE.bind(this)))}continueUpdate(){return this.stream._duplexState&Fs?(this.stream._duplexState&=Y_,!0):!1}updateCallback(){(this.stream._duplexState&JA)===Us?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Fs||(this.stream._duplexState|=Fs,this.stream._duplexState&xo||V_(this.afterUpdateNextTick))}},Kf=class{constructor(e){this.data=null,this.afterTransform=p3.bind(e),this.afterFinal=null}},Hf=class{constructor(e,t,i){this.from=e,this.to=t,this.afterPipe=i,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){if(t&&(this.error=t),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&or)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&or||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function s3(){this.stream._duplexState|=Xf,this.updateCallback()}function a3(r){let e=this.stream;r&&e.destroy(r),e._duplexState&Jr||(e._duplexState|=wn,e.emit("finish")),(e._duplexState&rE)===Zf&&(e._duplexState|=fn),e._duplexState&=Q_,e._duplexState&js?this.updateNextTick():this.update()}function sE(r){let e=this.stream;!r&&this.error!==Nu&&(r=this.error),r&&e.emit("error",r),e._duplexState|=go,e.emit("close");let t=e._readableState,i=e._writableState;if(t!==null&&t.pipeline!==null&&t.pipeline.done(e,r),i!==null){for(;i.drains!==null&&i.drains.length>0;)i.drains.shift().resolve(!1);i.pipeline!==null&&i.pipeline.done(e,r)}}function o3(r){let e=this.stream;r&&e.destroy(r),e._duplexState&=Q_,this.drains!==null&&d3(this.drains),(e._duplexState&ZA)===So&&(e._duplexState&=qA,(e._duplexState&$f)===$f&&e.emit("drain")),this.updateCallback()}function c3(r){r&&this.stream.destroy(r),this.stream._duplexState&=MA,this.updateCallback()}function l3(){this.stream._duplexState&xo||(this.stream._duplexState&=Y_,this.update())}function u3(){this.stream._duplexState&js||(this.stream._duplexState&=eE,this.update())}function d3(r){for(let e=0;e<r.length;e++)--r[e].writes===0&&(r.shift().resolve(!0),e--)}function aE(r){let e=this.stream;r&&e.destroy(r),e._duplexState&fn||(e._duplexState&HA||(e._duplexState|=Us),e._duplexState&YA||(e._duplexState|=Eo),e.emit("open")),e._duplexState&=tE,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function p3(r,e){e!=null&&this.push(e),this._writableState.afterWrite(r)}var yo=class extends CA{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",w3.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&go)!==0}get destroying(){return(this._duplexState&Jr)!==0}destroy(e){this._duplexState&Jr||(e||(e=Nu),this._duplexState=(this._duplexState|fn)&zA,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=Gf,this._predestroy(),this._duplexState&=TA,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(e,t){return this._readableState!==null&&(e==="data"&&(this._duplexState|=Uf|wo,this._readableState.updateNextTick()),e==="readable"&&(this._duplexState|=Jf,this._readableState.updateNextTick())),this._writableState!==null&&e==="drain"&&(this._duplexState|=$f,this._writableState.updateNextTick()),super.on(e,t)}},Mu=class r extends yo{constructor(e){super(e),this._duplexState|=xn|wn,this._readableState=new zf(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=wo,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=DA,this}static _fromAsyncIterator(e,t){let i,n=new r({...t,read(a){e.next().then(s).then(a.bind(null,null)).catch(a)},predestroy(){i=e.return()},destroy(a){if(!i)return a(null);i.then(a.bind(null,null)).catch(a)}});return n;function s(a){a.done?n.push(null):n.push(a.value)}}static from(e,t){if(g3(e))return e;if(e[Iu])return this._fromAsyncIterator(e[Iu](),t);Array.isArray(e)||(e=e===void 0?[]:[e]);let i=0;return new r({...t,read(n){this.push(i===e.length?null:e[i++]),n(null)}})}static isBackpressured(e){return(e._duplexState&XA)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&wo)===0}[Iu](){let e=this,t=null,i=null,n=null;return this.on("error",l=>{t=l}),this.on("readable",s),this.on("close",a),{[Iu](){return this},next(){return new Promise(function(l,u){i=l,n=u;let d=e.read();d!==null?o(d):e._duplexState&go&&o(null)})},return(){return c(null)},throw(l){return c(l)}};function s(){i!==null&&o(e.read())}function a(){i!==null&&o(null)}function o(l){n!==null&&(t?n(t):l===null&&!(e._duplexState&or)?n(Nu):i({value:l,done:l===null}),n=i=null)}function c(l){return e.destroy(l),new Promise((u,d)=>{if(e._duplexState&go)return u({value:void 0,done:!0});e.once("close",function(){l?d(l):u({value:void 0,done:!0})})})}}},Wf=class extends yo{constructor(e){super(e),this._duplexState|=xn|or,this._writableState=new Ru(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&i3)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let t=e._writableState,i=t.queue.length+(e._duplexState&Qf?1:0);return i===0?Promise.resolve(!0):(t.drains===null&&(t.drains=[]),new Promise(n=>{t.drains.push({writes:i,resolve:n})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Au=class extends Mu{constructor(e){super(e),this._duplexState=xn,this._writableState=new Ru(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Ou=class extends Au{constructor(e){super(e),this._transformState=new Kf(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(h3.bind(this))}},Vf=class extends Ou{};function h3(r,e){let t=this._transformState.afterFinal;if(r)return t(r);e!=null&&this.push(e),this.push(null),t(null)}function f3(...r){return new Promise((e,t)=>oE(...r,i=>{if(i)return t(i);e()}))}function oE(r,...e){let t=Array.isArray(r)?[...r,...e]:[r,...e],i=t.length&&typeof t[t.length-1]=="function"?t.pop():null;if(t.length<2)throw new Error("Pipeline requires at least 2 streams");let n=t[0],s=null,a=null;for(let l=1;l<t.length;l++)s=t[l],bo(n)?n.pipe(s,c):(o(n,!0,l>1,c),n.pipe(s)),n=s;if(i){let l=!1,u=bo(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{a===null&&(a=d)}),s.on("finish",()=>{l=!0,u||i(a)}),u&&s.on("close",()=>i(a||(l?null:qf)))}return s;function o(l,u,d,p){l.on("error",p),l.on("close",m);function m(){if(u&&l._readableState&&!l._readableState.ended||d&&l._writableState&&!l._writableState.ended)return p(qf)}}function c(l){if(!(!l||a)){a=l;for(let u of t)u.destroy(l)}}}function cE(r){return!!r._readableState||!!r._writableState}function bo(r){return typeof r._duplexState=="number"&&cE(r)}function m3(r){let e=r._readableState&&r._readableState.error||r._writableState&&r._writableState.error;return e===Nu?null:e}function g3(r){return bo(r)&&r.readable}function x3(r){return typeof r=="object"&&r!==null&&typeof r.byteLength=="number"}function lE(r){return x3(r)?r.byteLength:1024}function W_(){}function w3(){this.destroy(new Error("Stream aborted."))}uE.exports={pipeline:oE,pipelinePromise:f3,isStream:cE,isStreamx:bo,getStreamError:m3,Stream:yo,Writable:Wf,Readable:Mu,Duplex:Au,Transform:Ou,PassThrough:Vf}});var Lu=k((h7,dE)=>{function v3(r){return Buffer.isBuffer(r)||r instanceof Uint8Array}function y3(r){return Buffer.isEncoding(r)}function b3(r,e,t){return Buffer.alloc(r,e,t)}function _3(r){return Buffer.allocUnsafe(r)}function E3(r){return Buffer.allocUnsafeSlow(r)}function S3(r,e){return Buffer.byteLength(r,e)}function k3(r,e){return Buffer.compare(r,e)}function C3(r,e){return Buffer.concat(r,e)}function T3(r,e,t,i,n){return Ve(r).copy(e,t,i,n)}function P3(r,e){return Ve(r).equals(e)}function I3(r,e,t,i,n){return Ve(r).fill(e,t,i,n)}function R3(r,e,t){return Buffer.from(r,e,t)}function M3(r,e,t,i){return Ve(r).includes(e,t,i)}function A3(r,e,t,i){return Ve(r).indexOf(e,t,i)}function O3(r,e,t,i){return Ve(r).lastIndexOf(e,t,i)}function N3(r){return Ve(r).swap16()}function D3(r){return Ve(r).swap32()}function L3(r){return Ve(r).swap64()}function Ve(r){return Buffer.isBuffer(r)?r:Buffer.from(r.buffer,r.byteOffset,r.byteLength)}function F3(r,e,t,i){return Ve(r).toString(e,t,i)}function B3(r,e,t,i,n){return Ve(r).write(e,t,i,n)}function j3(r,e,t){return Ve(r).writeDoubleLE(e,t)}function q3(r,e,t){return Ve(r).writeFloatLE(e,t)}function U3(r,e,t){return Ve(r).writeUInt32LE(e,t)}function $3(r,e,t){return Ve(r).writeInt32LE(e,t)}function z3(r,e){return Ve(r).readDoubleLE(e)}function K3(r,e){return Ve(r).readFloatLE(e)}function H3(r,e){return Ve(r).readUInt32LE(e)}function W3(r,e){return Ve(r).readInt32LE(e)}dE.exports={isBuffer:v3,isEncoding:y3,alloc:b3,allocUnsafe:_3,allocUnsafeSlow:E3,byteLength:S3,compare:k3,concat:C3,copy:T3,equals:P3,fill:I3,from:R3,includes:M3,indexOf:A3,lastIndexOf:O3,swap16:N3,swap32:D3,swap64:L3,toBuffer:Ve,toString:F3,write:B3,writeDoubleLE:j3,writeFloatLE:q3,writeUInt32LE:U3,writeInt32LE:$3,readDoubleLE:z3,readFloatLE:K3,readUInt32LE:H3,readInt32LE:W3}});var nm=k(zs=>{var fe=Lu(),V3="0000000000000000000",G3="7777777777777777777",Fu="0".charCodeAt(0),pE=fe.from([117,115,116,97,114,0]),X3=fe.from([Fu,Fu]),J3=fe.from([117,115,116,97,114,32]),Y3=fe.from([32,0]),Q3=4095,ko=257,im=263;zs.decodeLongPath=function(e,t){return $s(e,0,e.length,t)};zs.encodePax=function(e){let t="";e.name&&(t+=rm(" path="+e.name+`
`)),e.linkname&&(t+=rm(" linkpath="+e.linkname+`
`));let i=e.pax;if(i)for(let n in i)t+=rm(" "+n+"="+i[n]+`
`);return fe.from(t)};zs.decodePax=function(e){let t={};for(;e.length;){let i=0;for(;i<e.length&&e[i]!==32;)i++;let n=parseInt(e.subarray(0,i).toString(),10);if(!n)return t;let s=fe.toString(e.subarray(i+1,n-1)),a=s.indexOf("=");if(a===-1)return t;t[s.slice(0,a)]=s.slice(a+1),e=e.subarray(n)}return t};zs.encode=function(e){let t=fe.alloc(512),i=e.name,n="";if(e.typeflag===5&&i[i.length-1]!=="/"&&(i+="/"),fe.byteLength(i)!==i.length)return null;for(;fe.byteLength(i)>100;){let s=i.indexOf("/");if(s===-1)return null;n+=n?"/"+i.slice(0,s):i.slice(0,s),i=i.slice(s+1)}return fe.byteLength(i)>100||fe.byteLength(n)>155||e.linkname&&fe.byteLength(e.linkname)>100?null:(fe.write(t,i),fe.write(t,Oi(e.mode&Q3,6),100),fe.write(t,Oi(e.uid,6),108),fe.write(t,Oi(e.gid,6),116),sO(e.size,t,124),fe.write(t,Oi(e.mtime.getTime()/1e3|0,11),136),t[156]=Fu+iO(e.type),e.linkname&&fe.write(t,e.linkname,157),fe.copy(pE,t,ko),fe.copy(X3,t,im),e.uname&&fe.write(t,e.uname,265),e.gname&&fe.write(t,e.gname,297),fe.write(t,Oi(e.devmajor||0,6),329),fe.write(t,Oi(e.devminor||0,6),337),n&&fe.write(t,n,345),fe.write(t,Oi(fE(t),6),148),t)};zs.decode=function(e,t,i){let n=e[156]===0?0:e[156]-Fu,s=$s(e,0,100,t),a=Ai(e,100,8),o=Ai(e,108,8),c=Ai(e,116,8),l=Ai(e,124,12),u=Ai(e,136,12),d=rO(n),p=e[157]===0?null:$s(e,157,100,t),m=$s(e,265,32),f=$s(e,297,32),h=Ai(e,329,8),g=Ai(e,337,8),w=fE(e);if(w===8*32)return null;if(w!==Ai(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(Z3(e))e[345]&&(s=$s(e,345,155,t)+"/"+s);else if(!eO(e)){if(!i)throw new Error("Invalid tar header: unknown format.")}return n===0&&s&&s[s.length-1]==="/"&&(n=5),{name:s,mode:a,uid:o,gid:c,size:l,mtime:new Date(1e3*u),type:d,linkname:p,uname:m,gname:f,devmajor:h,devminor:g,pax:null}};function Z3(r){return fe.equals(pE,r.subarray(ko,ko+6))}function eO(r){return fe.equals(J3,r.subarray(ko,ko+6))&&fe.equals(Y3,r.subarray(im,im+2))}function tO(r,e,t){return typeof r!="number"?t:(r=~~r,r>=e?e:r>=0||(r+=e,r>=0)?r:0)}function rO(r){switch(r){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function iO(r){switch(r){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function hE(r,e,t,i){for(;t<i;t++)if(r[t]===e)return t;return i}function fE(r){let e=256;for(let t=0;t<148;t++)e+=r[t];for(let t=156;t<512;t++)e+=r[t];return e}function Oi(r,e){return r=r.toString(8),r.length>e?G3.slice(0,e)+" ":V3.slice(0,e-r.length)+r+" "}function nO(r,e,t){e[t]=128;for(let i=11;i>0;i--)e[t+i]=r&255,r=Math.floor(r/256)}function sO(r,e,t){r.toString(8).length>11?nO(r,e,t):fe.write(e,Oi(r,11),t)}function aO(r){let e;if(r[0]===128)e=!0;else if(r[0]===255)e=!1;else return null;let t=[],i;for(i=r.length-1;i>0;i--){let a=r[i];e?t.push(a):t.push(255-a)}let n=0,s=t.length;for(i=0;i<s;i++)n+=t[i]*Math.pow(256,i);return e?n:-1*n}function Ai(r,e,t){if(r=r.subarray(e,e+t),e=0,r[e]&128)return aO(r);{for(;e<r.length&&r[e]===32;)e++;let i=tO(hE(r,32,e,r.length),r.length,r.length);for(;e<i&&r[e]===0;)e++;return i===e?0:parseInt(r.subarray(e,i).toString(),8)}}function $s(r,e,t,i){return fe.toString(r.subarray(e,hE(r,0,e,e+t)),i)}function rm(r){let e=fe.byteLength(r),t=Math.floor(Math.log(e)/Math.log(10))+1;return e+t>=Math.pow(10,t)&&t++,e+t+r}});var vE=k((m7,wE)=>{var{Writable:oO,Readable:cO,getStreamError:mE}=tm(),lO=jf(),gE=Lu(),Ks=nm(),uO=gE.alloc(0),am=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new lO,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return uO;let t=this._next(e);if(e===t.byteLength)return t;let i=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),i.push(t);return gE.concat(i)}_next(e){let t=this.queue.peek(),i=t.byteLength-this._offset;if(e>=i){let n=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=i,this.shifted+=i,n}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}},om=class extends cO{constructor(e,t,i){super(),this.header=t,this.offset=i,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(mE(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=xE(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},cm=class extends oO{constructor(e){super(e),e||(e={}),this._buffer=new am,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=sm,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=Ks.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=Ks.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=Ks.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=Ks.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?Ks.decodePax(e):Object.assign({},this._paxGlobal,Ks.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=xE(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(t){return this._continueWrite(t),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let t=this._stream.push(e);return this._missing===0?(this._stream.push(null),t&&this._stream._detach(),t&&this._locked===!1):t}_createStream(){return new om(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let t=this._callback;this._callback=sm,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(mE(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,i=null,n=null,s=null,a=this;return this.on("entry",l),this.on("error",p=>{e=p}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return d(null)},throw(p){return d(p)}};function o(p){if(!s)return;let m=s;s=null,m(p)}function c(p,m){if(e)return m(e);if(n){p({value:n,done:!1}),n=null;return}t=p,i=m,o(null),a._finished&&t&&(t({value:void 0,done:!0}),t=i=null)}function l(p,m,f){s=f,m.on("error",sm),t?(t({value:m,done:!1}),t=i=null):n=m}function u(){o(e),t&&(e?i(e):t({value:void 0,done:!0}),t=i=null)}function d(p){return a.destroy(p),o(p),new Promise((m,f)=>{if(a.destroyed)return m({value:void 0,done:!0});a.once("close",function(){p?f(p):m({value:void 0,done:!0})})})}}};wE.exports=function(e){return new cm(e)};function sm(){}function xE(r){return r&=511,r&&512-r}});var bE=k((g7,lm)=>{var yE={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{lm.exports=require("fs").constants||yE}catch{lm.exports=yE}});var CE=k((x7,kE)=>{var{Readable:dO,Writable:pO,getStreamError:_E}=tm(),vn=Lu(),Hs=bE(),Bu=nm(),hO=493,fO=420,EE=vn.alloc(1024),dm=class extends pO{constructor(e,t,i){super({mapWritable:gO,eagerOpen:!0}),this.written=0,this.header=t,this._callback=i,this._linkname=null,this._isLinkname=t.type==="symlink"&&!t.linkname,this._isVoid=t.type!=="file"&&t.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let t=this._callback;this._callback=null,t(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){if(this._isLinkname)return this._linkname=this._linkname?vn.concat([this._linkname,e]):e,t(null);if(this._isVoid)return e.byteLength>0?t(new Error("No body allowed for this entry")):t();if(this.written+=e.byteLength,this._pack.push(e))return t();this._pack._drain=t}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?vn.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),SE(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return _E(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},pm=class extends dO{constructor(e){super(e),this._drain=um,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,i){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof t=="function"&&(i=t,t=null),i||(i=um),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=mO(e.mode)),e.mode||(e.mode=e.type==="directory"?hO:fO),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof t=="string"&&(t=vn.from(t));let n=new dm(this,e,i);return vn.isBuffer(t)?(e.size=t.byteLength,n.write(t),n.end(),n):(n._isVoid,n)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(EE),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let t=Bu.encode(e);if(t){this.push(t);return}}this._encodePax(e)}_encodePax(e){let t=Bu.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),i={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(Bu.encode(i)),this.push(t),SE(this,t.byteLength),i.size=e.size,i.type=e.type,this.push(Bu.encode(i))}_doDrain(){let e=this._drain;this._drain=um,e()}_predestroy(){let e=_E(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};kE.exports=function(e){return new pm(e)};function mO(r){switch(r&Hs.S_IFMT){case Hs.S_IFBLK:return"block-device";case Hs.S_IFCHR:return"character-device";case Hs.S_IFDIR:return"directory";case Hs.S_IFIFO:return"fifo";case Hs.S_IFLNK:return"symlink"}return"file"}function um(){}function SE(r,e){e&=511,e&&r.push(EE.subarray(0,512-e))}function gO(r){return vn.isBuffer(r)?r:vn.from(r)}});var TE=k(hm=>{hm.extract=vE();hm.pack=CE()});var ME=k((v7,RE)=>{var ju=require("path"),PE=require("fs"),IE=parseInt("0777",8);RE.exports=Ws.mkdirp=Ws.mkdirP=Ws;function Ws(r,e,t,i){typeof e=="function"?(t=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var n=e.mode,s=e.fs||PE;n===void 0&&(n=IE&~process.umask()),i||(i=null);var a=t||function(){};r=ju.resolve(r),s.mkdir(r,n,function(o){if(!o)return i=i||r,a(null,i);switch(o.code){case"ENOENT":Ws(ju.dirname(r),e,function(c,l){c?a(c,l):Ws(r,e,a,l)});break;default:s.stat(r,function(c,l){c||!l.isDirectory()?a(o,i):a(null,i)});break}})}Ws.sync=function r(e,t,i){(!t||typeof t!="object")&&(t={mode:t});var n=t.mode,s=t.fs||PE;n===void 0&&(n=IE&~process.umask()),i||(i=null),e=ju.resolve(e);try{s.mkdirSync(e,n),i=i||e}catch(o){switch(o.code){case"ENOENT":i=r(ju.dirname(e),t,i),r(e,t,i);break;default:var a;try{a=s.statSync(e)}catch{throw o}if(!a.isDirectory())throw o;break}}return i}});var jE=k(mm=>{var AE=TE(),OE=Pf(),xO=ME(),NE=require("fs"),Ft=require("path"),Co=process.platform==="win32";mm.pack=function(e,t){e||(e="."),t||(t={});let i=t.fs||NE,n=t.ignore||t.filter||To,s=t.mapStream||FE,a=yO(i,t.dereference?i.stat:i.lstat,e,n,t.entries,t.sort),o=t.strict!==!1,c=typeof t.umask=="number"?~t.umask:~DE(),l=t.pack||AE.pack(),u=t.finish||To,d=t.map||To,p=typeof t.dmode=="number"?t.dmode:0,m=typeof t.fmode=="number"?t.fmode:0;t.strip&&(d=BE(d,t.strip)),t.readable&&(p|=parseInt(555,8),m|=parseInt(444,8)),t.writable&&(p|=parseInt(333,8),m|=parseInt(222,8)),g();function f(w,v){i.readlink(Ft.join(e,w),function(_,b){if(_)return l.destroy(_);v.linkname=fm(b),l.entry(v,g)})}function h(w,v,_){if(w)return l.destroy(w);if(!v)return t.finalize!==!1&&l.finalize(),u(l);if(_.isSocket())return g();let b={name:fm(v),mode:(_.mode|(_.isDirectory()?p:m))&c,mtime:_.mtime,size:_.size,type:"file",uid:_.uid,gid:_.gid};if(_.isDirectory())return b.size=0,b.type="directory",b=d(b)||b,l.entry(b,g);if(_.isSymbolicLink())return b.size=0,b.type="symlink",b=d(b)||b,f(v,b);if(b=d(b)||b,!_.isFile())return o?l.destroy(new Error("unsupported type for "+v)):g();let P=l.entry(b,g),T=s(i.createReadStream(Ft.join(e,v),{start:0,end:b.size>0?b.size-1:b.size}),b);T.on("error",function(R){P.destroy(R)}),OE(T,P)}function g(w){if(w)return l.destroy(w);a(h)}return l};function wO(r){return r.length?r[r.length-1]:null}function vO(){return process.getuid?process.getuid():-1}function DE(){return process.umask?process.umask():0}mm.extract=function(e,t){e||(e="."),t||(t={});let i=t.fs||NE,n=t.ignore||t.filter||To,s=t.mapStream||FE,a=t.chown!==!1&&!Co&&vO()===0,o=t.extract||AE.extract(),c=[],l=new Date,u=typeof t.umask=="number"?~t.umask:~DE(),d=t.strict!==!1,p=t.map||To,m=typeof t.dmode=="number"?t.dmode:0,f=typeof t.fmode=="number"?t.fmode:0;return t.strip&&(p=BE(p,t.strip)),t.readable&&(m|=parseInt(555,8),f|=parseInt(444,8)),t.writable&&(m|=parseInt(333,8),f|=parseInt(222,8)),o.on("entry",h),t.finish&&o.on("finish",t.finish),o;function h(b,P,T){b=p(b)||b,b.name=fm(b.name);let R=Ft.join(e,Ft.join("/",b.name));if(n(R,b))return P.resume(),T();if(b.type==="directory")return c.push([R,b.mtime]),_(R,{fs:i,own:a,uid:b.uid,gid:b.gid,mode:b.mode},M);let O=Ft.dirname(R);LE(i,O,Ft.join(e,"."),function(te,C){if(te)return T(te);if(!C)return T(new Error(O+" is not a valid path"));_(O,{fs:i,own:a,uid:b.uid,gid:b.gid,mode:493},function(y){if(y)return T(y);switch(b.type){case"file":return Pe();case"link":return U();case"symlink":return ne()}if(d)return T(new Error("unsupported type for "+R+" ("+b.type+")"));P.resume(),T()})});function M(te){if(te)return T(te);w(R,b,function(C){if(C)return T(C);if(Co)return T();v(R,b,T)})}function ne(){if(Co)return T();i.unlink(R,function(){i.symlink(b.linkname,R,M)})}function U(){if(Co)return T();i.unlink(R,function(){let te=Ft.join(e,Ft.join("/",b.linkname));i.link(te,R,function(C){if(C&&C.code==="EPERM"&&t.hardlinkAsFilesFallback)return P=i.createReadStream(te),Pe();M(C)})})}function Pe(){let te=i.createWriteStream(R),C=s(P,b);te.on("error",function(y){C.destroy(y)}),OE(C,te,function(y){if(y)return T(y);te.on("close",M)})}}function g(b,P){let T;for(;(T=wO(c))&&b.slice(0,T[0].length)!==T[0];)c.pop();if(!T)return P();i.utimes(T[0],l,T[1],P)}function w(b,P,T){if(t.utimes===!1)return T();if(P.type==="directory")return i.utimes(b,l,P.mtime,T);if(P.type==="symlink")return g(b,T);i.utimes(b,l,P.mtime,function(R){if(R)return T(R);g(b,T)})}function v(b,P,T){let R=P.type==="symlink",O=R?i.lchmod:i.chmod,M=R?i.lchown:i.chown;if(!O)return T();let ne=(P.mode|(P.type==="directory"?m:f))&u;M&&a?M.call(i,b,P.uid,P.gid,U):U(null);function U(Pe){if(Pe)return T(Pe);if(!O)return T();O.call(i,b,ne,T)}}function _(b,P,T){i.stat(b,function(R){if(!R)return T(null);if(R.code!=="ENOENT")return T(R);xO(b,{fs:P.fs,mode:P.mode},function(O,M){if(O)return T(O);v(b,P,T)})})}};function LE(r,e,t,i){if(e===t)return i(null,!0);r.lstat(e,function(n,s){if(n&&n.code==="ENOENT")return LE(r,Ft.join(e,".."),t,i);if(n)return i(n);i(null,s.isDirectory())})}function To(){}function FE(r){return r}function fm(r){return Co?r.replace(/\\/g,"/").replace(/[:?<>|]/g,"_"):r}function yO(r,e,t,i,n,s){n||(n=["."]);let a=n.slice(0);return function(c){if(!a.length)return c(null);let l=a.shift(),u=Ft.join(t,l);e.call(r,u,function(d,p){if(d)return c(n.indexOf(l)===-1&&d.code==="ENOENT"?null:d);if(!p.isDirectory())return c(null,l,p);r.readdir(u,function(m,f){if(m)return c(m);s&&f.sort();for(let h=0;h<f.length;h++)i(Ft.join(t,l,f[h]))||a.push(Ft.join(l,f[h]));c(null,l,p)})})}}function BE(r,e){return function(t){t.name=t.name.split("/").slice(e).join("/");let i=t.linkname;return i&&(t.type==="link"||Ft.isAbsolute(i))&&(t.linkname=i.split("/").slice(e).join("/")),r(t)}}});var $E=k((qE,UE)=>{var bO=require("stream");qE=UE.exports=gm;gm.through=gm;function gm(r,e,t){r=r||function(u){this.queue(u)},e=e||function(){this.queue(null)};var i=!1,n=!1,s=[],a=!1,o=new bO;o.readable=o.writable=!0,o.paused=!1,o.autoDestroy=!(t&&t.autoDestroy===!1),o.write=function(u){return r.call(this,u),!o.paused};function c(){for(;s.length&&!o.paused;){var u=s.shift();if(u===null)return o.emit("end");o.emit("data",u)}}o.queue=o.push=function(u){return a||(u===null&&(a=!0),s.push(u),c()),o},o.on("end",function(){o.readable=!1,!o.writable&&o.autoDestroy&&process.nextTick(function(){o.destroy()})});function l(){o.writable=!1,e.call(o),!o.readable&&o.autoDestroy&&o.destroy()}return o.end=function(u){if(!i)return i=!0,arguments.length&&o.write(u),l(),o},o.destroy=function(){if(!n)return n=!0,i=!0,s.length=0,o.writable=o.readable=!1,o.emit("close"),o},o.pause=function(){if(!o.paused)return o.paused=!0,o},o.resume=function(){return o.paused&&(o.paused=!1,o.emit("resume")),c(),o.paused||o.emit("drain"),o},o}});var KE=k((b7,zE)=>{function xm(r){this.name="Bzip2Error",this.message=r,this.stack=new Error().stack}xm.prototype=new Error;var ut={Error:function(r){throw new xm(r)}},Er={};Er.Bzip2Error=xm;Er.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188];Er.array=function(r){var e=0,t=0,i=[0,1,3,7,15,31,63,127,255];return function(n){for(var s=0;n>0;){var a=8-e;n>=a?(s<<=a,s|=i[a]&r[t++],e=0,n-=a):(s<<=n,s|=(r[t]&i[n]<<8-n-e)>>8-n-e,e+=n,n=0)}return s}};Er.simple=function(r,e){var t=Er.array(r),i=Er.header(t),n=!1,s=1e5*i,a=new Int32Array(s);do n=Er.decompress(t,e,a,s);while(!n)};Er.header=function(r){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),r(8*3)!=4348520&&ut.Error("No magic number found");var e=r(8)-48;return(e<1||e>9)&&ut.Error("Not a BZIP archive"),e};Er.decompress=function(r,e,t,i,n){for(var s=20,a=258,o=0,c=1,l=50,u=-1,d="",p=0;p<6;p++)d+=r(8).toString(16);if(d=="177245385090"){var m=r(32)|0;return m!==n&&ut.Error("Error in bzip2: crc32 do not match"),r(null),null}d!="314159265359"&&ut.Error("eek not valid bzip data");var f=r(32)|0;r(1)&&ut.Error("unsupported obsolete version");var h=r(24);h>i&&ut.Error("Initial position larger than buffer size");var g=r(16),w=0;for(p=0;p<16;p++)if(g&1<<15-p){var v=r(16);for(Q=0;Q<16;Q++)v&1<<15-Q&&(this.symToByte[w++]=16*p+Q)}var _=r(3);(_<2||_>6)&&ut.Error("another error");var b=r(15);b==0&&ut.Error("meh");for(var p=0;p<_;p++)this.mtfSymbol[p]=p;for(var p=0;p<b;p++){for(var Q=0;r(1);Q++)Q>=_&&ut.Error("whoops another error");for(var P=this.mtfSymbol[Q],v=Q-1;v>=0;v--)this.mtfSymbol[v+1]=this.mtfSymbol[v];this.mtfSymbol[0]=P,this.selectors[p]=P}for(var N=w+2,T=[],R=new Uint8Array(a),O=new Uint16Array(s+1),M,Q=0;Q<_;Q++){g=r(5);for(var p=0;p<N;p++){for(;(g<1||g>s)&&ut.Error("I gave up a while ago on writing error messages"),!!r(1);)r(1)?g--:g++;R[p]=g}var ne,U;ne=U=R[0];for(var p=1;p<N;p++)R[p]>U?U=R[p]:R[p]<ne&&(ne=R[p]);M=T[Q]={},M.permute=new Int32Array(a),M.limit=new Int32Array(s+1),M.base=new Int32Array(s+1),M.minLen=ne,M.maxLen=U;for(var Pe=M.base,te=M.limit,C=0,p=ne;p<=U;p++)for(var g=0;g<N;g++)R[g]==p&&(M.permute[C++]=g);for(p=ne;p<=U;p++)O[p]=te[p]=0;for(p=0;p<N;p++)O[R[p]]++;for(C=g=0,p=ne;p<U;p++)C+=O[p],te[p]=C-1,C<<=1,Pe[p+1]=C-(g+=O[p]);te[U]=C+O[U]-1,Pe[ne]=0}for(var p=0;p<256;p++)this.mtfSymbol[p]=p,this.byteCount[p]=0;var y,j,N,ue;for(y=j=N=ue=0;;){for(N--||(N=l-1,ue>=b&&ut.Error("meow i'm a kitty, that's an error"),M=T[this.selectors[ue++]],Pe=M.base,te=M.limit),p=M.minLen,Q=r(p);p>M.maxLen&&ut.Error("rawr i'm a dinosaur"),!(Q<=te[p]);)p++,Q=Q<<1|r(1);Q-=Pe[p],(Q<0||Q>=a)&&ut.Error("moo i'm a cow");var we=M.permute[Q];if(we==o||we==c){y||(y=1,g=0),we==o?g+=y:g+=2*y,y<<=1;continue}if(y)for(y=0,j+g>i&&ut.Error("Boom."),P=this.symToByte[this.mtfSymbol[0]],this.byteCount[P]+=g;g--;)t[j++]=P;if(we>w)break;j>=i&&ut.Error("I can't think of anything. Error"),p=we-1,P=this.mtfSymbol[p];for(var v=p-1;v>=0;v--)this.mtfSymbol[v+1]=this.mtfSymbol[v];this.mtfSymbol[0]=P,P=this.symToByte[P],this.byteCount[P]++,t[j++]=P}(h<0||h>=j)&&ut.Error("I'm a monkey and I'm throwing something at someone, namely you");for(var Q=0,p=0;p<256;p++)v=Q+this.byteCount[p],this.byteCount[p]=Q,Q=v;for(var p=0;p<j;p++)P=t[p]&255,t[this.byteCount[P]]|=p<<8,this.byteCount[P]++;var Ie=0,ve=0,Gt=0;j&&(Ie=t[h],ve=Ie&255,Ie>>=8,Gt=-1),j=j;for(var Re,ri,_t;j;){for(j--,ri=ve,Ie=t[Ie],ve=Ie&255,Ie>>=8,Gt++==3?(Re=ve,_t=ri,ve=-1):(Re=1,_t=ve);Re--;)u=(u<<8^this.crcTable[(u>>24^_t)&255])&4294967295,e(_t);ve!=ri&&(Gt=0)}return u=(u^-1)>>>0,(u|0)!=(f|0)&&ut.Error("Error in bzip2: crc32 do not match"),n=(u^(n<<1|n>>>31))&4294967295,n};zE.exports=Er});var VE=k((_7,WE)=>{var HE=[0,1,3,7,15,31,63,127,255];WE.exports=function(e){var t=0,i=0,n=e(),s=function(a){if(a===null&&t!=0){t=0,i++;return}for(var o=0;a>0;){i>=n.length&&(i=0,n=e());var c=8-t;t===0&&a>0&&s.bytesRead++,a>=c?(o<<=c,o|=HE[c]&n[i++],t=0,a-=c):(o<<=a,o|=(n[i]&HE[a]<<8-a-t)>>8-a-t,t+=a,a=0)}return o};return s.bytesRead=0,s}});var JE=k((E7,XE)=>{var _O=$E(),GE=KE(),EO=VE();XE.exports=SO;function SO(){var r=[],e=0,t=0,i=!1,n=!1,s=null,a=null;function o(u){if(t){var d=1e5*t,p=new Int32Array(d),m=[],f=function(h){m.push(h)};return a=GE.decompress(s,f,p,d,a),a===null?(t=0,!1):(u(Buffer.from(m)),!0)}else return t=GE.header(s),a=0,!0}var c=0;function l(u){if(!i)try{return o(function(d){u.queue(d),d!==null&&(c+=d.length)})}catch(d){return u.emit("error",d),i=!0,!1}}return _O(function(d){for(r.push(d),e+=d.length,s===null&&(s=EO(function(){return r.shift()}));!i&&e-s.bytesRead+1>=(25e3+1e5*t||4);)l(this)},function(d){for(;!i&&s&&e>s.bytesRead;)l(this);i||(a!==null&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))})}});var tS=k((ZE,eS)=>{ZE=eS.exports=Vs;function Vs(r,e){if(this.stream=e.stream||process.stderr,typeof e=="number"){var t=e;e={},e.total=t}else{if(e=e||{},typeof r!="string")throw new Error("format required");if(typeof e.total!="number")throw new Error("total required")}this.fmt=r,this.curr=e.curr||0,this.total=e.total,this.width=e.width||this.total,this.clear=e.clear,this.chars={complete:e.complete||"=",incomplete:e.incomplete||"-",head:e.head||e.complete||"="},this.renderThrottle=e.renderThrottle!==0?e.renderThrottle||16:0,this.lastRender=-1/0,this.callback=e.callback||function(){},this.tokens={},this.lastDraw=""}Vs.prototype.tick=function(r,e){if(r!==0&&(r=r||1),typeof r=="object"&&(e=r,r=1),e&&(this.tokens=e),this.curr==0&&(this.start=new Date),this.curr+=r,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};Vs.prototype.render=function(r,e){if(e=e!==void 0?e:!1,r&&(this.tokens=r),!!this.stream.isTTY){var t=Date.now(),i=t-this.lastRender;if(!(!e&&i<this.renderThrottle)){this.lastRender=t;var n=this.curr/this.total;n=Math.min(Math.max(n,0),1);var s=Math.floor(n*100),a,o,c,l=new Date-this.start,u=s==100?0:l*(this.total/this.curr-1),d=this.curr/(l/1e3),p=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(l)?"0.0":(l/1e3).toFixed(1)).replace(":eta",isNaN(u)||!isFinite(u)?"0.0":(u/1e3).toFixed(1)).replace(":percent",s.toFixed(0)+"%").replace(":rate",Math.round(d)),m=Math.max(0,this.stream.columns-p.replace(":bar","").length);m&&process.platform==="win32"&&(m=m-1);var f=Math.min(this.width,m);if(c=Math.round(f*n),o=Array(Math.max(0,c+1)).join(this.chars.complete),a=Array(Math.max(0,f-c+1)).join(this.chars.incomplete),c>0&&(o=o.slice(0,-1)+this.chars.head),p=p.replace(":bar",o+a),this.tokens)for(var h in this.tokens)p=p.replace(":"+h,this.tokens[h]);this.lastDraw!==p&&(this.stream.cursorTo(0),this.stream.write(p),this.stream.clearLine(1),this.lastDraw=p)}}};Vs.prototype.update=function(r,e){var t=Math.floor(r*this.total),i=t-this.curr;this.tick(i,e)};Vs.prototype.interrupt=function(r){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(r),this.stream.write(`
`),this.stream.write(this.lastDraw)};Vs.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`
`)}});var iS=k((F7,rS)=>{rS.exports=tS()});var sS=k((B7,nS)=>{"use strict";nS.exports={}});var oS=k((j7,aS)=>{"use strict";aS.exports={}});var cS={};kn(cS,{default:()=>AO});function AO(r){return{all:r=r||new Map,on:function(e,t){var i=r.get(e);i?i.push(t):r.set(e,[t])},off:function(e,t){var i=r.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var i=r.get(e);i&&i.slice().map(function(n){n(t)}),(i=r.get("*"))&&i.slice().map(function(n){n(e,t)})}}}var lS=I(()=>{});var Uu=k(Gs=>{"use strict";var OO=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.EventEmitter=void 0;var NO=OO((lS(),Cx(cS))),bm=class{#e=(0,NO.default)();on(e,t){return this.#e.on(e,t),this}once(e,t){let i=n=>{t(n),this.off(e,i)};return this.on(e,i)}off(e,t){return this.#e.off(e,t),this}emit(e,t){this.#e.emit(e,t)}removeAllListeners(e){return e?this.#e.all.delete(e):this.#e.all.clear(),this}};Gs.EventEmitter=bm});var Ni=k($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.LogType=void 0;var uS;(function(r){r.bidi="bidi",r.cdp="cdp",r.debug="debug",r.debugError="debug:error",r.debugInfo="debug:info"})(uS||($u.LogType=uS={}))});var dS=k(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.ProcessingQueue=void 0;var _m=Ni(),Em=class r{static LOGGER_PREFIX=`${_m.LogType.debug}:queue`;#e;#t;#r=[];#i=!1;constructor(e,t){this.#t=e,this.#e=t}add(e,t){this.#r.push([e,t]),this.#n()}async#n(){var e;if(!this.#i){for(this.#i=!0;this.#r.length>0;){let t=this.#r.shift();if(!t)continue;let[i,n]=t;(e=this.#e)==null||e.call(this,r.LOGGER_PREFIX,"Processing event:",n),i!==void 0&&await i.then(s=>{var a;if(s.kind==="error"){(a=this.#e)==null||a.call(this,_m.LogType.debugError,"Event threw before sending:",s.error.message,s.error.stack);return}return this.#t(s.value)}).catch(s=>{var a;(a=this.#e)==null||a.call(this,_m.LogType.debugError,"Event was not processed:",s==null?void 0:s.message)})}this.#i=!1}}};zu.ProcessingQueue=Em});var hS=k(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0})});var fS=k(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.EVENT_NAMES=Rt.Network=Rt.BrowsingContext=Rt.Log=Rt.Script=Rt.BiDiModule=void 0;var Sm;(function(r){r.Browser="browser",r.BrowsingContext="browsingContext",r.Cdp="cdp",r.Input="input",r.Log="log",r.Network="network",r.Script="script",r.Session="session"})(Sm||(Rt.BiDiModule=Sm={}));var km;(function(r){let e;(function(t){t.Message="script.message",t.RealmCreated="script.realmCreated",t.RealmDestroyed="script.realmDestroyed"})(e=r.EventNames||(r.EventNames={}))})(km||(Rt.Script=km={}));var Cm;(function(r){let e;(function(t){t.LogEntryAdded="log.entryAdded"})(e=r.EventNames||(r.EventNames={}))})(Cm||(Rt.Log=Cm={}));var Tm;(function(r){let e;(function(t){t.ContextCreated="browsingContext.contextCreated",t.ContextDestroyed="browsingContext.contextDestroyed",t.DomContentLoaded="browsingContext.domContentLoaded",t.DownloadWillBegin="browsingContext.downloadWillBegin",t.FragmentNavigated="browsingContext.fragmentNavigated",t.Load="browsingContext.load",t.NavigationAborted="browsingContext.navigationAborted",t.NavigationFailed="browsingContext.navigationFailed",t.NavigationStarted="browsingContext.navigationStarted",t.UserPromptClosed="browsingContext.userPromptClosed",t.UserPromptOpened="browsingContext.userPromptOpened"})(e=r.EventNames||(r.EventNames={}))})(Tm||(Rt.BrowsingContext=Tm={}));var Pm;(function(r){let e;(function(t){t.AuthRequired="network.authRequired",t.BeforeRequestSent="network.beforeRequestSent",t.FetchError="network.fetchError",t.ResponseCompleted="network.responseCompleted",t.ResponseStarted="network.responseStarted"})(e=r.EventNames||(r.EventNames={}))})(Pm||(Rt.Network=Pm={}));Rt.EVENT_NAMES=new Set([...Object.values(Sm),...Object.values(Tm.EventNames),...Object.values(Cm.EventNames),...Object.values(Pm.EventNames),...Object.values(km.EventNames)])});var gS=k(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0})});var xS=k(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.UnsupportedOperationException=se.UnableToCloseBrowserException=se.UnableToCaptureScreenException=se.UnknownErrorException=se.UnknownCommandException=se.SessionNotCreatedException=se.NoSuchScriptException=se.NoSuchRequestException=se.NoSuchNodeException=se.NoSuchInterceptException=se.NoSuchHandleException=se.NoSuchFrameException=se.NoSuchElementException=se.NoSuchAlertException=se.MoveTargetOutOfBoundsException=se.InvalidSessionIdException=se.InvalidArgumentException=se.Exception=void 0;var Ge=class{error;message;stacktrace;constructor(e,t,i){this.error=e,this.message=t,this.stacktrace=i}toErrorResponse(e){return{type:"error",id:e,error:this.error,message:this.message,stacktrace:this.stacktrace}}};se.Exception=Ge;var Im=class extends Ge{constructor(e,t){super("invalid argument",e,t)}};se.InvalidArgumentException=Im;var Rm=class extends Ge{constructor(e,t){super("invalid session id",e,t)}};se.InvalidSessionIdException=Rm;var Mm=class extends Ge{constructor(e,t){super("move target out of bounds",e,t)}};se.MoveTargetOutOfBoundsException=Mm;var Am=class extends Ge{constructor(e,t){super("no such alert",e,t)}};se.NoSuchAlertException=Am;var Om=class extends Ge{constructor(e,t){super("no such element",e,t)}};se.NoSuchElementException=Om;var Nm=class extends Ge{constructor(e,t){super("no such frame",e,t)}};se.NoSuchFrameException=Nm;var Dm=class extends Ge{constructor(e,t){super("no such handle",e,t)}};se.NoSuchHandleException=Dm;var Lm=class extends Ge{constructor(e,t){super("no such intercept",e,t)}};se.NoSuchInterceptException=Lm;var Fm=class extends Ge{constructor(e,t){super("no such node",e,t)}};se.NoSuchNodeException=Fm;var Bm=class extends Ge{constructor(e,t){super("no such request",e,t)}};se.NoSuchRequestException=Bm;var jm=class extends Ge{constructor(e,t){super("no such script",e,t)}};se.NoSuchScriptException=jm;var qm=class extends Ge{constructor(e,t){super("session not created",e,t)}};se.SessionNotCreatedException=qm;var Um=class extends Ge{constructor(e,t){super("unknown command",e,t)}};se.UnknownCommandException=Um;var $m=class extends Ge{constructor(e,t=new Error().stack){super("unknown error",e,t)}};se.UnknownErrorException=$m;var zm=class extends Ge{constructor(e,t){super("unable to capture screen",e,t)}};se.UnableToCaptureScreenException=zm;var Km=class extends Ge{constructor(e,t){super("unable to close browser",e,t)}};se.UnableToCloseBrowserException=Km;var Hm=class extends Ge{constructor(e,t){super("unsupported operation",e,t)}};se.UnsupportedOperationException=Hm});var Oe=k(gt=>{"use strict";var wS=gt&&gt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),DO=gt&&gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vS=gt&&gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wS(e,r,t);return DO(e,r),e},yS=gt&&gt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wS(e,r,t)};Object.defineProperty(gt,"__esModule",{value:!0});gt.ChromiumBidi=gt.Cdp=void 0;gt.Cdp=vS(hS());gt.ChromiumBidi=vS(fS());yS(gS(),gt);yS(xS(),gt)});var bS=k(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.BidiNoOpParser=void 0;var Wm=class{parseActivateParams(e){return e}parseCaptureScreenshotParams(e){return e}parseCloseParams(e){return e}parseCreateParams(e){return e}parseGetTreeParams(e){return e}parseHandleUserPromptParams(e){return e}parseNavigateParams(e){return e}parsePrintParams(e){return e}parseReloadParams(e){return e}parseSetViewportParams(e){return e}parseGetSessionParams(e){return e}parseSendCommandParams(e){return e}parseAddPreloadScriptParams(e){return e}parseCallFunctionParams(e){return e}parseDisownParams(e){return e}parseEvaluateParams(e){return e}parseGetRealmsParams(e){return e}parseRemovePreloadScriptParams(e){return e}parsePerformActionsParams(e){return e}parseReleaseActionsParams(e){return e}parseAddInterceptParams(e){return e}parseContinueRequestParams(e){return e}parseContinueResponseParams(e){return e}parseContinueWithAuthParams(e){return e}parseFailRequestParams(e){return e}parseProvideResponseParams(e){return e}parseRemoveInterceptParams(e){return e}parseSubscribeParams(e){return e}};Ku.BidiNoOpParser=Wm});var Wu=k(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.OutgoingMessage=void 0;var Vm=class r{#e;#t;constructor(e,t=null){this.#e=e,this.#t=t}static createFromPromise(e,t){return e.then(i=>i.kind==="success"?{kind:"success",value:new r(i.value,t)}:i)}static createResolved(e,t){return Promise.resolve({kind:"success",value:new r(e,t)})}get message(){return this.#e}get channel(){return this.#t}};Hu.OutgoingMessage=Vm});var _S=k(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.BrowserProcessor=void 0;var Gm=class{#e;constructor(e){this.#e=e}close(){let e=this.#e.browserClient();return setTimeout(()=>e.sendCommand("Browser.close"),0),{}}};Vu.BrowserProcessor=Gm});var ES=k(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.CdpProcessor=void 0;var Xm=class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getSession(e){let t=e.context,i=this.#e.getContext(t).cdpTarget.cdpSessionId;return i===void 0?{}:{session:i}}async sendCommand(e){return{result:await(e.session?this.#t.getCdpClient(e.session):this.#t.browserClient()).sendCommand(e.method,e.params),session:e.session}}};Gu.CdpProcessor=Xm});var Xs=k(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.assert=void 0;function LO(r,e){if(!r)throw new Error(e??"Internal assertion failed.")}Xu.assert=LO});var Yu=k(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.Deferred=void 0;var Jm=class{#e=!1;#t;#r;#i;get isFinished(){return this.#e}constructor(){this.#t=new Promise((e,t)=>{this.#r=e,this.#i=t}),this.#t.catch(e=>{})}then(e,t){return this.#t.then(e,t)}catch(e){return this.#t.catch(e)}resolve(e){this.#e||(this.#e=!0,this.#r(e))}reject(e){this.#e||(this.#e=!0,this.#i(e))}finally(e){return this.#t.finally(e)}[Symbol.toStringTag]="Promise"};Ju.Deferred=Jm});var SS=k(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.inchesFromCm=void 0;function FO(r){return r/2.54}Qu.inchesFromCm=FO});var ed=k(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.uuidv4=void 0;function BO(){if("crypto"in globalThis&&"randomUUID"in globalThis.crypto)return globalThis.crypto.randomUUID();let r=new Uint8Array(16);"crypto"in globalThis&&"getRandomValues"in globalThis.crypto?globalThis.crypto.getRandomValues(r):require("crypto").webcrypto.getRandomValues(r),r[6]=r[6]&15|64,r[8]=r[8]&63|128;let e=t=>t.reduce((i,n)=>i+n.toString(16).padStart(2,"0"),"");return[e(r.subarray(0,4)),e(r.subarray(4,6)),e(r.subarray(6,8)),e(r.subarray(8,10)),e(r.subarray(10,16))].join("-")}Zu.uuidv4=BO});var Qm=k(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.ChannelProxy=void 0;var jO=Oe(),qO=ed(),kS=Ni(),Ym=class r{#e;#t=(0,qO.uuidv4)();#r;constructor(e,t){this.#e=e,this.#r=t}async init(e,t){let i=await r.#n(e),n=await r.#s(e,i);return this.#a(e,i,t),n}async startListenerFromWindow(e,t){var i;try{let n=await this.#o(e);this.#a(e,n,t)}catch(n){(i=this.#r)==null||i.call(this,kS.LogType.debugError,n)}}static#i(){return`(${String(()=>{let t=[],i=null;return{async getMessage(){return await(t.length>0?Promise.resolve():new Promise(s=>{i=s})),t.shift()},sendMessage(n){t.push(n),i!==null&&(i(),i=null)}}})})()`}static async#n(e){let t=await e.cdpClient.sendCommand("Runtime.evaluate",{expression:this.#i(),contextId:e.executionContextId,serializationOptions:{serialization:"idOnly"}});if(t.exceptionDetails||t.result.objectId===void 0)throw new Error("Cannot create channel");return t.result.objectId}static async#s(e,t){return(await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(n=>n.sendMessage),arguments:[{objectId:t}],executionContextId:e.executionContextId,serializationOptions:{serialization:"idOnly"}})).result.objectId}async#a(e,t,i){var n,s;for(;;)try{let a=await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(async o=>o.getMessage()),arguments:[{objectId:t}],awaitPromise:!0,executionContextId:e.executionContextId,serializationOptions:{serialization:"deep",maxDepth:((n=this.#e.serializationOptions)==null?void 0:n.maxObjectDepth)??void 0}});if(a.exceptionDetails)throw a.exceptionDetails;i.registerEvent({type:"event",method:jO.ChromiumBidi.Script.EventNames.Message,params:{channel:this.#e.channel,data:e.cdpToBidiValue(a,this.#e.ownership??"none"),source:{realm:e.realmId,context:e.browsingContextId}}},e.browsingContextId)}catch(a){(s=this.#r)==null||s.call(this,kS.LogType.debugError,a);break}}async#o(e){let t=await e.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(i=>{let n=window;if(n[i]===void 0)return new Promise(a=>n[i]=a);let s=n[i];return delete n[i],s}),arguments:[{value:this.#t}],executionContextId:e.executionContextId,awaitPromise:!0,serializationOptions:{serialization:"idOnly"}});if(t.exceptionDetails!==void 0||t.result.objectId===void 0)throw new Error(`ChannelHandle not found in window["${this.#t}"]`);return t.result.objectId}getEvalInWindowStr(){let e=String((i,n)=>{let s=window;return s[i]===void 0?s[i]=n:(s[i](n),delete s[i]),n.sendMessage}),t=r.#i();return`(${e})('${this.#t}',${t})`}};td.ChannelProxy=Ym});var TS=k(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.Realm=void 0;var Di=Oe(),UO=Ni(),$O=Qm(),CS="_element_",Zm=class r{#e;#t;#r;#i;#n;#s;#a;#o;#l;sandbox;#c;constructor(e,t,i,n,s,a,o,c,l,u,d){this.#r=i,this.#i=n,this.#n=s,this.sandbox=c,this.#s=a,this.#a=o,this.#o=l,this.#e=e,this.#t=t,this.#l=u,this.#c=d,this.#e.addRealm(this),this.#l.registerEvent({type:"event",method:Di.ChromiumBidi.Script.EventNames.RealmCreated,params:this.realmInfo},this.browsingContextId)}cdpToBidiValue(e,t){let i=this.#u(e.result.deepSerializedValue);if(e.result.objectId){let n=e.result.objectId;t==="root"?(i.handle=n,this.#e.knownHandlesToRealmMap.set(n,this.realmId)):this.#v(n).catch(s=>{var a;return(a=this.#c)==null?void 0:a.call(this,UO.LogType.debugError,s)})}if(e.result.type==="object")switch(e.result.subtype){case"generator":case"iterator":i.type=e.result.subtype,delete i.value;break;default:}return i}#u(e){if(Object.hasOwn(e,"weakLocalObjectReference")&&(e.internalId=`${e.weakLocalObjectReference}`,delete e.weakLocalObjectReference),e.type==="platformobject")return{type:"object"};let t=e.value;if(t===void 0)return e;if(e.type==="node"){if(Object.hasOwn(t,"backendNodeId")&&(e.sharedId=`${this.navigableId}${CS}${t.backendNodeId}`,delete t.backendNodeId),Object.hasOwn(t,"children"))for(let i in t.children)t.children[i]=this.#u(t.children[i]);Object.hasOwn(t,"shadowRoot")&&t.shadowRoot!==null&&(t.shadowRoot=this.#u(t.shadowRoot)),t.namespaceURI===""&&(t.namespaceURI=null)}if(["array","set","htmlcollection","nodelist"].includes(e.type))for(let i in t)t[i]=this.#u(t[i]);if(["object","map"].includes(e.type))for(let i in t)t[i]=[this.#u(t[i][0]),this.#u(t[i][1])];return e}get realmId(){return this.#r}get navigableId(){var e;return((e=this.#t.findContext(this.#i))==null?void 0:e.navigableId)??"UNKNOWN"}get browsingContextId(){return this.#i}get executionContextId(){return this.#n}get origin(){return this.#s}get type(){return this.#a}get cdpClient(){return this.#o}get realmInfo(){return{realm:this.realmId,origin:this.origin,type:this.type,context:this.browsingContextId,...this.sandbox===void 0?{}:{sandbox:this.sandbox}}}async evaluate(e,t,i,n,s=!1){await this.#t.getContext(this.browsingContextId).targetUnblockedOrThrow();let a=await this.cdpClient.sendCommand("Runtime.evaluate",{contextId:this.executionContextId,expression:e,awaitPromise:t,serializationOptions:r.#g("deep",n),userGesture:s});return a.exceptionDetails?this.#x(a.exceptionDetails,0,i):{realm:this.realmId,result:this.cdpToBidiValue(a,i),type:"success"}}async serializeCdpObject(e,t){let i=r.#h(e),n=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(s=>s),awaitPromise:!1,arguments:[i],serializationOptions:{serialization:"deep"},executionContextId:this.executionContextId});return this.cdpToBidiValue(n,t)}static#h(e){return e.objectId!==void 0?{objectId:e.objectId}:e.unserializableValue!==void 0?{unserializableValue:e.unserializableValue}:{value:e.value}}async stringifyObject(e){let{result:t}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String(i=>String(i)),awaitPromise:!1,arguments:[e],returnByValue:!0,executionContextId:this.executionContextId});return t.value}async#p(e){let t=[];for(let[i,n]of e){let s;typeof i=="string"?s={value:i}:s=await this.#f(i);let a=await this.#f(n);t.push(s),t.push(a)}return t}async#d(e){return Promise.all(e.map(t=>this.#f(t)))}async#m(e,t,i){var a;let n=((a=e.stackTrace)==null?void 0:a.callFrames.map(o=>({url:o.url,functionName:o.functionName,lineNumber:o.lineNumber-t,columnNumber:o.columnNumber})))??[],s=e.exception;return{exception:await this.serializeCdpObject(s,i),columnNumber:e.columnNumber,lineNumber:e.lineNumber-t,stackTrace:{callFrames:n},text:await this.stringifyObject(s)||e.text}}async callFunction(e,t,i,n,s,a,o=!1){await this.#t.getContext(this.browsingContextId).targetUnblockedOrThrow();let c=`(...args) => {
      function callFunction(f, args) {
        const deserializedThis = args.shift();
        const deserializedArgs = args;
        return f.apply(deserializedThis, deserializedArgs);
      }
      return callFunction((
        ${e}
      ), args);
    }`,l=[await this.#f(t),...await Promise.all(i.map(async d=>this.#f(d)))],u;try{u=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:c,awaitPromise:n,arguments:l,serializationOptions:r.#g("deep",a),executionContextId:this.executionContextId,userGesture:o})}catch(d){throw d.code===-32e3&&["Could not find object with given id","Argument should belong to the same JavaScript world as target object","Invalid remote object id"].includes(d.message)?new Di.NoSuchHandleException("Handle was not found."):d}return u.exceptionDetails?this.#x(u.exceptionDetails,1,s):{type:"success",result:this.cdpToBidiValue(u,s),realm:this.realmId}}async#f(e){if("sharedId"in e&&e.sharedId){let[t,i]=e.sharedId.split(CS),n=parseInt(i??"");if(isNaN(n)||n===void 0||t===void 0)throw new Di.NoSuchNodeException(`SharedId "${e.sharedId}" was not found.`);if(this.navigableId!==t)throw new Di.NoSuchNodeException(`SharedId "${e.sharedId}" belongs to different document. Current document is ${this.navigableId}.`);try{let{object:s}=await this.cdpClient.sendCommand("DOM.resolveNode",{backendNodeId:n,executionContextId:this.executionContextId});return{objectId:s.objectId}}catch(s){throw s.code===-32e3&&s.message==="No node with given id found"?new Di.NoSuchNodeException(`SharedId "${e.sharedId}" was not found.`):new Di.UnknownErrorException(s.message,s.stack)}}else{if("handle"in e&&e.handle)return{objectId:e.handle};if("handle"in e||"sharedId"in e)throw new Di.NoSuchHandleException("Handle was not found.")}switch(e.type){case"undefined":return{unserializableValue:"undefined"};case"null":return{unserializableValue:"null"};case"string":return{value:e.value};case"number":return e.value==="NaN"?{unserializableValue:"NaN"}:e.value==="-0"?{unserializableValue:"-0"}:e.value==="Infinity"?{unserializableValue:"Infinity"}:e.value==="-Infinity"?{unserializableValue:"-Infinity"}:{value:e.value};case"boolean":return{value:!!e.value};case"bigint":return{unserializableValue:`BigInt(${JSON.stringify(e.value)})`};case"date":return{unserializableValue:`new Date(Date.parse(${JSON.stringify(e.value)}))`};case"regexp":return{unserializableValue:`new RegExp(${JSON.stringify(e.value.pattern)}, ${JSON.stringify(e.value.flags)})`};case"map":{let t=await this.#p(e.value),{result:i}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...n)=>{let s=new Map;for(let a=0;a<n.length;a+=2)s.set(n[a],n[a+1]);return s}),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:i.objectId}}case"object":{let t=await this.#p(e.value),{result:i}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...n)=>{let s={};for(let a=0;a<n.length;a+=2){let o=n[a];s[o]=n[a+1]}return s}),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:i.objectId}}case"array":{let t=await this.#d(e.value),{result:i}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...n)=>n),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:i.objectId}}case"set":{let t=await this.#d(e.value),{result:i}=await this.cdpClient.sendCommand("Runtime.callFunctionOn",{functionDeclaration:String((...n)=>new Set(n)),awaitPromise:!1,arguments:t,returnByValue:!1,executionContextId:this.executionContextId});return{objectId:i.objectId}}case"channel":return{objectId:await new $O.ChannelProxy(e.value,this.#c).init(this,this.#l)}}throw new Error(`Value ${JSON.stringify(e)} is not deserializable.`)}async#x(e,t,i){return{exceptionDetails:await this.#m(e,t,i),realm:this.realmId,type:"exception"}}static#g(e,t){return{serialization:e,additionalParameters:r.#w(t),...r.#y(t)}}static#w(e){let t={};return e.maxDomDepth!==void 0&&(t.maxNodeDepth=e.maxDomDepth===null?1e3:e.maxDomDepth),e.includeShadowTree!==void 0&&(t.includeShadowTree=e.includeShadowTree),t}static#y(e){return e.maxObjectDepth===void 0||e.maxObjectDepth===null?{}:{maxDepth:e.maxObjectDepth}}async#v(e){try{await this.cdpClient.sendCommand("Runtime.releaseObject",{objectId:e})}catch(t){if(!(t.code===-32e3&&t.message==="Invalid remote object id"))throw t}}async disown(e){this.#e.knownHandlesToRealmMap.get(e)===this.realmId&&(await this.#v(e),this.#e.knownHandlesToRealmMap.delete(e))}dispose(){this.#l.registerEvent({type:"event",method:Di.ChromiumBidi.Script.EventNames.RealmDestroyed,params:{realm:this.realmId}},this.browsingContextId)}};rd.Realm=Zm});var IS=k(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.BrowsingContextImpl=void 0;var qe=Oe(),id=Xs(),yn=Yu(),zO=Ni(),Js=SS(),KO=TS(),tg=class r{static LOGGER_PREFIX=`${zO.LogType.debug}:browsingContext`;#e;#t;#r=new Set;#i;#n={Page:{navigatedWithinDocument:new yn.Deferred,lifecycleEvent:{DOMContentLoaded:new yn.Deferred,load:new yn.Deferred},frameStartedLoading:new yn.Deferred}};#s="about:blank";#a;#o;#l;#c;#u;#h;constructor(e,t,i,n,s,a,o){this.#c=e,this.#o=t,this.#e=i,this.#t=n,this.#a=s,this.#i=a,this.#h=o}static create(e,t,i,n,s,a,o){let c=new r(e,t,i,n,s,a,o);return c.#m(),a.addContext(c),c.isTopLevelContext()||c.parent.addChild(c.id),s.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.ContextCreated,params:c.serializeToBidiValue()},c.id),c}static getTimestamp(){return new Date().getTime()}get navigableId(){return this.#l}dispose(){this.#p(),this.#o.deleteRealms({browsingContextId:this.id}),this.isTopLevelContext()||this.parent.#r.delete(this.id),this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.ContextDestroyed,params:this.serializeToBidiValue()},this.id),this.#i.deleteContextById(this.id)}get id(){return this.#e}get parentId(){return this.#t}get parent(){return this.parentId===null?null:this.#i.getContext(this.parentId)}get directChildren(){return[...this.#r].map(e=>this.#i.getContext(e))}get allChildren(){let e=this.directChildren;return e.concat(...e.map(t=>t.allChildren))}isTopLevelContext(){return this.#t===null}get top(){let e=this,t=e.parent;for(;t;)e=t,t=e.parent;return e}addChild(e){this.#r.add(e)}#p(){this.directChildren.map(e=>e.dispose())}get#d(){return(0,id.assert)(this.#u,`No default realm for browsing context ${this.#e}`),this.#u}get cdpTarget(){return this.#c}updateCdpTarget(e){this.#c=e,this.#m()}get url(){return this.#s}async lifecycleLoaded(){await this.#n.Page.lifecycleEvent.load}async targetUnblockedOrThrow(){let e=await this.#c.targetUnblocked;if(e.kind==="error")throw e.error}async getOrCreateSandbox(e){if(e===void 0||e==="")return this.#d;let t=this.#o.findRealms({browsingContextId:this.id,sandbox:e});return t.length===0&&(await this.#c.cdpClient.sendCommand("Page.createIsolatedWorld",{frameId:this.id,worldName:e}),t=this.#o.findRealms({browsingContextId:this.id,sandbox:e}),(0,id.assert)(t.length!==0)),t[0]}serializeToBidiValue(e=0,t=!0){return{context:this.#e,url:this.url,children:e>0?this.directChildren.map(i=>i.serializeToBidiValue(e-1,!1)):null,...t?{parent:this.#t}:{}}}onTargetInfoChanged(e){this.#s=e.targetInfo.url}#m(){this.#c.cdpClient.on("Page.frameNavigated",e=>{this.id===e.frame.id&&(this.#s=e.frame.url+(e.frame.urlFragment??""),this.#p())}),this.#c.cdpClient.on("Page.navigatedWithinDocument",e=>{if(this.id!==e.frameId)return;let t=r.getTimestamp();this.#s=e.url,this.#n.Page.navigatedWithinDocument.resolve(e),this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.FragmentNavigated,params:{context:this.id,navigation:null,timestamp:t,url:this.#s}},this.id)}),this.#c.cdpClient.on("Page.frameStartedLoading",e=>{this.id===e.frameId&&this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.NavigationStarted,params:{context:this.id,navigation:null,timestamp:r.getTimestamp(),url:""}},this.id)}),this.#c.cdpClient.on("Page.lifecycleEvent",e=>{if(this.id!==e.frameId)return;if(e.name==="init"){this.#x(e.loaderId);return}if(e.name==="commit"){this.#l=e.loaderId;return}if(e.loaderId!==this.#l)return;let t=r.getTimestamp();switch(e.name){case"DOMContentLoaded":this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.DomContentLoaded,params:{context:this.id,navigation:this.#l??null,timestamp:t,url:this.#s}},this.id),this.#n.Page.lifecycleEvent.DOMContentLoaded.resolve(e);break;case"load":this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.Load,params:{context:this.id,navigation:this.#l??null,timestamp:t,url:this.#s}},this.id),this.#n.Page.lifecycleEvent.load.resolve(e);break}}),this.#c.cdpClient.on("Runtime.executionContextCreated",e=>{if(e.context.auxData.frameId!==this.id||!["default","isolated"].includes(e.context.auxData.type))return;let t=new KO.Realm(this.#o,this.#i,e.context.uniqueId,this.id,e.context.id,this.#f(e),"window",e.context.auxData.type==="isolated"?e.context.name:void 0,this.#c.cdpClient,this.#a,this.#h);e.context.auxData.isDefault&&(this.#u=t,Promise.all(this.#c.getChannels().map(i=>i.startListenerFromWindow(t,this.#a))))}),this.#c.cdpClient.on("Runtime.executionContextDestroyed",e=>{this.#o.deleteRealms({cdpSessionId:this.#c.cdpSessionId,executionContextId:e.executionContextId})}),this.#c.cdpClient.on("Runtime.executionContextsCleared",()=>{this.#o.deleteRealms({cdpSessionId:this.#c.cdpSessionId})}),this.#c.cdpClient.on("Page.javascriptDialogClosed",e=>{let t=e.result;this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.UserPromptClosed,params:{context:this.id,accepted:t,userText:t&&e.userInput?e.userInput:void 0}},this.id)}),this.#c.cdpClient.on("Page.javascriptDialogOpening",e=>{this.#a.registerEvent({type:"event",method:qe.ChromiumBidi.BrowsingContext.EventNames.UserPromptOpened,params:{context:this.id,type:e.type,message:e.message,defaultValue:e.defaultPrompt||void 0}},this.id)})}#f(e){return e.context.auxData.type==="isolated"?this.#d.origin:["://",""].includes(e.context.origin)?"null":e.context.origin}#x(e){var t;if(e===void 0||this.#l===e){this.#n.Page.navigatedWithinDocument.isFinished?this.#n.Page.navigatedWithinDocument=new yn.Deferred:(t=this.#h)==null||t.call(this,r.LOGGER_PREFIX,"Document changed (navigatedWithinDocument)");return}this.#g(),this.#l=e}#g(){var e,t;this.#n.Page.lifecycleEvent.DOMContentLoaded.isFinished?this.#n.Page.lifecycleEvent.DOMContentLoaded=new yn.Deferred:(e=this.#h)==null||e.call(this,r.LOGGER_PREFIX,"Document changed (DOMContentLoaded)"),this.#n.Page.lifecycleEvent.load.isFinished?this.#n.Page.lifecycleEvent.load=new yn.Deferred:(t=this.#h)==null||t.call(this,r.LOGGER_PREFIX,"Document changed (load)")}async navigate(e,t){try{new URL(e)}catch{throw new qe.InvalidArgumentException(`Invalid URL: ${e}`)}await this.targetUnblockedOrThrow();let i=await this.#c.cdpClient.sendCommand("Page.navigate",{url:e,frameId:this.id});if(i.errorText)throw new qe.UnknownErrorException(i.errorText);switch(this.#x(i.loaderId),t){case"none":break;case"interactive":i.loaderId===void 0?await this.#n.Page.navigatedWithinDocument:await this.#n.Page.lifecycleEvent.DOMContentLoaded;break;case"complete":i.loaderId===void 0?await this.#n.Page.navigatedWithinDocument:await this.lifecycleLoaded();break}return{navigation:i.loaderId??null,url:t==="none"?e:this.#s}}async reload(e,t){switch(await this.targetUnblockedOrThrow(),await this.#c.cdpClient.sendCommand("Page.reload",{ignoreCache:e}),this.#g(),t){case"none":break;case"interactive":await this.#n.Page.lifecycleEvent.DOMContentLoaded;break;case"complete":await this.lifecycleLoaded();break}return{navigation:t==="none"?null:this.navigableId??null,url:this.url}}async setViewport(e){if(e===null)await this.#c.cdpClient.sendCommand("Emulation.clearDeviceMetricsOverride");else try{await this.#c.cdpClient.sendCommand("Emulation.setDeviceMetricsOverride",{width:e.width,height:e.height,deviceScaleFactor:0,mobile:!1,dontSetVisibleSize:!0})}catch(t){throw t.message.startsWith("Width and height values must be positive")?new qe.UnsupportedOperationException("Provided viewport dimensions are not supported"):t}}async handleUserPrompt(e){await this.#c.cdpClient.sendCommand("Page.handleJavaScriptDialog",{accept:e.accept??!0,promptText:e.userText})}async activate(){await this.#c.cdpClient.sendCommand("Page.bringToFront")}async captureScreenshot(e){if(!this.isTopLevelContext())throw new qe.UnsupportedOperationException(`Non-top-level 'context' (${e.context}) is currently not supported`);await this.#c.cdpClient.sendCommand("Page.bringToFront");let t=await this.#w(e.clip),{cssContentSize:i,cssLayoutViewport:n}=await this.#c.cdpClient.sendCommand("Page.getLayoutMetrics"),s={x:i.x,y:i.y,width:n.clientWidth,height:n.clientHeight};if(t=t?WO(t,s):s,t.width===0||t.height===0)throw new qe.UnableToCaptureScreenException(`Unable to capture screenshot with zero dimensions: width=${t.width}, height=${t.height}`);return{data:(await this.#c.cdpClient.sendCommand("Page.captureScreenshot",{clip:{...t,scale:1}})).data}}async print(e){var i,n,s,a,o,c;let t={};if(e.background!==void 0&&(t.printBackground=e.background),((i=e.margin)==null?void 0:i.bottom)!==void 0&&(t.marginBottom=(0,Js.inchesFromCm)(e.margin.bottom)),((n=e.margin)==null?void 0:n.left)!==void 0&&(t.marginLeft=(0,Js.inchesFromCm)(e.margin.left)),((s=e.margin)==null?void 0:s.right)!==void 0&&(t.marginRight=(0,Js.inchesFromCm)(e.margin.right)),((a=e.margin)==null?void 0:a.top)!==void 0&&(t.marginTop=(0,Js.inchesFromCm)(e.margin.top)),e.orientation!==void 0&&(t.landscape=e.orientation==="landscape"),((o=e.page)==null?void 0:o.height)!==void 0&&(t.paperHeight=(0,Js.inchesFromCm)(e.page.height)),((c=e.page)==null?void 0:c.width)!==void 0&&(t.paperWidth=(0,Js.inchesFromCm)(e.page.width)),e.pageRanges!==void 0){for(let l of e.pageRanges){if(typeof l=="number")continue;let u=l.split("-");if(u.length<1||u.length>2)throw new qe.InvalidArgumentException(`Invalid page range: ${l} is not a valid integer range.`);if(u.length===1){eg(u[0]??"");continue}let d,p,[m="",f=""]=u;if(m===""?d=1:d=eg(m),f===""?p=Number.MAX_SAFE_INTEGER:p=eg(f),d>p)throw new qe.InvalidArgumentException(`Invalid page range: ${m} > ${f}`)}t.pageRanges=e.pageRanges.join(",")}e.scale!==void 0&&(t.scale=e.scale),e.shrinkToFit!==void 0&&(t.preferCSSPageSize=!e.shrinkToFit);try{return{data:(await this.#c.cdpClient.sendCommand("Page.printToPDF",t)).data}}catch(l){throw l.message==="invalid print parameters: content area is empty"?new qe.UnsupportedOperationException(l.message):l}}async#w(e){if(e)switch(e.type){case"viewport":return{x:e.x,y:e.y,width:e.width,height:e.height};case"element":{if(e.scrollIntoView)throw new qe.UnsupportedOperationException("'scrollIntoView' is currently not supported");let t=await this.getOrCreateSandbox(void 0),i=await t.callFunction(String(n=>n instanceof Element),{type:"undefined"},[e.element],!1,"none",{});if(i.type==="exception")throw new qe.NoSuchElementException(`Element '${e.element.sharedId}' was not found`);if((0,id.assert)(i.result.type==="boolean"),!i.result.value)throw new qe.NoSuchElementException(`Node '${e.element.sharedId}' is not an Element`);{let n=await t.callFunction(String(a=>{let o=a.getBoundingClientRect();return{x:o.x,y:o.y,height:o.height,width:o.width}}),{type:"undefined"},[e.element],!1,"none",{});(0,id.assert)(n.type==="success");let s=HO(n.result);if(!s)throw new qe.UnableToCaptureScreenException(`Could not get bounding box for Element '${e.element.sharedId}'`);return s}}}}async close(){await this.#c.cdpClient.sendCommand("Page.close")}};nd.BrowsingContextImpl=tg;function HO(r){var s,a,o,c;if(r.type!=="object"||r.value===void 0)return;let e=(s=r.value.find(([l])=>l==="x"))==null?void 0:s[1],t=(a=r.value.find(([l])=>l==="y"))==null?void 0:a[1],i=(o=r.value.find(([l])=>l==="height"))==null?void 0:o[1],n=(c=r.value.find(([l])=>l==="width"))==null?void 0:c[1];if(!((e==null?void 0:e.type)!=="number"||(t==null?void 0:t.type)!=="number"||(i==null?void 0:i.type)!=="number"||(n==null?void 0:n.type)!=="number"))return{x:e.value,y:t.value,width:n.value,height:i.value}}function PS(r){return{...r.width<0?{x:r.x+r.width,width:-r.width}:{x:r.x,width:r.width},...r.height<0?{y:r.y+r.height,height:-r.height}:{y:r.y,height:r.height}}}function WO(r,e){r=PS(r),e=PS(e);let t=Math.max(r.x,e.x),i=Math.max(r.y,e.y);return{x:t,y:i,width:Math.max(Math.min(r.x+r.width,e.x+e.width)-t,0),height:Math.max(Math.min(r.y+r.height,e.y+e.height)-i,0)}}function eg(r){if(r=r.trim(),!/^[0-9]+$/.test(r))throw new qe.InvalidArgumentException(`Invalid integer: ${r}`);return parseInt(r)}});var OS=k(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.getRemoteValuesText=Ys.logMessageFormatter=void 0;var VO=Xs(),RS=["%s","%d","%i","%f","%o","%O","%c"];function MS(r){return RS.some(e=>r.includes(e))}function AS(r){let e="",t=r[0].value.toString(),i=r.slice(1,void 0),n=t.split(new RegExp(RS.map(s=>`(${s})`).join("|"),"g"));for(let s of n)if(!(s===void 0||s===""))if(MS(s)){let a=i.shift();(0,VO.assert)(a,`Less value is provided: "${ig(r,!1)}"`),s==="%s"?e+=ng(a):s==="%d"||s==="%i"?a.type==="bigint"||a.type==="number"||a.type==="string"?e+=parseInt(a.value.toString(),10):e+="NaN":s==="%f"?a.type==="bigint"||a.type==="number"||a.type==="string"?e+=parseFloat(a.value.toString()):e+="NaN":e+=rg(a)}else e+=s;if(i.length>0)throw new Error(`More value is provided: "${ig(r,!1)}"`);return e}Ys.logMessageFormatter=AS;function rg(r){var e;if(r.type!=="array"&&r.type!=="bigint"&&r.type!=="date"&&r.type!=="number"&&r.type!=="object"&&r.type!=="string")return ng(r);if(r.type==="bigint")return`${r.value.toString()}n`;if(r.type==="number")return r.value.toString();if(["date","string"].includes(r.type))return JSON.stringify(r.value);if(r.type==="object")return`{${r.value.map(t=>`${JSON.stringify(t[0])}:${rg(t[1])}`).join(",")}}`;if(r.type==="array")return`[${((e=r.value)==null?void 0:e.map(t=>rg(t)).join(","))??""}]`;throw Error(`Invalid value type: ${r}`)}function ng(r){var e,t,i,n;if(!Object.hasOwn(r,"value"))return r.type;switch(r.type){case"string":case"number":case"boolean":case"bigint":return String(r.value);case"regexp":return`/${r.value.pattern}/${r.value.flags??""}`;case"date":return new Date(r.value).toString();case"object":return`Object(${((e=r.value)==null?void 0:e.length)??""})`;case"array":return`Array(${((t=r.value)==null?void 0:t.length)??""})`;case"map":return`Map(${(i=r.value)==null?void 0:i.length})`;case"set":return`Set(${(n=r.value)==null?void 0:n.length})`;default:return r.type}}function ig(r,e){let t=r[0];return t?t.type==="string"&&MS(t.value.toString())&&e?AS(r):r.map(i=>ng(i)).join(" "):""}Ys.getRemoteValuesText=ig});var DS=k(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.LogManager=void 0;var sd=Oe(),GO=OS();function NS(r){let e=r==null?void 0:r.callFrames.map(t=>({columnNumber:t.columnNumber,functionName:t.functionName,lineNumber:t.lineNumber,url:t.url}));return e?{callFrames:e}:void 0}function XO(r){return["error","assert"].includes(r)?"error":["debug","trace"].includes(r)?"debug":["warn","warning"].includes(r)?"warn":"info"}var sg=class r{#e;#t;#r;constructor(e,t,i){this.#r=e,this.#t=t,this.#e=i}static create(e,t,i){let n=new r(e,t,i);return n.#i(),n}#i(){this.#r.cdpClient.on("Runtime.consoleAPICalled",e=>{let t=this.#t.findRealm({cdpSessionId:this.#r.cdpSessionId,executionContextId:e.executionContextId}),i=t===void 0?Promise.resolve(e.args):Promise.all(e.args.map(n=>t.serializeCdpObject(n,"none")));this.#e.registerPromiseEvent(i.then(n=>({kind:"success",value:{type:"event",method:sd.ChromiumBidi.Log.EventNames.LogEntryAdded,params:{level:XO(e.type),source:{realm:(t==null?void 0:t.realmId)??"UNKNOWN",context:(t==null?void 0:t.browsingContextId)??"UNKNOWN"},text:(0,GO.getRemoteValuesText)(n,!0),timestamp:Math.round(e.timestamp),stackTrace:NS(e.stackTrace),type:"console",method:e.type==="warning"?"warn":e.type,args:n}}})),(t==null?void 0:t.browsingContextId)??"UNKNOWN",sd.ChromiumBidi.Log.EventNames.LogEntryAdded)}),this.#r.cdpClient.on("Runtime.exceptionThrown",e=>{let t=this.#t.findRealm({cdpSessionId:this.#r.cdpSessionId,executionContextId:e.exceptionDetails.executionContextId});this.#e.registerPromiseEvent(r.#n(e,t).then(i=>({kind:"success",value:{type:"event",method:sd.ChromiumBidi.Log.EventNames.LogEntryAdded,params:{level:"error",source:{realm:(t==null?void 0:t.realmId)??"UNKNOWN",context:(t==null?void 0:t.browsingContextId)??"UNKNOWN"},text:i,timestamp:Math.round(e.timestamp),stackTrace:NS(e.exceptionDetails.stackTrace),type:"javascript"}}})),(t==null?void 0:t.browsingContextId)??"UNKNOWN",sd.ChromiumBidi.Log.EventNames.LogEntryAdded)})}static async#n(e,t){return e.exceptionDetails.exception?t===void 0?JSON.stringify(e.exceptionDetails.exception):t.stringifyObject(e.exceptionDetails.exception):e.exceptionDetails.text}};ad.LogManager=sg});var LS=k(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.NetworkManager=void 0;var ag=class r{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get cdpTarget(){return this.#e}#r(e){let t=this.#t.getRequest(e);return t||this.#t.createRequest(e)}static create(e,t){let i=new r(e,t);return e.cdpClient.browserClient().on("Target.detachedFromTarget",n=>{e.cdpClient.sessionId===n.sessionId&&i.#t.disposeRequestMap()}),e.cdpClient.on("Network.requestWillBeSent",n=>{let s=i.#t.getRequest(n.requestId);s&&s.isRedirecting()?(s.handleRedirect(n),i.#t.deleteRequest(n.requestId),i.#t.createRequest(n.requestId,s.redirectCount+1).onRequestWillBeSentEvent(n)):s?s.onRequestWillBeSentEvent(n):i.#t.createRequest(n.requestId).onRequestWillBeSentEvent(n)}),e.cdpClient.on("Network.requestWillBeSentExtraInfo",n=>{i.#r(n.requestId).onRequestWillBeSentExtraInfoEvent(n)}),e.cdpClient.on("Network.responseReceived",n=>{i.#r(n.requestId).onResponseReceivedEvent(n)}),e.cdpClient.on("Network.responseReceivedExtraInfo",n=>{i.#r(n.requestId).onResponseReceivedExtraInfoEvent(n)}),e.cdpClient.on("Network.requestServedFromCache",n=>{i.#r(n.requestId).onServedFromCache()}),e.cdpClient.on("Network.loadingFailed",n=>{i.#r(n.requestId).onLoadingFailedEvent(n)}),e.cdpClient.on("Fetch.requestPaused",n=>{n.networkId&&(i.#t.addBlockedRequest(n.networkId,{request:n.requestId}),i.#r(n.networkId).onRequestPaused(n))}),i}};od.NetworkManager=ag});var FS=k(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.CdpTarget=void 0;var JO=Yu(),YO=DS(),QO=LS(),og=class r{#e;#t;#r;#i;#n;#s;#a=new JO.Deferred;static create(e,t,i,n,s,a,o){let c=new r(e,t,i,s,a,o);return YO.LogManager.create(c,n,s),QO.NetworkManager.create(c,o),c.#l(),c.#o(),c}constructor(e,t,i,n,s,a){this.#e=e,this.#t=t,this.#r=i,this.#i=n,this.#n=s,this.#s=a}get targetUnblocked(){return this.#a}get targetId(){return this.#e}get cdpClient(){return this.#t}get cdpSessionId(){return this.#r}async fetchEnable(){await this.#t.sendCommand("Fetch.enable",this.#s.getFetchEnableParams())}async fetchDisable(){await this.#t.sendCommand("Fetch.disable")}async fetchApply(){await this.fetchDisable(),await this.fetchEnable()}async#o(){try{await Promise.all([this.#t.sendCommand("Runtime.enable"),this.#t.sendCommand("Page.enable"),this.#t.sendCommand("Page.setLifecycleEventsEnabled",{enabled:!0}),this.#t.sendCommand("Network.enable"),this.fetchApply(),this.#t.sendCommand("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}),this.#c(),this.#t.sendCommand("Runtime.runIfWaitingForDebugger")])}catch(e){if(!this.#t.isCloseError(e)){this.#a.resolve({kind:"error",error:e});return}}this.#a.resolve({kind:"success",value:void 0})}#l(){this.#t.on("*",(e,t)=>{typeof e=="string"&&this.#i.registerEvent({type:"event",method:`cdp.${e}`,params:{event:e,params:t,session:this.#r}},null)})}getChannels(){return this.#n.find().flatMap(e=>e.channels)}async#c(){for(let e of this.#n.find())await e.initInTarget(this,!0)}};cd.CdpTarget=og});var qS=k(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.BrowsingContextProcessor=void 0;var ld=Oe(),BS=Ni(),jS=IS(),ZO=FS(),cg=class{#e;#t;#r;#i;#n;#s;#a;#o;constructor(e,t,i,n,s,a,o,c){this.#e=e,this.#t=t,this.#r=i,this.#i=n,this.#s=o,this.#n=a,this.#a=s,this.#o=c,this.#l(this.#e.browserClient())}getTree(e){return{contexts:(e.root===void 0?this.#i.getTopLevelContexts():[this.#i.getContext(e.root)]).map(i=>i.serializeToBidiValue(e.maxDepth??Number.MAX_VALUE))}}async create(e){let t=this.#e.browserClient(),i;if(e.referenceContext!==void 0&&(i=this.#i.getContext(e.referenceContext),!i.isTopLevelContext()))throw new ld.InvalidArgumentException("referenceContext should be a top-level context");let n;switch(e.type){case"tab":n=await t.sendCommand("Target.createTarget",{url:"about:blank",newWindow:!1});break;case"window":n=await t.sendCommand("Target.createTarget",{url:"about:blank",newWindow:!0});break}let s=n.targetId,a=this.#i.getContext(s);return await a.lifecycleLoaded(),{context:a.id}}navigate(e){return this.#i.getContext(e.context).navigate(e.url,e.wait??"none")}reload(e){return this.#i.getContext(e.context).reload(e.ignoreCache??!1,e.wait??"none")}async activate(e){let t=this.#i.getContext(e.context);if(!t.isTopLevelContext())throw new ld.InvalidArgumentException("Activation is only supported on the top-level context");return await t.activate(),{}}async captureScreenshot(e){return this.#i.getContext(e.context).captureScreenshot(e)}async print(e){return this.#i.getContext(e.context).print(e)}async setViewport(e){let t=this.#i.getContext(e.context);if(!t.isTopLevelContext())throw new ld.InvalidArgumentException("Emulating viewport is only supported on the top-level context");return await t.setViewport(e.viewport),{}}async handleUserPrompt(e){return await this.#i.getContext(e.context).handleUserPrompt(e),{}}async close(e){let t=this.#i.getContext(e.context);if(!t.isTopLevelContext())throw new ld.InvalidArgumentException(`Non top-level browsing context ${t.id} cannot be closed.`);try{let i=this.#e.browserClient(),n=new Promise(s=>{let a=o=>{o.targetId===e.context&&(i.off("Target.detachedFromTarget",a),s())};i.on("Target.detachedFromTarget",a)});await t.close(),await n}catch(i){if(!(i.code===-32e3&&i.message==="Not attached to an active page"))throw i}return{}}#l(e){e.on("Target.attachedToTarget",t=>{this.#h(t,e)}),e.on("Target.detachedFromTarget",t=>{this.#p(t)}),e.on("Target.targetInfoChanged",t=>{this.#d(t)}),e.on("Page.frameAttached",t=>{this.#c(t)}),e.on("Page.frameDetached",t=>{this.#u(t)})}#c(e){let t=this.#i.findContext(e.parentFrameId);t!==void 0&&jS.BrowsingContextImpl.create(t.cdpTarget,this.#a,e.frameId,e.parentFrameId,this.#r,this.#i,this.#o)}#u(e){var t;e.reason!=="swap"&&((t=this.#i.findContext(e.frameId))==null||t.dispose())}#h(e,t){var c;let{sessionId:i,targetInfo:n}=e,s=this.#e.getCdpClient(i);if(!this.#m(n)){s.sendCommand("Runtime.runIfWaitingForDebugger").then(()=>t.sendCommand("Target.detachFromTarget",e)).catch(l=>{var u;return(u=this.#o)==null?void 0:u.call(this,BS.LogType.debugError,l)});return}(c=this.#o)==null||c.call(this,BS.LogType.debugInfo,"AttachedToTarget event received:",e),this.#l(s);let a=this.#i.findContext(n.targetId),o=ZO.CdpTarget.create(n.targetId,s,i,this.#a,this.#r,this.#s,this.#n);a?a.updateCdpTarget(o):jS.BrowsingContextImpl.create(o,this.#a,n.targetId,null,this.#r,this.#i,this.#o)}#p(e){var i;let t=e.targetId;(i=this.#i.findContext(t))==null||i.dispose(),this.#s.find({targetId:t}).map(n=>n.dispose(t))}#d(e){var i;let t=e.targetInfo.targetId;(i=this.#i.findContext(t))==null||i.onTargetInfoChanged(e)}#m(e){return e.targetId===this.#t?!1:["page","iframe"].includes(e.type)}};ud.BrowsingContextProcessor=cg});var US=k(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.Mutex=void 0;var lg=class{#e=!1;#t=[];acquire(){let e={resolved:!1};return this.#e?new Promise(t=>{this.#t.push(()=>t(this.#r.bind(this,e)))}):(this.#e=!0,Promise.resolve(this.#r.bind(this,e)))}#r(e){if(e.resolved)throw new Error("Cannot release more than once.");e.resolved=!0;let t=this.#t.shift();if(!t){this.#e=!1;return}t()}async run(e){let t=await this.acquire();try{return await e()}finally{t()}}};dd.Mutex=lg});var fg=k(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.WheelSource=Sr.PointerSource=Sr.KeySource=Sr.NoneSource=void 0;var ug=class{type="none"};Sr.NoneSource=ug;var dg=class{type="key";pressed=new Set;#e=0;get modifiers(){return this.#e}get alt(){return(this.#e&1)===1}set alt(e){this.#t(e,1)}get ctrl(){return(this.#e&2)===2}set ctrl(e){this.#t(e,2)}get meta(){return(this.#e&4)===4}set meta(e){this.#t(e,4)}get shift(){return(this.#e&8)===8}set shift(e){this.#t(e,8)}#t(e,t){e?this.#e|=t:this.#e&=~t}};Sr.KeySource=dg;var pg=class{type="pointer";subtype;pointerId;pressed=new Set;x=0;y=0;constructor(e,t){this.pointerId=e,this.subtype=t}get buttons(){let e=0;for(let t of this.pressed)switch(t){case 0:e|=1;break;case 1:e|=4;break;case 2:e|=2;break;case 3:e|=8;break;case 4:e|=16;break}return e}static ClickContext=class pd{static#t=500;static#r=2;count=0;#i;#n;#s;constructor(t,i,n){this.#i=t,this.#n=i,this.#s=n}compare(t){return t.#s-this.#s>pd.#t||Math.abs(t.#i-this.#i)>pd.#r||Math.abs(t.#n-this.#n)>pd.#r}};#e=new Map;setClickCount(e,t){let i=this.#e.get(e);return(!i||i.compare(t))&&(i=t),++i.count,this.#e.set(e,i),i.count}getClickCount(e){var t;return((t=this.#e.get(e))==null?void 0:t.count)??0}};Sr.PointerSource=pg;var hg=class{type="wheel"};Sr.WheelSource=hg});var $S=k(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.InputState=void 0;var mg=Oe(),eN=US(),Po=fg(),gg=class{cancelList=[];#e=new Map;#t=new eN.Mutex;getOrCreate(e,t,i){let n=this.#e.get(e);if(!n){switch(t){case"none":n=new Po.NoneSource;break;case"key":n=new Po.KeySource;break;case"pointer":{let s=i==="mouse"?0:2,a=new Set;for(let[,o]of this.#e)o.type==="pointer"&&a.add(o.pointerId);for(;a.has(s);)++s;n=new Po.PointerSource(s,i);break}case"wheel":n=new Po.WheelSource;break;default:throw new mg.InvalidArgumentException(`Expected "none", "key", "pointer", or "wheel". Found unknown source type ${t}.`)}return this.#e.set(e,n),n}if(n.type!==t)throw new mg.InvalidArgumentException(`Input source type of ${e} is ${n.type}, but received ${t}.`);return n}get(e){let t=this.#e.get(e);if(!t)throw new mg.UnknownErrorException("Internal error.");return t}getGlobalKeyState(){let e=new Po.KeySource;for(let[,t]of this.#e)if(t.type==="key"){for(let i of t.pressed)e.pressed.add(i);e.alt||=t.alt,e.ctrl||=t.ctrl,e.meta||=t.meta,e.shift||=t.shift}return e}get queue(){return this.#t}};hd.InputState=gg});var zS=k(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.InputStateManager=void 0;var tN=Xs(),rN=$S(),xg=class extends WeakMap{get(e){return(0,tN.assert)(e.isTopLevelContext()),this.has(e)||this.set(e,new rN.InputState),super.get(e)}};fd.InputStateManager=xg});var KS=k(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.KeyToKeyCode=void 0;md.KeyToKeyCode={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,Abort:3,Help:6,Backspace:8,Tab:9,Numpad5:12,NumpadEnter:13,Enter:13,"\\r":13,"\\n":13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Space:32,Numpad9:33,PageUp:33,Numpad3:34,PageDown:34,End:35,Numpad1:35,Home:36,Numpad7:36,ArrowLeft:37,Numpad4:37,Numpad8:38,ArrowUp:38,ArrowRight:39,Numpad6:39,Numpad2:40,ArrowDown:40,Select:41,Open:43,PrintScreen:44,Insert:45,Numpad0:45,Delete:46,NumpadDecimal:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,MetaLeft:91,MetaRight:92,ContextMenu:93,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,AudioVolumeMute:173,AudioVolumeDown:174,AudioVolumeUp:175,MediaTrackNext:176,MediaTrackPrevious:177,MediaStop:178,MediaPlayPause:179,Semicolon:186,Equal:187,NumpadEqual:187,Comma:188,Minus:189,Period:190,Slash:191,Backquote:192,BracketLeft:219,Backslash:220,BracketRight:221,Quote:222,AltGraph:225,Props:247,Cancel:3,Clear:12,Shift:16,Control:17,Alt:18,Accept:30,ModeChange:31," ":32,Print:42,Execute:43,"\\u0000":46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,Meta:91,"*":106,"+":107,"-":109,"/":111,";":186,"=":187,",":188,".":190,"`":192,"[":219,"\\\\":220,"]":221,"'":222,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251,")":48,"!":49,"@":50,"#":51,$:52,"%":53,"^":54,"&":55,"(":57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,":":186,"<":188,_:189,">":190,"?":191,"~":192,"{":219,"|":220,"}":221,'"':222,Camera:44,EndCall:95,VolumeDown:182,VolumeUp:183}});var HS=k(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.getKeyLocation=Li.getKeyCode=Li.getNormalizedKey=void 0;function iN(r){switch(r){case"\uE000":return"Unidentified";case"\uE001":return"Cancel";case"\uE002":return"Help";case"\uE003":return"Backspace";case"\uE004":return"Tab";case"\uE005":return"Clear";case"\uE006":return"Return";case"\uE007":return"Enter";case"\uE008":return"Shift";case"\uE009":return"Control";case"\uE00A":return"Alt";case"\uE00B":return"Pause";case"\uE00C":return"Escape";case"\uE00D":return" ";case"\uE00E":return"PageUp";case"\uE00F":return"PageDown";case"\uE010":return"End";case"\uE011":return"Home";case"\uE012":return"ArrowLeft";case"\uE013":return"ArrowUp";case"\uE014":return"ArrowRight";case"\uE015":return"ArrowDown";case"\uE016":return"Insert";case"\uE017":return"Delete";case"\uE018":return";";case"\uE019":return"=";case"\uE01A":return"0";case"\uE01B":return"1";case"\uE01C":return"2";case"\uE01D":return"3";case"\uE01E":return"4";case"\uE01F":return"5";case"\uE020":return"6";case"\uE021":return"7";case"\uE022":return"8";case"\uE023":return"9";case"\uE024":return"*";case"\uE025":return"+";case"\uE026":return",";case"\uE027":return"-";case"\uE028":return".";case"\uE029":return"/";case"\uE031":return"F1";case"\uE032":return"F2";case"\uE033":return"F3";case"\uE034":return"F4";case"\uE035":return"F5";case"\uE036":return"F6";case"\uE037":return"F7";case"\uE038":return"F8";case"\uE039":return"F9";case"\uE03A":return"F10";case"\uE03B":return"F11";case"\uE03C":return"F12";case"\uE03D":return"Meta";case"\uE040":return"ZenkakuHankaku";case"\uE050":return"Shift";case"\uE051":return"Control";case"\uE052":return"Alt";case"\uE053":return"Meta";case"\uE054":return"PageUp";case"\uE055":return"PageDown";case"\uE056":return"End";case"\uE057":return"Home";case"\uE058":return"ArrowLeft";case"\uE059":return"ArrowUp";case"\uE05A":return"ArrowRight";case"\uE05B":return"ArrowDown";case"\uE05C":return"Insert";case"\uE05D":return"Delete";default:return r}}Li.getNormalizedKey=iN;function nN(r){switch(r){case"`":case"~":return"Backquote";case"\\":case"|":return"Backslash";case"\uE003":return"Backspace";case"[":case"{":return"BracketLeft";case"]":case"}":return"BracketRight";case",":case"<":return"Comma";case"0":case")":return"Digit0";case"1":case"!":return"Digit1";case"2":case"@":return"Digit2";case"3":case"#":return"Digit3";case"4":case"$":return"Digit4";case"5":case"%":return"Digit5";case"6":case"^":return"Digit6";case"7":case"&":return"Digit7";case"8":case"*":return"Digit8";case"9":case"(":return"Digit9";case"=":case"+":return"Equal";case"a":case"A":return"KeyA";case"b":case"B":return"KeyB";case"c":case"C":return"KeyC";case"d":case"D":return"KeyD";case"e":case"E":return"KeyE";case"f":case"F":return"KeyF";case"g":case"G":return"KeyG";case"h":case"H":return"KeyH";case"i":case"I":return"KeyI";case"j":case"J":return"KeyJ";case"k":case"K":return"KeyK";case"l":case"L":return"KeyL";case"m":case"M":return"KeyM";case"n":case"N":return"KeyN";case"o":case"O":return"KeyO";case"p":case"P":return"KeyP";case"q":case"Q":return"KeyQ";case"r":case"R":return"KeyR";case"s":case"S":return"KeyS";case"t":case"T":return"KeyT";case"u":case"U":return"KeyU";case"v":case"V":return"KeyV";case"w":case"W":return"KeyW";case"x":case"X":return"KeyX";case"y":case"Y":return"KeyY";case"z":case"Z":return"KeyZ";case"-":case"_":return"Minus";case".":return"Period";case"'":case'"':return"Quote";case";":case":":return"Semicolon";case"/":case"?":return"Slash";case"\uE00A":return"AltLeft";case"\uE052":return"AltRight";case"\uE009":return"ControlLeft";case"\uE051":return"ControlRight";case"\uE006":return"Enter";case"\uE03D":return"MetaLeft";case"\uE053":return"MetaRight";case"\uE008":return"ShiftLeft";case"\uE050":return"ShiftRight";case" ":case"\uE00D":return"Space";case"\uE004":return"Tab";case"\uE017":return"Delete";case"\uE010":return"End";case"\uE002":return"Help";case"\uE011":return"Home";case"\uE016":return"Insert";case"\uE00F":return"PageDown";case"\uE00E":return"PageUp";case"\uE015":return"ArrowDown";case"\uE012":return"ArrowLeft";case"\uE014":return"ArrowRight";case"\uE013":return"ArrowUp";case"\uE00C":return"Escape";case"\uE031":return"F1";case"\uE032":return"F2";case"\uE033":return"F3";case"\uE034":return"F4";case"\uE035":return"F5";case"\uE036":return"F6";case"\uE037":return"F7";case"\uE038":return"F8";case"\uE039":return"F9";case"\uE03A":return"F10";case"\uE03B":return"F11";case"\uE03C":return"F12";case"\uE01A":case"\uE05C":return"Numpad0";case"\uE01B":case"\uE056":return"Numpad1";case"\uE01C":case"\uE05B":return"Numpad2";case"\uE01D":case"\uE055":return"Numpad3";case"\uE01E":case"\uE058":return"Numpad4";case"\uE01F":return"Numpad5";case"\uE020":case"\uE05A":return"Numpad6";case"\uE021":case"\uE057":return"Numpad7";case"\uE022":case"\uE059":return"Numpad8";case"\uE023":case"\uE054":return"Numpad9";case"\uE025":return"NumpadAdd";case"\uE026":return"NumpadComma";case"\uE028":case"\uE05D":return"NumpadDecimal";case"\uE029":return"NumpadDivide";case"\uE007":return"NumpadEnter";case"\uE024":return"NumpadMultiply";case"\uE027":return"NumpadSubtract";default:return}}Li.getKeyCode=nN;function sN(r){switch(r){case"\uE007":case"\uE008":case"\uE009":case"\uE00A":case"\uE03D":return 1;case"\uE01A":case"\uE01B":case"\uE01C":case"\uE01D":case"\uE01E":case"\uE01F":case"\uE020":case"\uE021":case"\uE022":case"\uE023":case"\uE024":case"\uE025":case"\uE026":case"\uE027":case"\uE028":case"\uE029":case"\uE054":case"\uE055":case"\uE056":case"\uE057":case"\uE058":case"\uE059":case"\uE05A":case"\uE05B":case"\uE05C":case"\uE05D":return 3;case"\uE050":case"\uE051":case"\uE052":case"\uE053":return 2;default:return 0}}Li.getKeyLocation=sN});var XS=k(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.ActionDispatcher=void 0;var Zs=Oe(),Io=Xs(),aN=fg(),WS=KS(),Qs=HS(),oN=(r=>{let e=r.getClientRects()[0],t=Math.max(0,Math.min(e.x,e.x+e.width)),i=Math.min(window.innerWidth,Math.max(e.x,e.x+e.width)),n=Math.max(0,Math.min(e.y,e.y+e.height)),s=Math.min(window.innerHeight,Math.max(e.y,e.y+e.height));return[t+(i-t>>1),n+(s-n>>1)]}).toString(),cN=(()=>navigator.platform.toLowerCase().includes("mac")).toString();async function lN(r,e){var a,o,c,l;let i=await(await r.getOrCreateSandbox(void 0)).callFunction(oN,{type:"undefined"},[e],!1,"none",{});if(i.type==="exception")throw new Zs.NoSuchElementException(`Origin element ${e.sharedId} was not found`);(0,Io.assert)(i.result.type==="array"),(0,Io.assert)(((o=(a=i.result.value)==null?void 0:a[0])==null?void 0:o.type)==="number"),(0,Io.assert)(((l=(c=i.result.value)==null?void 0:c[1])==null?void 0:l.type)==="number");let{result:{value:[{value:n},{value:s}]}}=i;return{x:n,y:s}}var wg=class{static isMacOS=async e=>{let t=await(await e.getOrCreateSandbox(void 0)).callFunction(cN,{type:"undefined"},[],!1,"none",{});return(0,Io.assert)(t.type!=="exception"),(0,Io.assert)(t.result.type==="boolean"),t.result.value};#e=0;#t=0;#r;#i;#n;constructor(e,t,i){this.#r=e,this.#i=t,this.#n=i}async dispatchActions(e){await this.#r.queue.run(async()=>{for(let t of e)await this.dispatchTickActions(t)})}async dispatchTickActions(e){this.#e=performance.now(),this.#t=0;for(let{action:i}of e)"duration"in i&&i.duration!==void 0&&(this.#t=Math.max(this.#t,i.duration));let t=[new Promise(i=>setTimeout(i,this.#t))];for(let i of e)t.push(this.#s(i));await Promise.all(t)}async#s({id:e,action:t}){let i=this.#r.get(e),n=this.#r.getGlobalKeyState();switch(t.type){case"keyDown":{await this.#h(i,t),this.#r.cancelList.push({id:e,action:{...t,type:"keyUp"}});break}case"keyUp":{await this.#p(i,t);break}case"pause":break;case"pointerDown":{await this.#a(i,n,t),this.#r.cancelList.push({id:e,action:{...t,type:"pointerUp"}});break}case"pointerMove":{await this.#l(i,n,t);break}case"pointerUp":{await this.#o(i,n,t);break}case"scroll":{await this.#u(i,n,t);break}}}#a(e,t,i){let{button:n}=i;if(e.pressed.has(n))return;e.pressed.add(n);let{x:s,y:a,subtype:o}=e,{width:c,height:l,pressure:u,twist:d,tangentialPressure:p}=i,{tiltX:m,tiltY:f}="tiltX"in i?i:{},{modifiers:h}=t;switch(o){case"mouse":case"pen":return this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mousePressed",x:s,y:a,modifiers:h,button:gd(n),buttons:e.buttons,clickCount:e.setClickCount(n,new aN.PointerSource.ClickContext(s,a,performance.now())),pointerType:o,tangentialPressure:p,tiltX:m,tiltY:f,twist:d,force:u});case"touch":return this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:[{x:s,y:a,radiusX:c,radiusY:l,tangentialPressure:p,tiltX:m,tiltY:f,twist:d,force:u,id:e.pointerId}],modifiers:h})}}#o(e,t,i){let{button:n}=i;if(!e.pressed.has(n))return;e.pressed.delete(n);let{x:s,y:a,subtype:o}=e,{modifiers:c}=t;switch(o){case"mouse":case"pen":return this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseReleased",x:s,y:a,modifiers:c,button:gd(n),buttons:e.buttons,clickCount:e.getClickCount(n),pointerType:o});case"touch":return this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[{x:s,y:a,id:e.pointerId}],modifiers:c})}}async#l(e,t,i){let{x:n,y:s,subtype:a}=e,{width:o,height:c,pressure:l,twist:u,tangentialPressure:d,x:p,y:m,origin:f="viewport",duration:h=this.#t}=i,{tiltX:g,tiltY:w}="tiltX"in i?i:{},{targetX:v,targetY:_}=await this.#c(f,p,m,n,s);if(v<0||_<0)throw new Zs.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${v}, y: ${_})`);let b;do{let P=h>0?(performance.now()-this.#e)/h:1;b=P>=1;let T,R;if(b?(T=v,R=_):(T=Math.round(P*(v-n)+n),R=Math.round(P*(_-s)+s)),e.x!==T||e.y!==R){let{modifiers:O}=t;switch(a){case"mouse":await this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseMoved",x:T,y:R,modifiers:O,clickCount:0,button:gd(e.pressed.values().next().value??5),buttons:e.buttons,pointerType:a,tangentialPressure:d,tiltX:g,tiltY:w,twist:u,force:l});break;case"pen":e.pressed.size!==0&&await this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseMoved",x:T,y:R,modifiers:O,clickCount:0,button:gd(e.pressed.values().next().value??5),buttons:e.buttons,pointerType:a,tangentialPressure:d,tiltX:g,tiltY:w,twist:u,force:l});break;case"touch":e.pressed.size!==0&&await this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchTouchEvent",{type:"touchMove",touchPoints:[{x:T,y:R,radiusX:o,radiusY:c,tangentialPressure:d,tiltX:g,tiltY:w,twist:u,force:l,id:e.pointerId}],modifiers:O});break}e.x=T,e.y=R}}while(!b)}async#c(e,t,i,n,s){let a,o;switch(e){case"viewport":a=t,o=i;break;case"pointer":a=n+t,o=s+i;break;default:{let{x:c,y:l}=await lN(this.#i,e.element);a=c+t,o=l+i;break}}return{targetX:a,targetY:o}}async#u(e,t,i){let{deltaX:n,deltaY:s,x:a,y:o,origin:c="viewport",duration:l=this.#t}=i;if(c==="pointer")throw new Zs.InvalidArgumentException('"pointer" origin is invalid for scrolling.');let{targetX:u,targetY:d}=await this.#c(c,a,o,0,0);if(u<0||d<0)throw new Zs.MoveTargetOutOfBoundsException(`Cannot move beyond viewport (x: ${u}, y: ${d})`);let p=0,m=0,f;do{let h=l>0?(performance.now()-this.#e)/l:1;f=h>=1;let g,w;if(f?(g=n-p,w=s-m):(g=Math.round(h*n-p),w=Math.round(h*s-m)),g!==0||w!==0){let{modifiers:v}=t;await this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchMouseEvent",{type:"mouseWheel",deltaX:g,deltaY:w,x:u,y:d,modifiers:v}),p+=g,m+=w}}while(!f)}async#h(e,t){if([...t.value].length>1)throw new Zs.InvalidArgumentException(`Invalid key value: ${t.value}`);let i=t.value,n=(0,Qs.getNormalizedKey)(i),s=e.pressed.has(n),a=(0,Qs.getKeyCode)(i),o=(0,Qs.getKeyLocation)(i);switch(n){case"Alt":e.alt=!0;break;case"Shift":e.shift=!0;break;case"Control":e.ctrl=!0;break;case"Meta":e.meta=!0;break}e.pressed.add(n);let{modifiers:c}=e,l=VS(n,e),u=GS(a??"",e)??l,d;if(this.#n&&e.meta)switch(a){case"KeyA":d="SelectAll";break;case"KeyC":d="Copy";break;case"KeyV":d=e.shift?"PasteAndMatchStyle":"Paste";break;case"KeyX":d="Cut";break;case"KeyZ":d=e.shift?"Redo":"Undo";break;default:}let p=[this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchKeyEvent",{type:u?"keyDown":"rawKeyDown",windowsVirtualKeyCode:WS.KeyToKeyCode[n],key:n,code:a,text:u,unmodifiedText:l,autoRepeat:s,isSystemKey:e.alt||void 0,location:o<3?o:void 0,isKeypad:o===3,modifiers:c,commands:d?[d]:void 0})];n==="Escape"&&!e.alt&&(this.#n&&!e.ctrl&&!e.meta||!this.#n)&&p.push(this.#i.cdpTarget.cdpClient.sendCommand("Input.cancelDragging")),await Promise.all(p)}#p(e,t){if([...t.value].length>1)throw new Zs.InvalidArgumentException(`Invalid key value: ${t.value}`);let i=t.value,n=(0,Qs.getNormalizedKey)(i);if(!e.pressed.has(n))return;let s=(0,Qs.getKeyCode)(i),a=(0,Qs.getKeyLocation)(i);switch(n){case"Alt":e.alt=!1;break;case"Shift":e.shift=!1;break;case"Control":e.ctrl=!1;break;case"Meta":e.meta=!1;break}e.pressed.delete(n);let{modifiers:o}=e,c=VS(n,e),l=GS(s??"",e)??c;return this.#i.cdpTarget.cdpClient.sendCommand("Input.dispatchKeyEvent",{type:"keyUp",windowsVirtualKeyCode:WS.KeyToKeyCode[n],key:n,code:s,text:l,unmodifiedText:c,location:a<3?a:void 0,isSystemKey:e.alt||void 0,isKeypad:a===3,modifiers:o})}};xd.ActionDispatcher=wg;var VS=(r,e)=>r==="Enter"?"\r":[...r].length===1?e.shift?r.toLocaleUpperCase("en-US"):r:void 0,GS=(r,e)=>{if(e.ctrl){switch(r){case"Digit2":if(e.shift)return"\0";break;case"KeyA":return"";case"KeyB":return"";case"KeyC":return"";case"KeyD":return"";case"KeyE":return"";case"KeyF":return"";case"KeyG":return"\x07";case"KeyH":return"\b";case"KeyI":return"	";case"KeyJ":return`
`;case"KeyK":return"\v";case"KeyL":return"\f";case"KeyM":return"\r";case"KeyN":return"";case"KeyO":return"";case"KeyP":return"";case"KeyQ":return"";case"KeyR":return"";case"KeyS":return"";case"KeyT":return"";case"KeyU":return"";case"KeyV":return"";case"KeyW":return"";case"KeyX":return"";case"KeyY":return"";case"KeyZ":return"";case"BracketLeft":return"\x1B";case"Backslash":return"";case"BracketRight":return"";case"Digit6":if(e.shift)return"";break;case"Minus":return""}return""}if(e.alt)return""};function gd(r){switch(r){case 0:return"left";case 1:return"middle";case 2:return"right";case 3:return"back";case 4:return"forward";default:return"none"}}});var JS=k(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.InputProcessor=void 0;var uN=Oe(),dN=zS(),wd=XS(),vg=class{#e;#t=new dN.InputStateManager;constructor(e){this.#e=e}async performActions(e){let t=this.#e.getContext(e.context),i=this.#t.get(t.top),n=this.#r(e,i);return await new wd.ActionDispatcher(i,t,await wd.ActionDispatcher.isMacOS(t).catch(()=>!1)).dispatchActions(n),{}}async releaseActions(e){let t=this.#e.getContext(e.context),i=t.top,n=this.#t.get(i);return await new wd.ActionDispatcher(n,t,await wd.ActionDispatcher.isMacOS(t).catch(()=>!1)).dispatchTickActions(n.cancelList.reverse()),this.#t.delete(i),{}}#r(e,t){let i=[];for(let n of e.actions){switch(n.type){case"pointer":{n.parameters??={pointerType:"mouse"},n.parameters.pointerType??="mouse";let a=t.getOrCreate(n.id,"pointer",n.parameters.pointerType);if(a.subtype!==n.parameters.pointerType)throw new uN.InvalidArgumentException(`Expected input source ${n.id} to be ${a.subtype}; got ${n.parameters.pointerType}.`);break}default:t.getOrCreate(n.id,n.type)}let s=n.actions.map(a=>({id:n.id,action:a}));for(let a=0;a<s.length;a++)i.length===a&&i.push([]),i[a].push(s[a])}return i}};vd.InputProcessor=vg});var YS=k(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.PreloadScriptStorage=void 0;var yg=class{#e=new Set;find(e){return e?[...this.#e].filter(t=>!(e.id!==void 0&&e.id!==t.id||e.targetId!==void 0&&!t.targetIds.has(e.targetId))):[...this.#e]}add(e){this.#e.add(e)}remove(e){for(let t of this.find(e))this.#e.delete(t)}};yd.PreloadScriptStorage=yg});var QS=k(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.PreloadScript=void 0;var pN=ed(),hN=Qm(),bg=class{#e=(0,pN.uuidv4)();#t=[];#r;#i=new Set;#n;#s;get id(){return this.#e}get targetIds(){return this.#i}constructor(e,t){var i;this.#n=((i=e.arguments)==null?void 0:i.map(n=>new hN.ChannelProxy(n.value,t)))??[],this.#r=e.functionDeclaration,this.#s=e.sandbox}get channels(){return this.#n}#a(){let e=`[${this.channels.map(t=>t.getEvalInWindowStr()).join(", ")}]`;return`(()=>{(${this.#r})(...${e})})()`}async initInTargets(e,t){await Promise.all(Array.from(e).map(i=>this.initInTarget(i,t)))}async initInTarget(e,t){let i=await e.cdpClient.sendCommand("Page.addScriptToEvaluateOnNewDocument",{source:this.#a(),worldName:this.#s,runImmediately:t});this.#t.push({target:e,preloadScriptId:i.identifier}),this.#i.add(e.targetId)}async remove(){for(let e of this.#t){let t=e.target,i=e.preloadScriptId;await t.cdpClient.sendCommand("Page.removeScriptToEvaluateOnNewDocument",{identifier:i})}}dispose(e){this.#t=this.#t.filter(t=>{var i;return((i=t.target)==null?void 0:i.targetId)!==e}),this.#i.delete(e)}};bd.PreloadScript=bg});var ZS=k(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.ScriptProcessor=void 0;var fN=Oe(),mN=QS(),_g=class{#e;#t;#r;#i;constructor(e,t,i,n){this.#e=e,this.#t=t,this.#r=i,this.#i=n}async addPreloadScript(e){let t=new mN.PreloadScript(e,this.#i);this.#r.add(t);let i=new Set(this.#e.getTopLevelContexts().map(n=>n.cdpTarget));return await t.initInTargets(i,!1),{script:t.id}}async removePreloadScript(e){let t=e.script,i=this.#r.find({id:t});if(i.length===0)throw new fN.NoSuchScriptException(`No preload script with BiDi ID '${t}'`);return await Promise.all(i.map(n=>n.remove())),this.#r.remove({id:t}),{}}async callFunction(e){return(await this.#n(e.target)).callFunction(e.functionDeclaration,e.this??{type:"undefined"},e.arguments??[],e.awaitPromise,e.resultOwnership??"none",e.serializationOptions??{},e.userActivation??!1)}async evaluate(e){return(await this.#n(e.target)).evaluate(e.expression,e.awaitPromise,e.resultOwnership??"none",e.serializationOptions??{},e.userActivation??!1)}async disown(e){let t=await this.#n(e.target);return await Promise.all(e.handles.map(async i=>t.disown(i))),{}}getRealms(e){return e.context!==void 0&&this.#e.getContext(e.context),{realms:this.#t.findRealms({browsingContextId:e.context,type:e.type}).map(i=>i.realmInfo)}}async#n(e){return"realm"in e?this.#t.getRealm({realmId:e.realm}):this.#e.getContext(e.context).getOrCreateSandbox(e.sandbox)}};_d.ScriptProcessor=_g});var m1=k(($$,f1)=>{"use strict";var kg=Object.defineProperty,gN=Object.getOwnPropertyDescriptor,xN=Object.getOwnPropertyNames,wN=Object.prototype.hasOwnProperty,vN=(r,e)=>{for(var t in e)kg(r,t,{get:e[t],enumerable:!0})},yN=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of xN(e))!wN.call(r,n)&&n!==t&&kg(r,n,{get:()=>e[n],enumerable:!(i=gN(e,n))||i.enumerable});return r},bN=r=>yN(kg({},"__esModule",{value:!0}),r),r1={};vN(r1,{URLPattern:()=>VN});f1.exports=bN(r1);var Ao=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(r,e,t,i,n,s){this.type=r,this.name=e,this.prefix=t,this.value=i,this.suffix=n,this.modifier=s}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},_N=/[$_\p{ID_Start}]/u,EN=/[$_\u200C\u200D\p{ID_Continue}]/u,Sg=".*";function SN(r,e){return(e?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(r)}function i1(r,e=!1){let t=[],i=0;for(;i<r.length;){let n=r[i],s=function(a){if(!e)throw new TypeError(a);t.push({type:"INVALID_CHAR",index:i,value:r[i++]})};if(n==="*"){t.push({type:"ASTERISK",index:i,value:r[i++]});continue}if(n==="+"||n==="?"){t.push({type:"OTHER_MODIFIER",index:i,value:r[i++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:i++,value:r[i++]});continue}if(n==="{"){t.push({type:"OPEN",index:i,value:r[i++]});continue}if(n==="}"){t.push({type:"CLOSE",index:i,value:r[i++]});continue}if(n===":"){let a="",o=i+1;for(;o<r.length;){let c=r.substr(o,1);if(o===i+1&&_N.test(c)||o!==i+1&&EN.test(c)){a+=r[o++];continue}break}if(!a){s(`Missing parameter name at ${i}`);continue}t.push({type:"NAME",index:i,value:a}),i=o;continue}if(n==="("){let a=1,o="",c=i+1,l=!1;if(r[c]==="?"){s(`Pattern cannot start with "?" at ${c}`);continue}for(;c<r.length;){if(!SN(r[c],!1)){s(`Invalid character '${r[c]}' at ${c}.`),l=!0;break}if(r[c]==="\\"){o+=r[c++]+r[c++];continue}if(r[c]===")"){if(a--,a===0){c++;break}}else if(r[c]==="("&&(a++,r[c+1]!=="?")){s(`Capturing groups are not allowed at ${c}`),l=!0;break}o+=r[c++]}if(l)continue;if(a){s(`Unbalanced pattern at ${i}`);continue}if(!o){s(`Missing pattern at ${i}`);continue}t.push({type:"REGEX",index:i,value:o}),i=c;continue}t.push({type:"CHAR",index:i,value:r[i++]})}return t.push({type:"END",index:i,value:""}),t}function n1(r,e={}){let t=i1(r);e.delimiter??="/#?",e.prefixes??="./";let i=`[^${Vt(e.delimiter)}]+?`,n=[],s=0,a=0,o="",c=new Set,l=_=>{if(a<t.length&&t[a].type===_)return t[a++].value},u=()=>l("OTHER_MODIFIER")??l("ASTERISK"),d=_=>{let b=l(_);if(b!==void 0)return b;let{type:P,index:T}=t[a];throw new TypeError(`Unexpected ${P} at ${T}, expected ${_}`)},p=()=>{let _="",b;for(;b=l("CHAR")??l("ESCAPED_CHAR");)_+=b;return _},m=_=>_,f=e.encodePart||m,h="",g=_=>{h+=_},w=()=>{h.length&&(n.push(new Ao(3,"","",f(h),"",3)),h="")},v=(_,b,P,T,R)=>{let O=3;switch(R){case"?":O=1;break;case"*":O=0;break;case"+":O=2;break}if(!b&&!P&&O===3){g(_);return}if(w(),!b&&!P){if(!_)return;n.push(new Ao(3,"","",f(_),"",O));return}let M;P?P==="*"?M=Sg:M=P:M=i;let ne=2;M===i?(ne=1,M=""):M===Sg&&(ne=0,M="");let U;if(b?U=b:P&&(U=s++),c.has(U))throw new TypeError(`Duplicate name '${U}'.`);c.add(U),n.push(new Ao(ne,U,f(_),M,f(T),O))};for(;a<t.length;){let _=l("CHAR"),b=l("NAME"),P=l("REGEX");if(!b&&!P&&(P=l("ASTERISK")),b||P){let R=_??"";e.prefixes.indexOf(R)===-1&&(g(R),R=""),w();let O=u();v(R,b,P,"",O);continue}let T=_??l("ESCAPED_CHAR");if(T){g(T);continue}if(l("OPEN")){let R=p(),O=l("NAME"),M=l("REGEX");!O&&!M&&(M=l("ASTERISK"));let ne=p();d("CLOSE");let U=u();v(R,O,M,ne,U);continue}w(),d("END")}return n}function Vt(r){return r.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function e1(r){return r&&r.ignoreCase?"ui":"u"}function kN(r,e,t){return s1(n1(r,t),e,t)}function ea(r){switch(r){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function s1(r,e,t={}){t.delimiter??="/#?",t.prefixes??="./",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith="";let i=t.start?"^":"";for(let o of r){if(o.type===3){o.modifier===3?i+=Vt(o.value):i+=`(?:${Vt(o.value)})${ea(o.modifier)}`;continue}e&&e.push(o.name);let c=`[^${Vt(t.delimiter)}]+?`,l=o.value;if(o.type===1?l=c:o.type===0&&(l=Sg),!o.prefix.length&&!o.suffix.length){o.modifier===3||o.modifier===1?i+=`(${l})${ea(o.modifier)}`:i+=`((?:${l})${ea(o.modifier)})`;continue}if(o.modifier===3||o.modifier===1){i+=`(?:${Vt(o.prefix)}(${l})${Vt(o.suffix)})`,i+=ea(o.modifier);continue}i+=`(?:${Vt(o.prefix)}`,i+=`((?:${l})(?:`,i+=Vt(o.suffix),i+=Vt(o.prefix),i+=`(?:${l}))*)${Vt(o.suffix)})`,o.modifier===0&&(i+="?")}let n=`[${Vt(t.endsWith)}]|$`,s=`[${Vt(t.delimiter)}]`;if(t.end)return t.strict||(i+=`${s}?`),t.endsWith.length?i+=`(?=${n})`:i+="$",new RegExp(i,e1(t));t.strict||(i+=`(?:${s}(?=${n}))?`);let a=!1;if(r.length){let o=r[r.length-1];o.type===3&&o.modifier===3&&(a=t.delimiter.indexOf(o)>-1)}return a||(i+=`(?=${s}|${n})`),new RegExp(i,e1(t))}var Bi={delimiter:"",prefixes:"",sensitive:!0,strict:!0},CN={delimiter:".",prefixes:"",sensitive:!0,strict:!0},TN={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function PN(r,e){return r.length?r[0]==="/"?!0:!e||r.length<2?!1:(r[0]=="\\"||r[0]=="{")&&r[1]=="/":!1}function a1(r,e){return r.startsWith(e)?r.substring(e.length,r.length):r}function IN(r,e){return r.endsWith(e)?r.substr(0,r.length-e.length):r}function o1(r){return!r||r.length<2?!1:r[0]==="["||(r[0]==="\\"||r[0]==="{")&&r[1]==="["}var c1=["ftp","file","http","https","ws","wss"];function l1(r){if(!r)return!0;for(let e of c1)if(r.test(e))return!0;return!1}function RN(r,e){if(r=a1(r,"#"),e||r==="")return r;let t=new URL("https://example.com");return t.hash=r,t.hash?t.hash.substring(1,t.hash.length):""}function MN(r,e){if(r=a1(r,"?"),e||r==="")return r;let t=new URL("https://example.com");return t.search=r,t.search?t.search.substring(1,t.search.length):""}function AN(r,e){return e||r===""?r:o1(r)?p1(r):d1(r)}function ON(r,e){if(e||r==="")return r;let t=new URL("https://example.com");return t.password=r,t.password}function NN(r,e){if(e||r==="")return r;let t=new URL("https://example.com");return t.username=r,t.username}function DN(r,e,t){if(t||r==="")return r;if(e&&!c1.includes(e))return new URL(`${e}:${r}`).pathname;let i=r[0]=="/";return r=new URL(i?r:"/-"+r,"https://example.com").pathname,i||(r=r.substring(2,r.length)),r}function LN(r,e,t){return u1(e)===r&&(r=""),t||r===""?r:h1(r)}function FN(r,e){return r=IN(r,":"),e||r===""?r:Cg(r)}function u1(r){switch(r){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Cg(r){if(r==="")return r;if(/^[-+.A-Za-z0-9]*$/.test(r))return r.toLowerCase();throw new TypeError(`Invalid protocol '${r}'.`)}function BN(r){if(r==="")return r;let e=new URL("https://example.com");return e.username=r,e.username}function jN(r){if(r==="")return r;let e=new URL("https://example.com");return e.password=r,e.password}function d1(r){if(r==="")return r;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(r))throw new TypeError(`Invalid hostname '${r}'`);let e=new URL("https://example.com");return e.hostname=r,e.hostname}function p1(r){if(r==="")return r;if(/[^0-9a-fA-F[\]:]/g.test(r))throw new TypeError(`Invalid IPv6 hostname '${r}'`);return r.toLowerCase()}function h1(r){if(r===""||/^[0-9]*$/.test(r)&&parseInt(r)<=65535)return r;throw new TypeError(`Invalid port '${r}'.`)}function qN(r){if(r==="")return r;let e=new URL("https://example.com");return e.pathname=r[0]!=="/"?"/-"+r:r,r[0]!=="/"?e.pathname.substring(2,e.pathname.length):e.pathname}function UN(r){return r===""?r:new URL(`data:${r}`).pathname}function $N(r){if(r==="")return r;let e=new URL("https://example.com");return e.search=r,e.search.substring(1,e.search.length)}function zN(r){if(r==="")return r;let e=new URL("https://example.com");return e.hash=r,e.hash.substring(1,e.hash.length)}var KN=class{#e;#t=[];#r={};#i=0;#n=1;#s=0;#a=0;#o=0;#l=0;#c=!1;constructor(r){this.#e=r}get result(){return this.#r}parse(){for(this.#t=i1(this.#e,!0);this.#i<this.#t.length;this.#i+=this.#n){if(this.#n=1,this.#t[this.#i].type==="END"){if(this.#a===0){this.#p(),this.#E()?this.#u(9,1):this.#_()?(this.#u(8,1),this.#r.hash=""):(this.#u(7,0),this.#r.search="",this.#r.hash="");continue}else if(this.#a===2){this.#d(5);continue}this.#u(10,0);break}if(this.#o>0)if(this.#T())this.#o-=1;else continue;if(this.#k()){this.#o+=1;continue}switch(this.#a){case 0:this.#x()&&(this.#r.username="",this.#r.password="",this.#r.hostname="",this.#r.port="",this.#r.pathname="",this.#r.search="",this.#r.hash="",this.#d(1));break;case 1:if(this.#x()){this.#P();let r=7,e=1;this.#c&&(this.#r.pathname="/"),this.#g()?(r=2,e=3):this.#c&&(r=2),this.#u(r,e)}break;case 2:this.#w()?this.#d(3):(this.#b()||this.#_()||this.#E())&&this.#d(5);break;case 3:this.#y()?this.#u(4,1):this.#w()&&this.#u(5,1);break;case 4:this.#w()&&this.#u(5,1);break;case 5:this.#C()?this.#l+=1:this.#R()&&(this.#l-=1),this.#v()&&!this.#l?this.#u(6,1):this.#b()?this.#u(7,0):this.#_()?this.#u(8,1):this.#E()&&this.#u(9,1);break;case 6:this.#b()?this.#u(7,0):this.#_()?this.#u(8,1):this.#E()&&this.#u(9,1);break;case 7:this.#_()?this.#u(8,1):this.#E()&&this.#u(9,1);break;case 8:this.#E()&&this.#u(9,1);break;case 9:break;case 10:break}}}#u(r,e){switch(this.#a){case 0:break;case 1:this.#r.protocol=this.#S();break;case 2:break;case 3:this.#r.username=this.#S();break;case 4:this.#r.password=this.#S();break;case 5:this.#r.hostname=this.#S();break;case 6:this.#r.port=this.#S();break;case 7:this.#r.pathname=this.#S();break;case 8:this.#r.search=this.#S();break;case 9:this.#r.hash=this.#S();break;case 10:break}this.#h(r,e)}#h(r,e){this.#a=r,this.#s=this.#i+e,this.#i+=e,this.#n=0}#p(){this.#i=this.#s,this.#n=0}#d(r){this.#p(),this.#a=r}#m(r){return r<0&&(r=this.#t.length-r),r<this.#t.length?this.#t[r]:this.#t[this.#t.length-1]}#f(r,e){let t=this.#m(r);return t.value===e&&(t.type==="CHAR"||t.type==="ESCAPED_CHAR"||t.type==="INVALID_CHAR")}#x(){return this.#f(this.#i,":")}#g(){return this.#f(this.#i+1,"/")&&this.#f(this.#i+2,"/")}#w(){return this.#f(this.#i,"@")}#y(){return this.#f(this.#i,":")}#v(){return this.#f(this.#i,":")}#b(){return this.#f(this.#i,"/")}#_(){if(this.#f(this.#i,"?"))return!0;if(this.#t[this.#i].value!=="?")return!1;let r=this.#m(this.#i-1);return r.type!=="NAME"&&r.type!=="REGEX"&&r.type!=="CLOSE"&&r.type!=="ASTERISK"}#E(){return this.#f(this.#i,"#")}#k(){return this.#t[this.#i].type=="OPEN"}#T(){return this.#t[this.#i].type=="CLOSE"}#C(){return this.#f(this.#i,"[")}#R(){return this.#f(this.#i,"]")}#S(){let r=this.#t[this.#i],e=this.#m(this.#s).index;return this.#e.substring(e,r.index)}#P(){let r={};Object.assign(r,Bi),r.encodePart=Cg;let e=kN(this.#S(),void 0,r);this.#c=l1(e)}},Eg=["protocol","username","password","hostname","port","pathname","search","hash"],Fi="*";function t1(r,e){if(typeof r!="string")throw new TypeError("parameter 1 is not of type 'string'.");let t=new URL(r,e);return{protocol:t.protocol.substring(0,t.protocol.length-1),username:t.username,password:t.password,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search!==""?t.search.substring(1,t.search.length):void 0,hash:t.hash!==""?t.hash.substring(1,t.hash.length):void 0}}function Yr(r,e){return e?Mo(r):r}function Ro(r,e,t){let i;if(typeof e.baseURL=="string")try{i=new URL(e.baseURL),r.protocol=Yr(i.protocol.substring(0,i.protocol.length-1),t),r.username=Yr(i.username,t),r.password=Yr(i.password,t),r.hostname=Yr(i.hostname,t),r.port=Yr(i.port,t),r.pathname=Yr(i.pathname,t),r.search=Yr(i.search.substring(1,i.search.length),t),r.hash=Yr(i.hash.substring(1,i.hash.length),t)}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if(typeof e.protocol=="string"&&(r.protocol=FN(e.protocol,t)),typeof e.username=="string"&&(r.username=NN(e.username,t)),typeof e.password=="string"&&(r.password=ON(e.password,t)),typeof e.hostname=="string"&&(r.hostname=AN(e.hostname,t)),typeof e.port=="string"&&(r.port=LN(e.port,r.protocol,t)),typeof e.pathname=="string"){if(r.pathname=e.pathname,i&&!PN(r.pathname,t)){let n=i.pathname.lastIndexOf("/");n>=0&&(r.pathname=Yr(i.pathname.substring(0,n+1),t)+r.pathname)}r.pathname=DN(r.pathname,r.protocol,t)}return typeof e.search=="string"&&(r.search=MN(e.search,t)),typeof e.hash=="string"&&(r.hash=RN(e.hash,t)),r}function Mo(r){return r.replace(/([+*?:{}()\\])/g,"\\$1")}function HN(r){return r.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function WN(r,e){e.delimiter??="/#?",e.prefixes??="./",e.sensitive??=!1,e.strict??=!1,e.end??=!0,e.start??=!0,e.endsWith="";let t=".*",i=`[^${HN(e.delimiter)}]+?`,n=/[$_\u200C\u200D\p{ID_Continue}]/u,s="";for(let a=0;a<r.length;++a){let o=r[a];if(o.type===3){if(o.modifier===3){s+=Mo(o.value);continue}s+=`{${Mo(o.value)}}${ea(o.modifier)}`;continue}let c=o.hasCustomName(),l=!!o.suffix.length||!!o.prefix.length&&(o.prefix.length!==1||!e.prefixes.includes(o.prefix)),u=a>0?r[a-1]:null,d=a<r.length-1?r[a+1]:null;if(!l&&c&&o.type===1&&o.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let p=d.value.length>0?d.value[0]:"";l=n.test(p)}else l=!d.hasCustomName();if(!l&&!o.prefix.length&&u&&u.type===3){let p=u.value[u.value.length-1];l=e.prefixes.includes(p)}l&&(s+="{"),s+=Mo(o.prefix),c&&(s+=`:${o.name}`),o.type===2?s+=`(${o.value})`:o.type===1?c||(s+=`(${i})`):o.type===0&&(!c&&(!u||u.type===3||u.modifier!==3||l||o.prefix!=="")?s+="*":s+=`(${t})`),o.type===1&&c&&o.suffix.length&&n.test(o.suffix[0])&&(s+="\\"),s+=Mo(o.suffix),l&&(s+="}"),o.modifier!==3&&(s+=ea(o.modifier))}return s}var VN=class{#e;#t={};#r={};#i={};#n={};constructor(r={},e,t){try{let i;if(typeof e=="string"?i=e:t=e,typeof r=="string"){let o=new KN(r);if(o.parse(),r=o.result,i===void 0&&typeof r.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");r.baseURL=i}else{if(!r||typeof r!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(i)throw new TypeError("parameter 1 is not of type 'string'.")}typeof t>"u"&&(t={ignoreCase:!1});let n={ignoreCase:t.ignoreCase===!0},s={pathname:Fi,protocol:Fi,username:Fi,password:Fi,hostname:Fi,port:Fi,search:Fi,hash:Fi};this.#e=Ro(s,r,!0),u1(this.#e.protocol)===this.#e.port&&(this.#e.port="");let a;for(a of Eg){if(!(a in this.#e))continue;let o={},c=this.#e[a];switch(this.#r[a]=[],a){case"protocol":Object.assign(o,Bi),o.encodePart=Cg;break;case"username":Object.assign(o,Bi),o.encodePart=BN;break;case"password":Object.assign(o,Bi),o.encodePart=jN;break;case"hostname":Object.assign(o,CN),o1(c)?o.encodePart=p1:o.encodePart=d1;break;case"port":Object.assign(o,Bi),o.encodePart=h1;break;case"pathname":l1(this.#t.protocol)?(Object.assign(o,TN,n),o.encodePart=qN):(Object.assign(o,Bi,n),o.encodePart=UN);break;case"search":Object.assign(o,Bi,n),o.encodePart=$N;break;case"hash":Object.assign(o,Bi,n),o.encodePart=zN;break}try{this.#n[a]=n1(c,o),this.#t[a]=s1(this.#n[a],this.#r[a],o),this.#i[a]=WN(this.#n[a],o)}catch{throw new TypeError(`invalid ${a} pattern '${this.#e[a]}'.`)}}}catch(i){throw new TypeError(`Failed to construct 'URLPattern': ${i.message}`)}}test(r={},e){let t={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof r!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof r>"u")return!1;try{typeof r=="object"?t=Ro(t,r,!1):t=Ro(t,t1(r,e),!1)}catch{return!1}let i;for(i of Eg)if(!this.#t[i].exec(t[i]))return!1;return!0}exec(r={},e){let t={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof r!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof r>"u")return;try{typeof r=="object"?t=Ro(t,r,!1):t=Ro(t,t1(r,e),!1)}catch{return null}let i={};e?i.inputs=[r,e]:i.inputs=[r];let n;for(n of Eg){let s=this.#t[n].exec(t[n]);if(!s)return null;let a={};for(let[o,c]of this.#r[n].entries())if(typeof c=="string"||typeof c=="number"){let l=s[o+1];a[c]=l}i[n]={input:t[n]??"",groups:a}}return i}static compareComponent(r,e,t){let i=(o,c)=>{for(let l of["type","modifier","prefix","value","suffix"]){if(o[l]<c[l])return-1;if(o[l]!==c[l])return 1}return 0},n=new Ao(3,"","","","",3),s=new Ao(0,"","","","",3),a=(o,c)=>{let l=0;for(;l<Math.min(o.length,c.length);++l){let u=i(o[l],c[l]);if(u)return u}return o.length===c.length?0:i(o[l]??n,c[l]??n)};return!e.#i[r]&&!t.#i[r]?0:e.#i[r]&&!t.#i[r]?a(e.#n[r],[s]):!e.#i[r]&&t.#i[r]?a([s],t.#n[r]):a(e.#n[r],t.#n[r])}get protocol(){return this.#i.protocol}get username(){return this.#i.username}get password(){return this.#i.password}get hostname(){return this.#i.hostname}get port(){return this.#i.port}get pathname(){return this.#i.pathname}get search(){return this.#i.search}get hash(){return this.#i.hash}}});var w1=k((W$,x1)=>{var{URLPattern:g1}=m1();x1.exports={URLPattern:g1};globalThis.URLPattern||(globalThis.URLPattern=g1)});var y1=k(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.URLPattern=void 0;var v1=w1();Object.defineProperty(Ed,"URLPattern",{enumerable:!0,get:function(){return v1.URLPattern}});"URLPattern"in globalThis&&(v1.URLPattern=globalThis.URLPattern)});var _1=k(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.NetworkRequest=void 0;var b1=Yu(),Oo=Oe(),Tg=Xs(),Pg=class r{static#e="UNKNOWN";requestId;#t=!1;#r=!1;#i;#n;#s={};#a={};#o=new b1.Deferred;#l=new b1.Deferred;constructor(e,t,i=0){this.requestId=e,this.#n=t,this.#i=i}get url(){var e,t;return((e=this.#a.info)==null?void 0:e.response.url)??((t=this.#s.info)==null?void 0:t.request.url)}get redirectCount(){return this.#i}isRedirecting(){return!!this.#s.info}handleRedirect(e){this.#g(),this.#a.info={hasExtraInfo:e.redirectHasExtraInfo,response:e.redirectResponse},this.#c(!0)}#c(e=!1){let t=e||!!this.#s.extraInfo||this.#r||!!(this.#a.info&&!this.#a.info.hasExtraInfo);this.#s.info&&t&&this.#o.resolve({kind:"success",value:void 0});let i=!!this.#a.extraInfo||this.#r||!!(this.#a.info&&!this.#a.info.hasExtraInfo);this.#a.info&&i&&this.#l.resolve({kind:"success",value:void 0})}onRequestWillBeSentEvent(e){this.#s.info=e,this.#f(),this.#c()}onRequestWillBeSentExtraInfoEvent(e){this.#s.extraInfo=e,this.#c()}onResponseReceivedExtraInfoEvent(e){this.#a.extraInfo=e,this.#c()}onResponseReceivedEvent(e){this.#a.info=e,this.#g(),this.#c()}onServedFromCache(){this.#r=!0,this.#c()}onLoadingFailedEvent(e){this.#o.resolve({kind:"success",value:void 0}),this.#l.resolve({kind:"error",error:new Error("Network event loading failed")}),this.#n.registerEvent({type:"event",method:Oo.ChromiumBidi.Network.EventNames.FetchError,params:{...this.#h(),errorText:e.errorText}},this.#u)}onRequestPaused(e){this.#t=!0}dispose(){let e={kind:"error",error:new Error("Network processor detached")};this.#o.resolve(e),this.#l.resolve(e)}get#u(){var e;return((e=this.#s.info)==null?void 0:e.frameId)??null}#h(){var e;return{isBlocked:this.#t,context:this.#u,navigation:this.#p(),redirectCount:this.#i,request:this.#d(),timestamp:Math.round((((e=this.#s.info)==null?void 0:e.wallTime)??0)*1e3)}}#p(){return!this.#s.info||!this.#s.info.loaderId||this.#s.info.loaderId!==this.#s.info.requestId?null:this.#s.info.loaderId}#d(){var t,i,n,s;let e=this.#s.extraInfo?r.#E(this.#s.extraInfo.associatedCookies):[];return{request:((t=this.#s.info)==null?void 0:t.requestId)??r.#e,url:((i=this.#s.info)==null?void 0:i.request.url)??r.#e,method:((n=this.#s.info)==null?void 0:n.request.method)??r.#e,headers:r.#b((s=this.#s.info)==null?void 0:s.request.headers),cookies:e,headersSize:-1,bodySize:0,timings:this.#m()}}#m(){return{timeOrigin:0,requestTime:0,redirectStart:0,redirectEnd:0,fetchStart:0,dnsStart:0,dnsEnd:0,connectStart:0,connectEnd:0,tlsStart:0,requestStart:0,responseStart:0,responseEnd:0}}#f(){this.#v()||this.#n.registerPromiseEvent(this.#o.then(e=>e.kind==="success"?{kind:"success",value:Object.assign(this.#x(),{type:"event"})}:e),this.#u,Oo.ChromiumBidi.Network.EventNames.BeforeRequestSent)}#x(){return(0,Tg.assert)(this.#s.info,"RequestWillBeSentEvent is not set"),{method:Oo.ChromiumBidi.Network.EventNames.BeforeRequestSent,params:{...this.#h(),initiator:{type:r.#_(this.#s.info.initiator.type)}}}}#g(){this.#v()||this.#n.registerPromiseEvent(this.#l.then(e=>e.kind==="success"?{kind:"success",value:Object.assign(this.#w(),{type:"event"})}:e),this.#u,Oo.ChromiumBidi.Network.EventNames.ResponseCompleted)}#w(){var t;(0,Tg.assert)(this.#s.info,"RequestWillBeSentEvent is not set"),(0,Tg.assert)(this.#a.info,"ResponseReceivedEvent is not set"),this.#a.info.response.fromDiskCache&&(this.#a.extraInfo=void 0);let e=r.#b(this.#a.info.response.headers);return{method:Oo.ChromiumBidi.Network.EventNames.ResponseCompleted,params:{...this.#h(),response:{url:this.#a.info.response.url??r.#e,protocol:this.#a.info.response.protocol??"",status:((t=this.#a.extraInfo)==null?void 0:t.statusCode)??this.#a.info.response.status,statusText:this.#a.info.response.statusText,fromCache:this.#a.info.response.fromDiskCache||this.#a.info.response.fromPrefetchCache||this.#r,headers:e,mimeType:this.#a.info.response.mimeType,bytesReceived:this.#a.info.response.encodedDataLength,headersSize:this.#y(e),bodySize:0,content:{size:0}}}}}#y(e){return e.reduce((t,i)=>t+i.name.length+i.value.value.length+4,0)}#v(){var e;return((e=this.#s.info)==null?void 0:e.request.url.endsWith("/favicon.ico"))??!1}static#b(e){return e?Object.entries(e).map(([t,i])=>({name:t,value:{type:"string",value:i}})):[]}static#_(e){switch(e){case"parser":case"script":case"preflight":return e;default:return"other"}}static#E(e){return e.filter(({blockedReasons:t})=>!Array.isArray(t)||t.length===0).map(({cookie:t})=>({name:t.name,value:{type:"string",value:t.value},domain:t.domain,path:t.path,expires:t.expires,size:t.size,httpOnly:t.httpOnly,secure:t.secure,sameSite:r.#k(t.sameSite)}))}static#k(e){switch(e){case"Strict":return"strict";case"Lax":return"lax";default:return"none"}}};Sd.NetworkRequest=Pg});var Rg=k(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.NetworkStorage=void 0;var GN=y1(),XN=ed(),No=Oe(),JN=_1(),Ig=class r{#e;#t=new Map;#r=new Map;#i=new Map;constructor(e){this.#e=e}disposeRequestMap(){for(let e of this.#t.values())e.dispose();this.#t.clear()}addIntercept(e){let t=(0,XN.uuidv4)();return this.#r.set(t,e),t}removeIntercept(e){if(!this.#r.has(e))throw new No.NoSuchInterceptException(`Intercept '${e}' does not exist.`);this.#r.delete(e)}getFetchEnableParams(){let e=[];for(let t of this.#r.values())for(let i of t.urlPatterns){let n=r.cdpFromSpecUrlPattern(i);for(let s of t.phases)s==="authRequired"?e.push({urlPattern:n}):e.push({urlPattern:n,requestStage:r.requestStageFromPhase(s)})}return{patterns:e,handleAuthRequests:[...this.#r.values()].some(t=>t.phases.includes("authRequired"))}}getRequest(e){return this.#t.get(e)}createRequest(e,t){let i=new JN.NetworkRequest(e,this.#e,t);return this.#t.set(e,i),i}deleteRequest(e){let t=this.#t.get(e);t&&(t.dispose(),this.#t.delete(e))}static cdpFromSpecUrlPattern(e){switch(e.type){case"string":return e.pattern;case"pattern":return r.buildUrlPatternString(e)}}static buildUrlPatternString({protocol:e,hostname:t,port:i,pathname:n,search:s}){let a="";return e&&(a+=`${e}`,e.endsWith(":")||(a+=":"),r.isSpecialScheme(e)&&(a+="//")),t&&(a+=t),i&&(a+=`:${i}`),n&&(n.startsWith("/")||(a+="/"),a+=n),s&&(s.startsWith("?")||(a+="?"),a+=`${s}`),a}static requestStageFromPhase(e){switch(e){case"beforeRequestSent":return"Request";case"responseStarted":return"Response";case"authRequired":throw new Error("AuthRequired is not a valid intercept phase for request stage.")}}static isSpecialScheme(e){return["ftp","file","http","https","ws","wss"].includes(e.replace(/:$/,""))}addBlockedRequest(e,t){this.#i.set(e,t)}removeBlockedRequest(e){this.#i.delete(e)}getNetworkIntercepts(e,t){let i=this.#t.get(t);if(!i)return[];let n;switch(e){case No.ChromiumBidi.Network.EventNames.BeforeRequestSent:n="beforeRequestSent";break;case No.ChromiumBidi.Network.EventNames.ResponseStarted:n="responseStarted";break;case No.ChromiumBidi.Network.EventNames.AuthRequired:n="authRequired";break;case No.ChromiumBidi.Network.EventNames.ResponseCompleted:return[]}let s=[];for(let[a,{phases:o,urlPatterns:c}]of this.#r.entries())n&&o.includes(n)&&(c.length===0||c.some(l=>r.matchUrlPattern(l,i.url)))&&s.push(a);return s}static matchUrlPattern(e,t){switch(e.type){case"string":return e.pattern===t;case"pattern":return new GN.URLPattern({protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}).exec(t)!==null}}};kd.NetworkStorage=Ig});var E1=k(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.NetworkProcessor=void 0;var Bt=Oe(),YN=Rg(),Mg=class r{#e;#t;constructor(e,t){this.#e=e,this.#t=t}async addIntercept(e){if(e.phases.length===0)throw new Bt.InvalidArgumentException("At least one phase must be specified.");let t=e.urlPatterns??[],i=r.parseUrlPatterns(t),n=this.#t.addIntercept({urlPatterns:i,phases:e.phases});return await this.#r(),{intercept:n}}continueRequest(e){throw new Bt.UnknownCommandException("Not implemented yet.")}continueResponse(e){throw new Bt.UnknownCommandException("Not implemented yet.")}continueWithAuth(e){throw new Bt.UnknownCommandException("Not implemented yet.")}failRequest(e){throw new Bt.UnknownCommandException("Not implemented yet.")}provideResponse(e){throw new Bt.UnknownCommandException("Not implemented yet.")}async removeIntercept(e){return this.#t.removeIntercept(e.intercept),await this.#r(),{}}async#r(){await Promise.all(this.#e.getAllContexts().map(async e=>{await e.cdpTarget.fetchApply()}))}static parseUrlPatterns(e){return e.map(t=>{var i,n,s;switch(t.type){case"string":{try{new URL(t.pattern)}catch(a){throw new Bt.InvalidArgumentException(`Invalid URL '${t.pattern}': ${a}`)}return t}case"pattern":if(t.protocol==="")throw new Bt.InvalidArgumentException("URL pattern must specify a protocol");if(t.hostname==="")throw new Bt.InvalidArgumentException("URL pattern must specify a hostname");if((((i=t.hostname)==null?void 0:i.length)??0)>0){if((n=t.protocol)!=null&&n.match(/^file/i))throw new Bt.InvalidArgumentException("URL pattern protocol cannot be 'file'");if((s=t.hostname)!=null&&s.includes(":"))throw new Bt.InvalidArgumentException("URL pattern hostname must not contain a colon")}if(t.port==="")throw new Bt.InvalidArgumentException("URL pattern must specify a port");try{new URL(YN.NetworkStorage.buildUrlPatternString(t))}catch(a){throw new Bt.InvalidArgumentException(`${a}`)}return t}})}};Cd.NetworkProcessor=Mg});var S1=k(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.SessionProcessor=void 0;var Ag=class{#e;constructor(e){this.#e=e}status(){return{ready:!1,message:"already connected"}}subscribe(e,t=null){return this.#e.subscribe(e.events,e.contexts??[null],t),{}}unsubscribe(e,t=null){return this.#e.unsubscribe(e.events,e.contexts??[null],t),{}}};Td.SessionProcessor=Ag});var k1=k(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.CommandProcessor=void 0;var Og=Oe(),QN=Uu(),ZN=Ni(),eD=bS(),Ng=Wu(),tD=_S(),rD=ES(),iD=qS(),nD=JS(),sD=YS(),aD=ZS(),oD=E1(),cD=S1(),lD=Rg(),Dg=class extends QN.EventEmitter{#e;#t;#r;#i;#n;#s;#a;#o;#l;constructor(e,t,i,n,s,a=new eD.BidiNoOpParser,o){super(),this.#o=a,this.#l=o;let c=new lD.NetworkStorage(t),l=new sD.PreloadScriptStorage;this.#e=new tD.BrowserProcessor(e),this.#t=new iD.BrowsingContextProcessor(e,i,t,n,s,c,l,o),this.#r=new rD.CdpProcessor(n,e),this.#i=new nD.InputProcessor(n),this.#n=new oD.NetworkProcessor(n,c),this.#s=new aD.ScriptProcessor(n,s,l,o),this.#a=new cD.SessionProcessor(t)}async#c(e){switch(e.method){case"session.end":case"session.new":break;case"browser.close":return this.#e.close();case"browsingContext.activate":return this.#t.activate(this.#o.parseActivateParams(e.params));case"browsingContext.captureScreenshot":return this.#t.captureScreenshot(this.#o.parseCaptureScreenshotParams(e.params));case"browsingContext.close":return this.#t.close(this.#o.parseCloseParams(e.params));case"browsingContext.create":return this.#t.create(this.#o.parseCreateParams(e.params));case"browsingContext.getTree":return this.#t.getTree(this.#o.parseGetTreeParams(e.params));case"browsingContext.handleUserPrompt":return this.#t.handleUserPrompt(this.#o.parseHandleUserPromptParams(e.params));case"browsingContext.navigate":return this.#t.navigate(this.#o.parseNavigateParams(e.params));case"browsingContext.print":return this.#t.print(this.#o.parsePrintParams(e.params));case"browsingContext.reload":return this.#t.reload(this.#o.parseReloadParams(e.params));case"browsingContext.setViewport":return this.#t.setViewport(this.#o.parseSetViewportParams(e.params));case"cdp.getSession":return this.#r.getSession(this.#o.parseGetSessionParams(e.params));case"cdp.sendCommand":return this.#r.sendCommand(this.#o.parseSendCommandParams(e.params));case"input.performActions":return this.#i.performActions(this.#o.parsePerformActionsParams(e.params));case"input.releaseActions":return this.#i.releaseActions(this.#o.parseReleaseActionsParams(e.params));case"network.addIntercept":return this.#n.addIntercept(this.#o.parseAddInterceptParams(e.params));case"network.continueRequest":return this.#n.continueRequest(this.#o.parseContinueRequestParams(e.params));case"network.continueResponse":return this.#n.continueResponse(this.#o.parseContinueResponseParams(e.params));case"network.continueWithAuth":return this.#n.continueWithAuth(this.#o.parseContinueWithAuthParams(e.params));case"network.failRequest":return this.#n.failRequest(this.#o.parseFailRequestParams(e.params));case"network.provideResponse":return this.#n.provideResponse(this.#o.parseProvideResponseParams(e.params));case"network.removeIntercept":return this.#n.removeIntercept(this.#o.parseRemoveInterceptParams(e.params));case"script.addPreloadScript":return this.#s.addPreloadScript(this.#o.parseAddPreloadScriptParams(e.params));case"script.callFunction":return this.#s.callFunction(this.#o.parseCallFunctionParams(e.params));case"script.disown":return this.#s.disown(this.#o.parseDisownParams(e.params));case"script.evaluate":return this.#s.evaluate(this.#o.parseEvaluateParams(e.params));case"script.getRealms":return this.#s.getRealms(this.#o.parseGetRealmsParams(e.params));case"script.removePreloadScript":return this.#s.removePreloadScript(this.#o.parseRemovePreloadScriptParams(e.params));case"session.status":return this.#a.status();case"session.subscribe":return this.#a.subscribe(this.#o.parseSubscribeParams(e.params),e.channel);case"session.unsubscribe":return this.#a.unsubscribe(this.#o.parseSubscribeParams(e.params),e.channel)}throw new Og.UnknownCommandException(`Unknown command '${e.method}'.`)}async processCommand(e){var t;try{let i=await this.#c(e),n={type:"success",id:e.id,result:i};this.emit("response",{message:Ng.OutgoingMessage.createResolved(n,e.channel),event:e.method})}catch(i){if(i instanceof Og.Exception)this.emit("response",{message:Ng.OutgoingMessage.createResolved(i.toErrorResponse(e.id),e.channel),event:e.method});else{let n=i;(t=this.#l)==null||t.call(this,ZN.LogType.bidi,n),this.emit("response",{message:Ng.OutgoingMessage.createResolved(new Og.UnknownErrorException(n.message,n.stack).toErrorResponse(e.id),e.channel),event:e.method})}}}};Pd.CommandProcessor=Dg});var C1=k(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.BrowsingContextStorage=void 0;var uD=Oe(),Lg=class{#e=new Map;getTopLevelContexts(){return this.getAllContexts().filter(e=>e.isTopLevelContext())}getAllContexts(){return Array.from(this.#e.values())}deleteContextById(e){this.#e.delete(e)}deleteContext(e){this.#e.delete(e.id)}addContext(e){this.#e.set(e.id,e)}hasContext(e){return this.#e.has(e)}findContext(e){return this.#e.get(e)}findTopLevelContextId(e){if(e===null)return null;let t=this.findContext(e),i=(t==null?void 0:t.parentId)??null;return i===null?e:this.findTopLevelContextId(i)}getContext(e){let t=this.findContext(e);if(t===void 0)throw new uD.NoSuchFrameException(`Context ${e} not found`);return t}};Id.BrowsingContextStorage=Lg});var T1=k(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.DefaultMap=void 0;var Fg=class extends Map{#e;constructor(e,t){super(t),this.#e=e}get(e){return this.has(e)||this.set(e,this.#e(e)),super.get(e)}};Rd.DefaultMap=Fg});var P1=k(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.Buffer=void 0;var Bg=class{#e;#t=[];#r;constructor(e,t){this.#e=e,this.#r=t}get(){return this.#t}add(e){var t;for(this.#t.push(e);this.#t.length>this.#e;){let i=this.#t.shift();i!==void 0&&((t=this.#r)==null||t.call(this,i))}}};Md.Buffer=Bg});var I1=k(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.IdWrapper=void 0;var jg=class r{static#e=0;#t;constructor(){this.#t=++r.#e}get id(){return this.#t}};Ad.IdWrapper=jg});var Ug=k(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.assertSupportedEvent=ta.isCdpEvent=void 0;var qg=Oe();function R1(r){var e;return((e=r.split(".").at(0))==null?void 0:e.startsWith(qg.ChromiumBidi.BiDiModule.Cdp))??!1}ta.isCdpEvent=R1;function dD(r){if(!qg.ChromiumBidi.EVENT_NAMES.has(r)&&!R1(r))throw new qg.InvalidArgumentException(`Unknown event: ${r}`)}ta.assertSupportedEvent=dD});var O1=k(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.SubscriptionManager=ji.unrollEvents=ji.cartesianProduct=void 0;var Xe=Oe(),pD=Ug();function M1(...r){return r.reduce((e,t)=>e.flatMap(i=>t.map(n=>[i,n].flat())))}ji.cartesianProduct=M1;function A1(r){let e=new Set;function t(i){for(let n of i)e.add(n)}for(let i of r)switch(i){case Xe.ChromiumBidi.BiDiModule.BrowsingContext:t(Object.values(Xe.ChromiumBidi.BrowsingContext.EventNames));break;case Xe.ChromiumBidi.BiDiModule.Log:t(Object.values(Xe.ChromiumBidi.Log.EventNames));break;case Xe.ChromiumBidi.BiDiModule.Network:t(Object.values(Xe.ChromiumBidi.Network.EventNames));break;case Xe.ChromiumBidi.BiDiModule.Script:t(Object.values(Xe.ChromiumBidi.Script.EventNames));break;default:e.add(i)}return[...e.values()]}ji.unrollEvents=A1;var $g=class{#e=0;#t=new Map;#r;constructor(e){this.#r=e}getChannelsSubscribedToEvent(e,t){return Array.from(this.#t.keys()).map(n=>({priority:this.#i(e,t,n),channel:n})).filter(({priority:n})=>n!==null).sort((n,s)=>n.priority-s.priority).map(({channel:n})=>n)}#i(e,t,i){let n=this.#t.get(i);if(n===void 0)return null;let s=this.#r.findTopLevelContextId(t),o=[...new Set([null,s])].map(c=>{var u,d;let l=(u=n.get(c))==null?void 0:u.get(e);if((0,pD.isCdpEvent)(e)){let p=(d=n.get(c))==null?void 0:d.get(Xe.ChromiumBidi.BiDiModule.Cdp);return l&&p?Math.min(l,p):l??p}return l}).filter(c=>c!==void 0);return o.length===0?null:Math.min(...o)}subscribe(e,t,i){switch(t=this.#r.findTopLevelContextId(t),e){case Xe.ChromiumBidi.BiDiModule.BrowsingContext:Object.values(Xe.ChromiumBidi.BrowsingContext.EventNames).map(a=>this.subscribe(a,t,i));return;case Xe.ChromiumBidi.BiDiModule.Log:Object.values(Xe.ChromiumBidi.Log.EventNames).map(a=>this.subscribe(a,t,i));return;case Xe.ChromiumBidi.BiDiModule.Network:Object.values(Xe.ChromiumBidi.Network.EventNames).map(a=>this.subscribe(a,t,i));return;case Xe.ChromiumBidi.BiDiModule.Script:Object.values(Xe.ChromiumBidi.Script.EventNames).map(a=>this.subscribe(a,t,i));return;default:}this.#t.has(i)||this.#t.set(i,new Map);let n=this.#t.get(i);n.has(t)||n.set(t,new Map);let s=n.get(t);s.has(e)||s.set(e,this.#e++)}unsubscribeAll(e,t,i){for(let s of t)s!==null&&this.#r.getContext(s);M1(A1(e),t).map(([s,a])=>this.#n(s,a,i)).forEach(s=>s())}unsubscribe(e,t,i){this.unsubscribeAll([e],[t],i)}#n(e,t,i){if(t=this.#r.findTopLevelContextId(t),!this.#t.has(i))throw new Xe.InvalidArgumentException(`Cannot unsubscribe from ${e}, ${t===null?"null":t}. No subscription found.`);let n=this.#t.get(i);if(!n.has(t))throw new Xe.InvalidArgumentException(`Cannot unsubscribe from ${e}, ${t===null?"null":t}. No subscription found.`);let s=n.get(t);if(!s.has(e))throw new Xe.InvalidArgumentException(`Cannot unsubscribe from ${e}, ${t===null?"null":t}. No subscription found.`);return()=>{s.delete(e),s.size===0&&n.delete(e),n.size===0&&this.#t.delete(i)}}};ji.SubscriptionManager=$g});var L1=k(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.EventManager=void 0;var hD=Oe(),fD=T1(),mD=P1(),gD=I1(),N1=Wu(),D1=Ug(),xD=O1(),Kg=class{#e=new gD.IdWrapper;#t;#r;constructor(e,t){this.#r=e,this.#t=t}get id(){return this.#e.id}get contextId(){return this.#t}get event(){return this.#r}},zg=new Map([[hD.ChromiumBidi.Log.EventNames.LogEntryAdded,100]]),Hg=class r{#e=new fD.DefaultMap(()=>new Set);#t=new Map;#r=new Map;#i;#n;constructor(e){this.#n=e,this.#i=new xD.SubscriptionManager(e.getBrowsingContextStorage())}static#s(e,t,i){return JSON.stringify({eventName:e,browsingContext:t,channel:i})}registerEvent(e,t){this.registerPromiseEvent(Promise.resolve({kind:"success",value:e}),t,e.method)}registerPromiseEvent(e,t,i){let n=new Kg(e,t),s=this.#i.getChannelsSubscribedToEvent(i,t);this.#a(n,i);for(let a of s)this.#n.emitOutgoingMessage(N1.OutgoingMessage.createFromPromise(e,a),i),this.#o(n,a,i)}subscribe(e,t,i){for(let n of e)(0,D1.assertSupportedEvent)(n);for(let n of t)n!==null&&this.#n.getBrowsingContextStorage().getContext(n);for(let n of e)for(let s of t){this.#i.subscribe(n,s,i);for(let a of this.#l(n,s,i))this.#n.emitOutgoingMessage(N1.OutgoingMessage.createFromPromise(a.event,i),n),this.#o(a,i,n)}}unsubscribe(e,t,i){for(let n of e)(0,D1.assertSupportedEvent)(n);this.#i.unsubscribeAll(e,t,i)}#a(e,t){if(!zg.has(t))return;let i=r.#s(t,e.contextId);this.#t.has(i)||this.#t.set(i,new mD.Buffer(zg.get(t))),this.#t.get(i).add(e),this.#e.get(t).add(e.contextId)}#o(e,t,i){if(!zg.has(i))return;let n=r.#s(i,e.contextId,t);this.#r.set(n,Math.max(this.#r.get(n)??0,e.id))}#l(e,t,i){var c;let n=r.#s(e,t),s=r.#s(e,t,i),a=this.#r.get(s)??-1/0,o=((c=this.#t.get(n))==null?void 0:c.get().filter(l=>l.id>a))??[];return t===null&&Array.from(this.#e.get(e).keys()).filter(l=>l!==null&&this.#n.getBrowsingContextStorage().hasContext(l)).map(l=>this.#l(e,l,i)).forEach(l=>o.push(...l)),o.sort((l,u)=>l.id-u.id)}};Od.EventManager=Hg});var F1=k(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.RealmStorage=void 0;var wD=Oe(),Wg=class{#e=new Map;#t=new Map;get knownHandlesToRealmMap(){return this.#e}addRealm(e){this.#t.set(e.realmId,e)}findRealms(e){return Array.from(this.#t.values()).filter(t=>!(e.realmId!==void 0&&e.realmId!==t.realmId||e.browsingContextId!==void 0&&e.browsingContextId!==t.browsingContextId||e.navigableId!==void 0&&e.navigableId!==t.navigableId||e.executionContextId!==void 0&&e.executionContextId!==t.executionContextId||e.origin!==void 0&&e.origin!==t.origin||e.type!==void 0&&e.type!==t.type||e.sandbox!==void 0&&e.sandbox!==t.sandbox||e.cdpSessionId!==void 0&&e.cdpSessionId!==t.cdpClient.sessionId))}findRealm(e){let t=this.findRealms(e);if(t.length===1)return t[0]}getRealm(e){let t=this.findRealm(e);if(t===void 0)throw new wD.NoSuchFrameException(`Realm ${JSON.stringify(e)} not found`);return t}deleteRealms(e){this.findRealms(e).map(t=>{t.dispose(),this.#t.delete(t.realmId),Array.from(this.knownHandlesToRealmMap.entries()).filter(([,i])=>i===t.realmId).map(([i])=>this.knownHandlesToRealmMap.delete(i))})}};Nd.RealmStorage=Wg});var B1=k(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.BidiServer=void 0;var vD=Uu(),yD=Ni(),bD=dS(),_D=k1(),ED=C1(),SD=L1(),kD=F1(),Vg=class r extends vD.EventEmitter{#e;#t;#r;#i=new ED.BrowsingContextStorage;#n;#s=e=>{this.#r.processCommand(e).catch(t=>{var i;(i=this.#n)==null||i.call(this,yD.LogType.debugError,t)})};#a=async e=>{let t=e.message;e.channel!==null&&(t.channel=e.channel),await this.#t.sendMessage(t)};constructor(e,t,i,n,s){super(),this.#n=s,this.#e=new bD.ProcessingQueue(this.#a,this.#n),this.#t=e,this.#t.setOnMessage(this.#s),this.#r=new _D.CommandProcessor(t,new SD.EventManager(this),i,this.#i,new kD.RealmStorage,n,this.#n),this.#r.on("response",({message:a,event:o})=>{this.emitOutgoingMessage(a,o)})}static async createAndStart(e,t,i,n,s){let a=new r(e,t,i,n,s),o=t.browserClient();return await o.sendCommand("Target.setDiscoverTargets",{discover:!0}),await o.sendCommand("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}),await a.#o(),a}emitOutgoingMessage(e,t){this.#e.add(e,t)}close(){this.#t.close()}getBrowsingContextStorage(){return this.#i}async#o(){await Promise.all(this.#i.getTopLevelContexts().map(e=>e.lifecycleLoaded()))}};Dd.BidiServer=Vg});var j1=k(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.OutgoingMessage=qi.EventEmitter=qi.BidiServer=void 0;var CD=B1();Object.defineProperty(qi,"BidiServer",{enumerable:!0,get:function(){return CD.BidiServer}});var TD=Uu();Object.defineProperty(qi,"EventEmitter",{enumerable:!0,get:function(){return TD.EventEmitter}});var PD=Wu();Object.defineProperty(qi,"OutgoingMessage",{enumerable:!0,get:function(){return PD.OutgoingMessage}})});var ra,nt,ia=I(()=>{hi();ae();na();Do();ra=class extends Error{},nt=class r{static serializeNumber(e){let t;return Object.is(e,-0)?t="-0":Object.is(e,1/0)?t="Infinity":Object.is(e,-1/0)?t="-Infinity":Object.is(e,NaN)?t="NaN":t=e,{type:"number",value:t}}static serializeObject(e){if(e===null)return{type:"null"};if(Array.isArray(e))return{type:"array",value:e.map(i=>r.serializeRemoteValue(i))};if(By(e)){try{JSON.stringify(e)}catch(i){throw i instanceof TypeError&&i.message.startsWith("Converting circular structure to JSON")&&(i.message+=" Recursive objects are not allowed."),i}let t=[];for(let i in e)t.push([r.serializeRemoteValue(i),r.serializeRemoteValue(e[i])]);return{type:"object",value:t}}else{if(jy(e))return{type:"regexp",value:{pattern:e.source,flags:e.flags}};if(qy(e))return{type:"date",value:e.toISOString()}}throw new ra("Custom object sterilization not possible. Use plain objects instead.")}static serializeRemoteValue(e){switch(typeof e){case"symbol":case"function":throw new ra(`Unable to serializable ${typeof e}`);case"object":return r.serializeObject(e);case"undefined":return{type:"undefined"};case"number":return r.serializeNumber(e);case"bigint":return{type:"bigint",value:e.toString()};case"string":return{type:"string",value:e};case"boolean":return{type:"boolean",value:e}}}static async serialize(e,t){t instanceof et&&(t=await t.get(e.realm));let i=t&&(t instanceof Qr||t instanceof Zr)?t:null;if(i){if(i.realm.environment.context()!==e.environment.context()&&!("sharedId"in i.remoteValue()))throw new Error("JSHandles can be evaluated only in the context they were created!");if(i.disposed)throw new Error("JSHandle is disposed!");return i.remoteValue()}return r.serializeRemoteValue(t)}static deserializeNumber(e){switch(e){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:return e}}static deserializeLocalValue(e){var t;switch(e.type){case"array":if(e.value)return e.value.map(i=>r.deserializeLocalValue(i));break;case"set":if(e.value)return e.value.reduce((i,n)=>i.add(r.deserializeLocalValue(n)),new Set);break;case"object":if(e.value)return e.value.reduce((i,n)=>{let{key:s,value:a}=r.deserializeTuple(n);return i[s]=a,i},{});break;case"map":if(e.value)return(t=e.value)==null?void 0:t.reduce((i,n)=>{let{key:s,value:a}=r.deserializeTuple(n);return i.set(s,a)},new Map);break;case"promise":return{};case"regexp":return new RegExp(e.value.pattern,e.value.flags);case"date":return new Date(e.value);case"undefined":return;case"null":return null;case"number":return r.deserializeNumber(e.value);case"bigint":return BigInt(e.value);case"boolean":return!!e.value;case"string":return e.value}throw new ra(`Deserialization of type ${e.type} not supported.`)}static deserializeTuple([e,t]){let i=typeof e=="string"?e:r.deserializeLocalValue(e),n=r.deserializeLocalValue(t);return{key:i,value:n}}static deserialize(e){if(!e){D("Service did not produce a result.");return}try{return r.deserializeLocalValue(e)}catch(t){if(t instanceof ra){D(t.message);return}throw t}}}});async function q1(r,e){e.handle&&await r.connection.send("script.disown",{target:r.target,handles:[e.handle]}).catch(t=>{cr(t)})}function U1(r){if(r.exception.type!=="error")return nt.deserialize(r.exception);let[e="",...t]=r.text.split(": "),i=t.join(": "),n=new Error(i);n.name=e;let s=[];if(r.stackTrace&&s.length<Error.stackTraceLimit)for(let a of r.stackTrace.callFrames.reverse()){if(rt.isPuppeteerURL(a.url)&&a.url!==rt.INTERNAL_URL){let o=rt.parse(a.url);s.unshift(`    at ${a.functionName||o.functionName} (${o.functionName} at ${o.siteString}, <anonymous>:${a.lineNumber}:${a.columnNumber})`)}else s.push(`    at ${a.functionName||"<anonymous>"} (${a.url}:${a.lineNumber}:${a.columnNumber})`);if(s.length>=Error.stackTraceLimit)break}return n.stack=[r.text,...s].join(`
`),n}var cr,bn=I(()=>{zn();ae();ia();cr=hr("puppeteer:error")});var Qr,Do=I(()=>{Qn();ia();bn();Qr=class extends er{#e=!1;#t;#r;constructor(e,t){super(),this.#t=e,this.#r=t}context(){return this.realm.environment.context()}get realm(){return this.#t}get disposed(){return this.#e}async jsonValue(){return await this.evaluate(e=>e)}asElement(){return null}async dispose(){this.#e||(this.#e=!0,"handle"in this.#r&&await q1(this.context(),this.#r))}get isPrimitiveValue(){switch(this.#r.type){case"string":case"number":case"bigint":case"boolean":case"undefined":case"null":return!0;default:return!1}}toString(){return this.isPrimitiveValue?"JSHandle:"+nt.deserialize(this.#r):"JSHandle@"+this.#r.type}get id(){return"handle"in this.#r?this.#r.handle:void 0}remoteValue(){return this.#r}remoteObject(){throw new Error("Not available in WebDriver BiDi")}}});var ID,$1,RD,MD,Zr,na=I(()=>{Xn();gi();Do();ID=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},$1=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},RD=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},MD=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Zr=(()=>{var s;var r;let e=xi,t=[],i,n;return s=class extends e{constructor(o,c){super(new Qr(o,c)),ID(this,t)}get realm(){return this.handle.realm}get frame(){return this.realm.environment}context(){return this.handle.context()}get isPrimitiveValue(){return this.handle.isPrimitiveValue}remoteValue(){return this.handle.remoteValue()}async autofill(o){let c=this.frame.client,u=(await c.send("DOM.describeNode",{objectId:this.handle.id})).node.backendNodeId,d=this.frame._id;await c.send("Autofill.trigger",{fieldId:u,frameId:d,card:o.creditCard})}async contentFrame(){let o={stack:[],error:void 0,hasError:!1};try{let l=RD(o,await this.evaluateHandle(u=>{if(u instanceof HTMLIFrameElement)return u.contentWindow}),!1).remoteValue();return l.type==="window"?this.frame.page().frame(l.value.context):null}catch(c){o.error=c,o.hasError=!0}finally{MD(o)}}},(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(e[Symbol.metadata]??null):void 0;i=[Z()],n=[Z(),(r=xi).bindIsolatedHandle.bind(r)],$1(s,null,i,{kind:"method",name:"autofill",static:!1,private:!1,access:{has:c=>"autofill"in c,get:c=>c.autofill},metadata:o},null,t),$1(s,null,n,{kind:"method",name:"contentFrame",static:!1,private:!1,access:{has:c=>"contentFrame"in c,get:c=>c.contentFrame},metadata:o},null,t),o&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),s})()});function Fo(r,e){return e.type==="node"||e.type==="window"?new Zr(r,e):new Qr(r,e)}var Lo,sa,Ld=I(()=>{Lo=V(Oe(),1);Fe();Na();ae();Ce();Qi();na();Do();ia();bn();sa=class extends de{connection;#e;#t;constructor(e){super(),this.connection=e}get target(){return{context:this.#t.environment._id,sandbox:this.#t.name}}handleRealmDestroyed=async e=>{e.realm===this.#e&&(this.internalPuppeteerUtil=void 0,this.#t.environment.clearDocumentHandle())};handleRealmCreated=e=>{e.type==="window"&&e.context===this.#t.environment._id&&e.sandbox===this.#t.name&&(this.#e=e.realm,this.#t.taskManager.rerunAll())};setSandbox(e){this.#t=e,this.connection.on(Lo.ChromiumBidi.Script.EventNames.RealmCreated,this.handleRealmCreated),this.connection.on(Lo.ChromiumBidi.Script.EventNames.RealmDestroyed,this.handleRealmDestroyed)}internalPuppeteerUtil;get puppeteerUtil(){let e=Promise.resolve();return mi.inject(t=>{this.internalPuppeteerUtil&&this.internalPuppeteerUtil.then(i=>{i.dispose()}),this.internalPuppeteerUtil=e.then(()=>this.evaluateHandle(t))},!this.internalPuppeteerUtil),this.internalPuppeteerUtil}async evaluateHandle(e,...t){return await this.#r(!1,e,...t)}async evaluate(e,...t){return await this.#r(!0,e,...t)}async#r(e,t,...i){var u;let n=Vc(((u=$c(t))==null?void 0:u.toString())??rt.INTERNAL_URL),s=this.#t,a,o=e?"none":"root",c=e?{}:{maxObjectDepth:0,maxDomDepth:0};if(Ke(t)){let d=Hn.test(t)?t:`${t}
${n}
`;a=this.connection.send("script.evaluate",{expression:d,target:this.target,resultOwnership:o,awaitPromise:!0,userActivation:!0,serializationOptions:c})}else{let d=Ze(t);d=Hn.test(d)?d:`${d}
${n}
`,a=this.connection.send("script.callFunction",{functionDeclaration:d,arguments:await Promise.all(i.map(p=>nt.serialize(s,p))),target:this.target,resultOwnership:o,awaitPromise:!0,userActivation:!0,serializationOptions:c})}let{result:l}=await a;if("type"in l&&l.type==="exception")throw U1(l.exceptionDetails);return e?nt.deserialize(l.result):Fo(s,l.result)}[re](){this.connection.off(Lo.ChromiumBidi.Script.EventNames.RealmCreated,this.handleRealmCreated),this.connection.off(Lo.ChromiumBidi.Script.EventNames.RealmDestroyed,this.handleRealmDestroyed)}}});function _n(r){if(Array.isArray(r)&&r.length>1)throw new Error("BiDi support only single `waitUntil` argument");let e=Array.isArray(r)?r.find(t=>t==="domcontentloaded"||t==="load"):r;if(e==="networkidle0"||e==="networkidle2")throw new Error(`BiDi does not support 'waitUntil' ${e}`);return S(e,`Invalid waitUntil option ${e}`),e}var Fd,aa,Ui,ei,Bo,En=I(()=>{Kt();bt();le();Te();Ld();bn();Fd=new Map([["load","browsingContext.load"],["domcontentloaded","browsingContext.domContentLoaded"]]),aa=new Map,Ui=class extends qr{#e;#t=z.create();#r=!1;constructor(e,t){super(),this.#e=e,this.#e.supportsCdp()&&(t?(this.#t.resolve(t),aa.set(t,this)):e.connection.send("cdp.getSession",{context:e.id}).then(i=>{this.#t.resolve(i.result.session),aa.set(i.result.session,this)}).catch(i=>{this.#t.reject(i)}))}connection(){}async send(e,...t){if(!this.#e.supportsCdp())throw new Error("CDP support is required for this feature. The current browser does not support CDP.");if(this.#r)throw new ct(`Protocol error (${e}): Session closed. Most likely the page has been closed.`);let i=await this.#t.valueOrThrow(),{result:n}=await this.#e.connection.send("cdp.sendCommand",{method:e,params:t[0],session:i});return n.result}async detach(){aa.delete(this.id()),!this.#r&&this.#e.supportsCdp()&&await this.#e.cdpSession.send("Target.detachFromTarget",{sessionId:this.id()}),this.#r=!0}id(){let e=this.#t.value();return e instanceof Error||e===void 0?"":e}};(function(r){r.Created=Symbol("BrowsingContext.created"),r.Destroyed=Symbol("BrowsingContext.destroyed")})(ei||(ei={}));Bo=class extends sa{#e;#t;#r;#i;#n="";constructor(e,t,i){super(e),this.#e=t.context,this.#t=t.url,this.#i=t.parent,this.#n=i,this.#r=new Ui(this,void 0),this.on("browsingContext.domContentLoaded",this.#s.bind(this)),this.on("browsingContext.fragmentNavigated",this.#s.bind(this)),this.on("browsingContext.load",this.#s.bind(this))}supportsCdp(){return!this.#n.toLowerCase().includes("firefox")}#s(e){this.#t=e.url}createRealmForSandbox(){return new sa(this.connection)}get url(){return this.#t}get id(){return this.#e}get parent(){return this.#i}get cdpSession(){return this.#r}async sendCdpCommand(e,...t){return await this.#r.send(e,...t)}dispose(){this.removeAllListeners(),this.connection.unregisterBrowsingContexts(this.#e),this.#r.detach().catch(cr)}}});function ND(r){let e=`${r.error} ${r.message}`;return r.stacktrace&&(e+=` ${r.stacktrace}`),e}function DD(r){return r.method.startsWith("cdp.")}var AD,OD,jo,Gg=I(()=>{_i();zn();Fe();En();bn();AD=hr("puppeteer:webDriverBiDi:SEND \u25BA"),OD=hr("puppeteer:webDriverBiDi:RECV \u25C0"),jo=class extends de{#e;#t;#r;#i=0;#n=!1;#s=new rn;#a=new Map;constructor(e,t,i=0,n){super(),this.#e=e,this.#r=i,this.#i=n??18e4,this.#t=t,this.#t.onmessage=this.onMessage.bind(this),this.#t.onclose=this.#l.bind(this)}get closed(){return this.#n}get url(){return this.#e}send(e,t){return this.#s.create(e,this.#i,i=>{let n=JSON.stringify({id:i,method:e,params:t});AD(n),this.#t.send(n)})}async onMessage(e){this.#r&&await new Promise(i=>setTimeout(i,this.#r)),OD(e);let t=JSON.parse(e);if("type"in t)switch(t.type){case"success":this.#s.resolve(t.id,t);return;case"error":if(t.id===null)break;this.#s.reject(t.id,ND(t),t.message);return;case"event":this.#o(t),this.emit(t.method,t.params);return}cr(t)}#o(e){var i;let t;"context"in e.params&&e.params.context!==null?t=this.#a.get(e.params.context):"source"in e.params&&e.params.source.context!==void 0?t=this.#a.get(e.params.source.context):DD(e)&&((i=aa.get(e.params.session))==null||i.emit(e.params.event,e.params.params)),t==null||t.emit(e.method,e.params)}registerBrowsingContexts(e){this.#a.set(e.id,e)}getBrowsingContext(e){let t=this.#a.get(e);if(!t)throw new Error(`BrowsingContext ${e} does not exist.`);return t}getTopLevelContext(e){let t=this.#a.get(e);if(!t)throw new Error(`BrowsingContext ${e} does not exist.`);for(;t.parent;)if(e=t.parent,t=this.#a.get(e),!t)throw new Error(`BrowsingContext ${e} does not exist.`);return t}unregisterBrowsingContexts(e){this.#a.delete(e)}#l(){this.#n||(this.#n=!0,this.#t.onmessage=void 0,this.#t.onclose=void 0,this.#s.clear())}dispose(){this.#l(),this.#t.close()}}});async function LD(r){let e=new Jg,t=new Xg(r),i={send(a){e.emitMessage(JSON.parse(a))},close(){s.close(),t.close()},onmessage(a){}};e.on("bidiResponse",a=>{i.onmessage(JSON.stringify(a))});let n=new jo(r.url(),i),s=await qo.BidiServer.createAndStart(e,t,"");return n}var qo,Xg,Bd,Jg,z1=I(()=>{qo=V(j1(),1);bt();Gg();Xg=class{#e;#t=new Map;#r;constructor(e){this.#e=e,this.#r=new Bd(e)}browserClient(){return this.#r}getCdpClient(e){let t=this.#e.session(e);if(!t)throw new Error("Unknown CDP session with id"+e);if(!this.#t.has(t)){let i=new Bd(t,e,this.#r);return this.#t.set(t,i),i}return this.#t.get(t)}close(){this.#r.close();for(let e of this.#t.values())e.close()}},Bd=class extends qo.EventEmitter{#e=!1;#t;sessionId=void 0;#r;constructor(e,t,i){super(),this.#t=e,this.sessionId=t,this.#r=i,this.#t.on("*",this.#i)}browserClient(){return this.#r}#i=(e,t)=>{this.emit(e,t)};async sendCommand(e,...t){if(!this.#e)try{return await this.#t.send(e,...t)}catch(i){if(this.#e)return;throw i}}close(){this.#t.off("*",this.#i),this.#e=!0}isCloseError(e){return e instanceof ct}},Jg=class extends qo.EventEmitter{#e=async e=>{};emitMessage(e){this.#e(e)}setOnMessage(e){this.#e=e}async sendMessage(e){this.emit("bidiResponse",e)}close(){this.#e=async e=>{}}}});var oa,Yg=I(()=>{Xc();oa=class extends Vn{#e;#t;#r;#i=!1;constructor(e,t){super(),this.#e=e,this.#t=this.#e.connection,this.#r=t.defaultViewport,this.#i=t.isDefault}targets(){return this.#e.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this.#e.waitForTarget(i=>i.browserContext()===this&&e(i),t)}get connection(){return this.#t}async newPage(){let{result:e}=await this.#t.send("browsingContext.create",{type:"tab"}),t=this.#e._getTargetById(e.context);t._setBrowserContext(this);let i=await t.page();if(!i)throw new Error("Page is not found");if(this.#r)try{await i.setViewport(this.#r)}catch{}return i}async close(){if(this.#i)throw new Error("Default context cannot be closed!");await this.#e._closeContext(this)}browser(){return this.#e}async pages(){return(await Promise.all([...this.targets()].map(t=>t.page()))).filter(t=>t!==null)}isIncognito(){return!this.#i}}});var jd,K1=I(()=>{Jc();jd=class extends Gn{#e;constructor(e,t,i,n){super(t,i,n),this.#e=e}async sendCommand(e){await this.#e.connection.send("browsingContext.handleUserPrompt",{context:this.#e.id,accept:e.accept,userText:e.text})}}});var qd,H1=I(()=>{qd=class{#e;constructor(e){this.#e=e}async emulateViewport(e){await this.#e.connection.send("browsingContext.setViewport",{context:this.#e.id,viewport:e})}}});var Ud,$d,W1=I(()=>{Ud=V(Oe(),1);le();Te();Qi();ia();bn();$d=class{#e;name;#t;#r;#i=new Map;constructor(e,t,i){this.#e=e,this.name=t,this.#t=i,this.#r={args:`__puppeteer__${this.#e._id}_page_exposeFunction_${this.name}_args`,resolve:`__puppeteer__${this.#e._id}_page_exposeFunction_${this.name}_resolve`,reject:`__puppeteer__${this.#e._id}_page_exposeFunction_${this.name}_reject`}}async expose(){let e=this.#s,t=this.#a,{name:i}=this;e.on(Ud.ChromiumBidi.Script.EventNames.Message,this.#n),e.on(Ud.ChromiumBidi.Script.EventNames.Message,this.#o),e.on(Ud.ChromiumBidi.Script.EventNames.Message,this.#l);let n=Ze(Br((s,a,o)=>{let c=0;Object.assign(globalThis,{[PLACEHOLDER("name")]:function(...l){return new Promise((u,d)=>{s([c,l]),a([c,u]),o([c,d]),++c})}})},{name:JSON.stringify(i)}));await e.send("script.addPreloadScript",{functionDeclaration:n,arguments:t}),await e.send("script.callFunction",{functionDeclaration:n,arguments:t,awaitPromise:!1,target:this.#e.mainRealm().realm.target})}#n=async e=>{var a;if(e.channel!==this.#r.args)return;let t=this.#s,{callbacks:i,remoteValue:n}=this.#c(e),s=(a=n.value)==null?void 0:a[1];S(s);try{let o=await this.#t(...nt.deserialize(s));await t.send("script.callFunction",{functionDeclaration:Ze(([c,l],u)=>{l(u)}),arguments:[await i.resolve.valueOrThrow(),nt.serializeRemoteValue(o)],awaitPromise:!1,target:e.source})}catch(o){try{o instanceof Error?await t.send("script.callFunction",{functionDeclaration:Ze(([c,l],u,d,p)=>{let m=new Error(d);m.name=u,p&&(m.stack=p),l(m)}),arguments:[await i.reject.valueOrThrow(),nt.serializeRemoteValue(o.name),nt.serializeRemoteValue(o.message),nt.serializeRemoteValue(o.stack)],awaitPromise:!1,target:e.source}):await t.send("script.callFunction",{functionDeclaration:Ze(([c,l],u)=>{l(u)}),arguments:[await i.reject.valueOrThrow(),nt.serializeRemoteValue(o)],awaitPromise:!1,target:e.source})}catch(c){cr(c)}}};get#s(){return this.#e.context().connection}get#a(){return[{type:"channel",value:{channel:this.#r.args,ownership:"root"}},{type:"channel",value:{channel:this.#r.resolve,ownership:"root"}},{type:"channel",value:{channel:this.#r.reject,ownership:"root"}}]}#o=e=>{if(e.channel!==this.#r.resolve)return;let{callbacks:t,remoteValue:i}=this.#c(e);t.resolve.resolve(i)};#l=e=>{if(e.channel!==this.#r.reject)return;let{callbacks:t,remoteValue:i}=this.#c(e);t.reject.resolve(i)};#c(e){let{data:t,source:i}=e;S(t.type==="array"),S(t.value);let n=t.value[0];S(n),S(n.type==="number"),S(typeof n.value=="number");let s=this.#i.get(i.realm);s||(s=new Map,this.#i.set(i.realm,s));let a=n.value,o=s.get(a);return o||(o={resolve:new z,reject:new z},s.set(a,o)),{callbacks:o,remoteValue:t}}}});var Uo,$o,ca,Qg=I(()=>{yl();ae();na();Uo=Symbol("mainSandbox"),$o=Symbol("puppeteerSandbox"),ca=class extends ds{name;realm;#e;constructor(e,t,i,n){super(n),this.name=e,this.realm=i,this.#e=t,this.realm.setSandbox(this)}get environment(){return this.#e}async evaluateHandle(e,...t){return e=Ee(this.evaluateHandle.name,e),await this.realm.evaluateHandle(e,...t)}async evaluate(e,...t){return e=Ee(this.evaluate.name,e),await this.realm.evaluate(e,...t)}async adoptHandle(e){return await this.evaluateHandle(t=>t,e)}async transferHandle(e){if(e.realm===this)return e;let t=await this.evaluateHandle(i=>i,e);return await e.dispose(),t}async adoptBackendNode(e){let{object:t}=await this.environment.client.send("DOM.resolveNode",{backendNodeId:e});return new Zr(this,{handle:t.objectId,type:"node"})}}});var ex,FD,Zg,zd,Kd,tx=I(()=>{ex=V(Oe(),1);ns();bt();ae();Te();Ce();En();W1();Qg();FD=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},Zg=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},zd=new Map([["load","complete"],["domcontentloaded","interactive"]]),Kd=(()=>{var s,a,o,c,l,u,d;let r=ll,e=[],t,i,n;return d=class extends r{constructor(f,h,g,w){super();W(this,s,(FD(this,e),void 0));W(this,a,void 0);W(this,o,void 0);W(this,c,z.create());W(this,l,!1);Ye(this,"sandboxes");Ye(this,"_id");W(this,u,new Map);Ue(this,s,f),Ue(this,a,h),Ue(this,o,g),this._id=A(this,a).id,this._parentId=w??void 0,this.sandboxes={[Uo]:new ca(void 0,this,h,g),[$o]:new ca(Aa,this,h.createRealmForSandbox(),g)}}get client(){return this.context().cdpSession}mainRealm(){return this.sandboxes[Uo]}isolatedRealm(){return this.sandboxes[$o]}page(){return A(this,s)}url(){return A(this,a).url}parentFrame(){return A(this,s).frame(this._parentId??"")}childFrames(){return A(this,s).childFrames(A(this,a).id)}async goto(f,h={}){let{waitUntil:g="load",timeout:w=A(this,o).navigationTimeout()}=h,v=zd.get(_n(g));try{let{result:_}=await gr(A(this,a).connection.send("browsingContext.navigate",{url:f,context:this._id,wait:v}),"Navigation",w);return A(this,s).getNavigationResponse(_.navigation)}catch(_){throw _ instanceof Tt?_.message+=` at ${f}`:_ instanceof yt&&(_.message="Navigation timeout of "+w+" ms exceeded"),_}}async setContent(f,h={}){let{waitUntil:g="load",timeout:w=A(this,o).navigationTimeout()}=h,v=Fd.get(_n(g));await Promise.all([Hc(this,f),gr(new Promise(_=>{A(this,a).once(v,()=>{_()})}),v,w)])}context(){return A(this,a)}async waitForNavigation(f={}){let{waitUntil:h="load",timeout:g=A(this,o).navigationTimeout()}=f,w=Fd.get(_n(h)),[v]=await z.race([Promise.all([mr(A(this,a),w,()=>!0,g,A(this,c).valueOrThrow()),mr(A(this,a),ex.ChromiumBidi.BrowsingContext.EventNames.NavigationStarted,()=>!0,g,A(this,c).valueOrThrow())]),mr(A(this,a),ex.ChromiumBidi.BrowsingContext.EventNames.FragmentNavigated,()=>!0,g,A(this,c).valueOrThrow()).then(_=>[_,void 0])]);return A(this,s).getNavigationResponse(v.navigation)}get detached(){return A(this,l)}[(t=[xe],i=[xe],n=[xe],re)](){A(this,l)||(Ue(this,l,!0),A(this,c).reject(new Error("Frame detached")),A(this,a).dispose(),this.sandboxes[Uo][re](),this.sandboxes[$o][re]())}async exposeFunction(f,h){if(A(this,u).has(f))throw new Error(`Failed to add page binding with name ${f}: globalThis['${f}'] already exists!`);let g=new $d(this,f,h);A(this,u).set(f,g);try{await g.expose()}catch(w){throw A(this,u).delete(f),w}}},s=new WeakMap,a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,(()=>{let f=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Zg(d,null,t,{kind:"method",name:"goto",static:!1,private:!1,access:{has:h=>"goto"in h,get:h=>h.goto},metadata:f},null,e),Zg(d,null,i,{kind:"method",name:"setContent",static:!1,private:!1,access:{has:h=>"setContent"in h,get:h=>h.setContent},metadata:f},null,e),Zg(d,null,n,{kind:"method",name:"waitForNavigation",static:!1,private:!1,access:{has:h=>"waitForNavigation"in h,get:h=>h.waitForNavigation},metadata:f},null,e),f&&Object.defineProperty(d,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})})(),d})()});var Mt,ke,zo,Ko,rx,Ho,Wo,ix=I(()=>{pl();(function(r){r.None="none",r.Key="key",r.Pointer="pointer",r.Wheel="wheel"})(Mt||(Mt={}));(function(r){r.Pause="pause",r.KeyDown="keyDown",r.KeyUp="keyUp",r.PointerUp="pointerUp",r.PointerDown="pointerDown",r.PointerMove="pointerMove",r.Scroll="scroll"})(ke||(ke={}));zo=r=>{switch(r){case"\r":case`
`:r="Enter";break}if([...r].length===1)return r;switch(r){case"Cancel":return"\uE001";case"Help":return"\uE002";case"Backspace":return"\uE003";case"Tab":return"\uE004";case"Clear":return"\uE005";case"Enter":return"\uE007";case"Shift":case"ShiftLeft":return"\uE008";case"Control":case"ControlLeft":return"\uE009";case"Alt":case"AltLeft":return"\uE00A";case"Pause":return"\uE00B";case"Escape":return"\uE00C";case"PageUp":return"\uE00E";case"PageDown":return"\uE00F";case"End":return"\uE010";case"Home":return"\uE011";case"ArrowLeft":return"\uE012";case"ArrowUp":return"\uE013";case"ArrowRight":return"\uE014";case"ArrowDown":return"\uE015";case"Insert":return"\uE016";case"Delete":return"\uE017";case"NumpadEqual":return"\uE019";case"Numpad0":return"\uE01A";case"Numpad1":return"\uE01B";case"Numpad2":return"\uE01C";case"Numpad3":return"\uE01D";case"Numpad4":return"\uE01E";case"Numpad5":return"\uE01F";case"Numpad6":return"\uE020";case"Numpad7":return"\uE021";case"Numpad8":return"\uE022";case"Numpad9":return"\uE023";case"NumpadMultiply":return"\uE024";case"NumpadAdd":return"\uE025";case"NumpadSubtract":return"\uE027";case"NumpadDecimal":return"\uE028";case"NumpadDivide":return"\uE029";case"F1":return"\uE031";case"F2":return"\uE032";case"F3":return"\uE033";case"F4":return"\uE034";case"F5":return"\uE035";case"F6":return"\uE036";case"F7":return"\uE037";case"F8":return"\uE038";case"F9":return"\uE039";case"F10":return"\uE03A";case"F11":return"\uE03B";case"F12":return"\uE03C";case"Meta":case"MetaLeft":return"\uE03D";case"ShiftRight":return"\uE050";case"ControlRight":return"\uE051";case"AltRight":return"\uE052";case"MetaRight":return"\uE053";case"Digit0":return"0";case"Digit1":return"1";case"Digit2":return"2";case"Digit3":return"3";case"Digit4":return"4";case"Digit5":return"5";case"Digit6":return"6";case"Digit7":return"7";case"Digit8":return"8";case"Digit9":return"9";case"KeyA":return"a";case"KeyB":return"b";case"KeyC":return"c";case"KeyD":return"d";case"KeyE":return"e";case"KeyF":return"f";case"KeyG":return"g";case"KeyH":return"h";case"KeyI":return"i";case"KeyJ":return"j";case"KeyK":return"k";case"KeyL":return"l";case"KeyM":return"m";case"KeyN":return"n";case"KeyO":return"o";case"KeyP":return"p";case"KeyQ":return"q";case"KeyR":return"r";case"KeyS":return"s";case"KeyT":return"t";case"KeyU":return"u";case"KeyV":return"v";case"KeyW":return"w";case"KeyX":return"x";case"KeyY":return"y";case"KeyZ":return"z";case"Semicolon":return";";case"Equal":return"=";case"Comma":return",";case"Minus":return"-";case"Period":return".";case"Slash":return"/";case"Backquote":return"`";case"BracketLeft":return"[";case"Backslash":return"\\";case"BracketRight":return"]";case"Quote":return'"';default:throw new Error(`Unknown key: "${r}"`)}},Ko=class extends os{#e;constructor(e){super(),this.#e=e}async down(e,t){await this.#e.connection.send("input.performActions",{context:this.#e.mainFrame()._id,actions:[{type:Mt.Key,id:"__puppeteer_keyboard",actions:[{type:ke.KeyDown,value:zo(e)}]}]})}async up(e){await this.#e.connection.send("input.performActions",{context:this.#e.mainFrame()._id,actions:[{type:Mt.Key,id:"__puppeteer_keyboard",actions:[{type:ke.KeyUp,value:zo(e)}]}]})}async press(e,t={}){let{delay:i=0}=t,n=[{type:ke.KeyDown,value:zo(e)}];i>0&&n.push({type:ke.Pause,duration:i}),n.push({type:ke.KeyUp,value:zo(e)}),await this.#e.connection.send("input.performActions",{context:this.#e.mainFrame()._id,actions:[{type:Mt.Key,id:"__puppeteer_keyboard",actions:n}]})}async type(e,t={}){let{delay:i=0}=t,n=[...e].map(zo),s=[];if(i<=0)for(let a of n)s.push({type:ke.KeyDown,value:a},{type:ke.KeyUp,value:a});else for(let a of n)s.push({type:ke.KeyDown,value:a},{type:ke.Pause,duration:i},{type:ke.KeyUp,value:a});await this.#e.connection.send("input.performActions",{context:this.#e.mainFrame()._id,actions:[{type:Mt.Key,id:"__puppeteer_keyboard",actions:s}]})}async sendCharacter(e){if([...e].length>1)throw new Error("Cannot send more than 1 character.");await(await this.#e.focusedFrame()).isolatedRealm().evaluate(async i=>{document.execCommand("insertText",!1,i)},e)}},rx=r=>{switch(r){case Se.Left:return 0;case Se.Middle:return 1;case Se.Right:return 2;case Se.Back:return 3;case Se.Forward:return 4}},Ho=class extends cs{#e;#t={x:0,y:0};constructor(e){super(),this.#e=e}async reset(){this.#t={x:0,y:0},await this.#e.connection.send("input.releaseActions",{context:this.#e.id})}async move(e,t,i={}){let n=this.#t,s={x:Math.round(e),y:Math.round(t)},a=[],o=i.steps??0;for(let c=0;c<o;++c)a.push({type:ke.PointerMove,x:n.x+(s.x-n.x)*(c/o),y:n.y+(s.y-n.y)*(c/o),origin:i.origin});a.push({type:ke.PointerMove,...s,origin:i.origin}),this.#t=s,await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_mouse",actions:a}]})}async down(e={}){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_mouse",actions:[{type:ke.PointerDown,button:rx(e.button??Se.Left)}]}]})}async up(e={}){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_mouse",actions:[{type:ke.PointerUp,button:rx(e.button??Se.Left)}]}]})}async click(e,t,i={}){let n=[{type:ke.PointerMove,x:Math.round(e),y:Math.round(t),origin:i.origin}],s={type:ke.PointerDown,button:rx(i.button??Se.Left)},a={type:ke.PointerUp,button:s.button};for(let o=1;o<(i.count??1);++o)n.push(s,a);n.push(s),i.delay&&n.push({type:ke.Pause,duration:i.delay}),n.push(a),await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_mouse",actions:n}]})}async wheel(e={}){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Wheel,id:"__puppeteer_wheel",actions:[{type:ke.Scroll,...this.#t??{x:0,y:0},deltaX:e.deltaX??0,deltaY:e.deltaY??0}]}]})}},Wo=class extends ls{#e;constructor(e){super(),this.#e=e}async tap(e,t,i={}){await this.touchStart(e,t,i),await this.touchEnd()}async touchStart(e,t,i={}){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_finger",parameters:{pointerType:"touch"},actions:[{type:ke.PointerMove,x:Math.round(e),y:Math.round(t),origin:i.origin},{type:ke.PointerDown,button:0}]}]})}async touchMove(e,t,i={}){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_finger",parameters:{pointerType:"touch"},actions:[{type:ke.PointerMove,x:Math.round(e),y:Math.round(t),origin:i.origin}]}]})}async touchEnd(){await this.#e.connection.send("input.performActions",{context:this.#e.id,actions:[{type:Mt.Pointer,id:"__puppeteer_finger",parameters:{pointerType:"touch"},actions:[{type:ke.PointerUp,button:0}]}]})}}});var la,nx=I(()=>{ul();la=class extends ss{_response=null;_redirectChain;_navigationId;#e;#t;#r;#i;#n={};#s;#a;constructor(e,t,i=[]){super(),this.#e=e.request.url,this.#t=e.initiator.type.toLowerCase(),this.#r=e.request.method,this.#i=void 0,this.#s=e.initiator,this.#a=t,this._requestId=e.request.request,this._redirectChain=i,this._navigationId=e.navigation;for(let n of e.request.headers)n.value.type==="string"&&(this.#n[n.name.toLowerCase()]=n.value.value)}url(){return this.#e}resourceType(){return this.#t}method(){return this.#r}postData(){return this.#i}headers(){return this.#n}response(){return this._response}isNavigationRequest(){return!!this._navigationId}initiator(){return this.#s}redirectChain(){return this._redirectChain.slice()}enqueueInterceptAction(e){e()}frame(){return this.#a}}});var Vo,sx=I(()=>{dl();Vo=class extends as{#e;#t;#r;#i;#n;#s;#a={};#o;constructor(e,{response:t}){super(),this.#e=e,this.#t={ip:"",port:-1},this.#n=t.url,this.#s=t.fromCache,this.#r=t.status,this.#i=t.statusText,this.#o=null;for(let i of t.headers||[])i.value.type==="string"&&(this.#a[i.name.toLowerCase()]=i.value.value)}remoteAddress(){return this.#t}url(){return this.#n}status(){return this.#r}statusText(){return this.#i}headers(){return this.#a}request(){return this.#e}fromCache(){return this.#s}timing(){return this.#o}frame(){return this.#e.frame()}fromServiceWorker(){return!1}}});var Go,ax=I(()=>{yi();Fe();Ce();nx();sx();Go=class extends de{#e;#t;#r=new ot;#i=new Map;#n=new Map;constructor(e,t){super(),this.#e=e,this.#t=t,this.#r.use(new ge(this.#e,"network.beforeRequestSent",this.#s.bind(this))),this.#r.use(new ge(this.#e,"network.responseStarted",this.#a.bind(this))),this.#r.use(new ge(this.#e,"network.responseCompleted",this.#o.bind(this))),this.#r.use(new ge(this.#e,"network.fetchError",this.#l.bind(this)))}#s(e){let t=this.#t.frame(e.context??"");if(!t)return;let i=this.#i.get(e.request.request),n;i?(i._redirectChain.push(i),n=new la(e,t,i._redirectChain)):n=new la(e,t,[]),this.#i.set(e.request.request,n),this.emit(ie.Request,n)}#a(e){}#o(e){let t=this.#i.get(e.request.request);if(!t)return;let i=new Vo(t,e);t._response=i,e.navigation&&this.#n.set(e.navigation,i),i.fromCache()&&this.emit(ie.RequestServedFromCache,t),this.emit(ie.Response,i),this.emit(ie.RequestFinished,t)}#l(e){let t=this.#i.get(e.request.request);t&&(t._failureText=e.errorText,this.emit(ie.RequestFailed,t),this.#i.delete(e.request.request))}getNavigationResponse(e){return e?this.#n.get(e)??null:null}inFlightRequestsCount(){let e=0;for(let t of this.#i.values())(!t.response()||t._failureText)&&e++;return e}clearMapAfterFrameDispose(e){for(let[t,i]of this.#i.entries())i.frame()===e&&this.#i.delete(t);for(let[t,i]of this.#n.entries())i.frame()===e&&this.#n.delete(t)}dispose(){this.removeAllListeners(),this.#i.clear(),this.#n.clear(),this.#r.dispose()}}});function qD(r){return r.type==="console"}function UD(r){return r.type==="javascript"}function $D(r){let e=[];if(r)for(let t of r.callFrames)e.push({url:t.url,lineNumber:t.lineNumber,columnNumber:t.columnNumber});return e}function zD(r,...e){return`() => {${Ra(r,...e)}}`}var BD,jD,Xo,ox=I(()=>{xl();bl();Sl();Tl();Al();yi();Fl();_l();bt();Ha();ae();le();Te();Ce();En();K1();na();H1();tx();ix();ax();Ld();ia();BD=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},jD=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Xo=class extends gl{#e;#t=new $r;#r;#i=new ws;#n;#s=null;#a=z.create();#o=new Map([["log.entryAdded",this.#T.bind(this)],["browsingContext.load",this.#y.bind(this)],["browsingContext.fragmentNavigated",this.#v.bind(this)],["browsingContext.domContentLoaded",this.#b.bind(this)],["browsingContext.userPromptOpened",this.#C.bind(this)]]);#l=[[ie.Request,e=>{this.emit("request",e)}],[ie.RequestServedFromCache,e=>{this.emit("requestservedfromcache",e)}],[ie.RequestFailed,e=>{this.emit("requestfailed",e)}],[ie.RequestFinished,e=>{this.emit("requestfinished",e)}],[ie.Response,e=>{this.emit("response",e)}]];#c=new Map([[ei.Created,this.#_.bind(this)],[ei.Destroyed,this.#E.bind(this)]]);#u;#h;#p;#d;#m;#f;#x;#g;#w;_client(){return this.mainFrame().context().cdpSession}constructor(e,t){super(),this.#g=e,this.#w=t,this.#r=e.connection;for(let[n,s]of this.#c)this.#g.on(n,s);this.#n=new Go(this.#r,this);for(let[n,s]of this.#o)this.#r.on(n,s);for(let[n,s]of this.#l)this.#n.on(n,s);let i=new Kd(this,this.#g,this.#t,this.#g.parent);this.#i.addFrame(i),this.emit("frameattached",i),this.#e=new hs(this.mainFrame().context().cdpSession),this.#u=new vs(this.mainFrame().context().cdpSession),this.#h=new ms(this.mainFrame().context().cdpSession),this.#p=new Cl(this.mainFrame().context().cdpSession),this.#d=new qd(e),this.#m=new Ho(this.mainFrame().context()),this.#f=new Wo(this.mainFrame().context()),this.#x=new Ko(this)}get connection(){return this.#r}async setUserAgent(e,t){await this._client().send("Network.setUserAgentOverride",{userAgent:e,userAgentMetadata:t})}async setBypassCSP(e){await this._client().send("Page.setBypassCSP",{enabled:e})}async queryObjects(e){S(!e.disposed,"Prototype JSHandle is disposed!"),S(e.id,"Prototype JSHandle must not be referencing primitive value");let t=await this.mainFrame().client.send("Runtime.queryObjects",{prototypeObjectId:e.id});return Fo(this.mainFrame().mainRealm(),{type:"array",handle:t.objects.objectId})}_setBrowserContext(e){this.#w=e}get accessibility(){return this.#e}get tracing(){return this.#u}get coverage(){return this.#h}get mouse(){return this.#m}get touchscreen(){return this.#f}get keyboard(){return this.#x}browser(){return this.browserContext().browser()}browserContext(){return this.#w}mainFrame(){let e=this.#i.getMainFrame();return S(e,"Requesting main frame too early!"),e}async focusedFrame(){let e={stack:[],error:void 0,hasError:!1};try{let t=BD(e,await this.mainFrame().isolatedRealm().evaluateHandle(()=>{let i,n=window;for(;(n==null?void 0:n.document.activeElement)instanceof HTMLIFrameElement;)i=n.document.activeElement,n=i.contentWindow;return i}),!1);return t instanceof Zr?await t.contentFrame():this.mainFrame()}catch(t){e.error=t,e.hasError=!0}finally{jD(e)}}frames(){return Array.from(this.#i.frames())}frame(e){return this.#i.getById(e??"")||null}childFrames(e){return this.#i.childFrames(e)}#y(e){let t=this.frame(e.context);t&&this.mainFrame()===t&&this.emit("load",void 0)}#v(e){let t=this.frame(e.context);t&&this.emit("framenavigated",t)}#b(e){let t=this.frame(e.context);t&&(t._hasStartedLoading=!0,this.mainFrame()===t&&this.emit("domcontentloaded",void 0),this.emit("framenavigated",t))}#_(e){if(!this.frame(e.id)&&(this.frame(e.parent??"")||!this.#i.getMainFrame())){let t=new Kd(this,e,this.#t,e.parent);this.#i.addFrame(t),t!==this.mainFrame()&&this.emit("frameattached",t)}}#E(e){let t=this.frame(e.id);t&&(t===this.mainFrame()&&this.emit("close",void 0),this.#k(t))}#k(e){for(let t of e.childFrames())this.#k(t);e[re](),this.#n.clearMapAfterFrameDispose(e),this.#i.removeFrame(e),this.emit("framedetached",e)}#T(e){let t=this.frame(e.source.context);if(t)if(qD(e)){let i=e.args.map(s=>Fo(t.mainRealm(),s)),n=i.reduce((s,a)=>{let o=a.isPrimitiveValue?nt.deserialize(a.remoteValue()):a.toString();return`${s} ${o}`},"").slice(1);this.emit("console",new nn(e.method,n,i,$D(e.stackTrace)))}else if(UD(e)){let i=new Error(e.text??""),n=i.message.split(`
`).length,s=i.stack.split(`
`).splice(0,n),a=[];if(e.stackTrace){for(let o of e.stackTrace.callFrames)if(a.push(`    at ${o.functionName||"<anonymous>"} (${o.url}:${o.lineNumber+1}:${o.columnNumber+1})`),a.length>=Error.stackTraceLimit)break}i.stack=[...s,...a].join(`
`),this.emit("pageerror",i)}else D(`Unhandled LogEntry with type "${e.type}", text "${e.text}" and level "${e.level}"`)}#C(e){let t=this.frame(e.context);if(!t)return;let i=Wc(e.type),n=new jd(t.context(),i,e.message,e.defaultValue);this.emit("dialog",n)}getNavigationResponse(e){return this.#n.getNavigationResponse(e)}isClosed(){return this.#a.finished()}async close(){this.#a.finished()||(this.#a.resolve(new ct("Page closed!")),this.#n.dispose(),await this.#r.send("browsingContext.close",{context:this.mainFrame()._id}),this.emit("close",void 0),this.removeAllListeners())}async reload(e={}){let{waitUntil:t="load",timeout:i=this.#t.navigationTimeout()}=e,n=zd.get(_n(t));try{let{result:s}=await gr(this.#r.send("browsingContext.reload",{context:this.mainFrame()._id,wait:n}),"Navigation",i);return this.getNavigationResponse(s.navigation)}catch(s){throw s instanceof Tt?s.message+=` at ${this.url}`:s instanceof yt&&(s.message="Navigation timeout of "+i+" ms exceeded"),s}}setDefaultNavigationTimeout(e){this.#t.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this.#t.setDefaultTimeout(e)}getDefaultTimeout(){return this.#t.timeout()}isJavaScriptEnabled(){return this.#p.javascriptEnabled}async setGeolocation(e){return await this.#p.setGeolocation(e)}async setJavaScriptEnabled(e){return await this.#p.setJavaScriptEnabled(e)}async emulateMediaType(e){return await this.#p.emulateMediaType(e)}async emulateCPUThrottling(e){return await this.#p.emulateCPUThrottling(e)}async emulateMediaFeatures(e){return await this.#p.emulateMediaFeatures(e)}async emulateTimezone(e){return await this.#p.emulateTimezone(e)}async emulateIdleState(e){return await this.#p.emulateIdleState(e)}async emulateVisionDeficiency(e){return await this.#p.emulateVisionDeficiency(e)}async setViewport(e){if(!this.#g.supportsCdp()){await this.#d.emulateViewport(e),this.#s=e;return}let t=await this.#p.emulateViewport(e);this.#s=e,t&&await this.reload()}viewport(){return this.#s}async pdf(e={}){let{path:t=void 0}=e,{printBackground:i,margin:n,landscape:s,width:a,height:o,pageRanges:c,scale:l,preferCSSPageSize:u,timeout:d}=this._getPDFOptions(e,"cm"),p=c?c.split(", "):[],{result:m}=await gr(this.#r.send("browsingContext.print",{context:this.mainFrame()._id,background:i,margin:n,orientation:s?"landscape":"portrait",page:{width:a,height:o},pageRanges:p,scale:l,shrinkToFit:!u}),"browsingContext.print",d),f=Buffer.from(m.data,"base64");return await this._maybeWriteBufferToFile(t,f),f}async createPDFStream(e){let t=await this.pdf(e);try{let{Readable:i}=await import("stream");return i.from(t)}catch(i){throw i instanceof TypeError?new Error("Can only pass a file path in a Node-like environment."):i}}async screenshot(e={}){let{clip:t,type:i,captureBeyondViewport:n,allowViewportExpansion:s=!0}=e;if(n)throw new Error("BiDi does not support 'captureBeyondViewport'.");let a=Object.keys(e).find(o=>["fromSurface","omitBackground","optimizeForSpeed","quality"].includes(o));if(a!==void 0)throw new Error(`BiDi does not support ${a}.`);if((i??"png")!=="png")throw new Error("BiDi only supports 'png' type.");if((t==null?void 0:t.scale)!==void 0)throw new Error("BiDi does not support 'scale' in 'clip'.");return await super.screenshot({...e,captureBeyondViewport:n,allowViewportExpansion:n??s})}async _screenshot(e){let{clip:t}=e,{result:{data:i}}=await this.#r.send("browsingContext.captureScreenshot",{context:this.mainFrame()._id,clip:t&&{type:"viewport",...t}});return i}async waitForRequest(e,t={}){let{timeout:i=this.#t.timeout()}=t;return await mr(this.#n,ie.Request,async n=>Ke(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this.#a.valueOrThrow())}async waitForResponse(e,t={}){let{timeout:i=this.#t.timeout()}=t;return await mr(this.#n,ie.Response,async n=>Ke(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this.#a.valueOrThrow())}async waitForNetworkIdle(e={}){let{idleTime:t=500,timeout:i=this.#t.timeout()}=e;await this._waitForNetworkIdle(this.#n,t,i,this.#a)}async createCDPSession(){let{sessionId:e}=await this.mainFrame().context().cdpSession.send("Target.attachToTarget",{targetId:this.mainFrame()._id,flatten:!0});return new Ui(this.mainFrame().context(),e)}async bringToFront(){await this.#r.send("browsingContext.activate",{context:this.mainFrame()._id})}async evaluateOnNewDocument(e,...t){let i=zD(e,...t),{result:n}=await this.#r.send("script.addPreloadScript",{functionDeclaration:i});return{identifier:n.script}}async removeScriptToEvaluateOnNewDocument(e){await this.#r.send("script.removePreloadScript",{script:e})}async exposeFunction(e,t){return await this.mainFrame().exposeFunction(e,"default"in t?t.default:t)}isDragInterceptionEnabled(){return!1}async setCacheEnabled(e){await this._client().send("Network.setCacheDisabled",{cacheDisabled:!e})}}});var Jo,Yo,ua,Qo,cx=I(()=>{za();En();ox();Jo=class extends ps{_browserContext;constructor(e){super(),this._browserContext=e}async worker(){return null}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){throw new Error("Not implemented")}_setBrowserContext(e){this._browserContext=e}},Yo=class extends Jo{url(){return""}type(){return ht.BROWSER}},ua=class extends Jo{_browsingContext;constructor(e,t){super(e),this._browsingContext=t}url(){return this._browsingContext.url}async createCDPSession(){let{sessionId:e}=await this._browsingContext.cdpSession.send("Target.attachToTarget",{targetId:this._browsingContext.id,flatten:!0});return new Ui(this._browsingContext,e)}type(){return ht.PAGE}},Qo=class extends ua{#e;constructor(e,t){super(e,t),this.#e=new Xo(t,e)}async page(){return this.#e}_setBrowserContext(e){super._setBrowserContext(e),this.#e._setBrowserContext(e)}}});var lx,V1=I(()=>{Gc();Yg();En();cx();bn();lx=class r extends Wn{static subscribeModules=["browsingContext","network","log","script"];static subscribeCdpEvents=["cdp.Debugger.scriptParsed","cdp.CSS.styleSheetAdded","cdp.Runtime.executionContextsCleared","cdp.Tracing.tracingComplete","cdp.Network.requestWillBeSent","cdp.Debugger.scriptParsed"];static async create(e){let t="",i="";try{let{result:s}=await e.connection.send("session.new",{capabilities:{alwaysMatch:{acceptInsecureCerts:e.ignoreHTTPSErrors}}});t=s.capabilities.browserName??"",i=s.capabilities.browserVersion??""}catch(s){cr(s)}await e.connection.send("session.subscribe",{events:t.toLocaleLowerCase().includes("firefox")?r.subscribeModules:[...r.subscribeModules,...r.subscribeCdpEvents]});let n=new r({...e,browserName:t,browserVersion:i});return await n.#m(),n}#e="";#t="";#r;#i;#n;#s;#a;#o=new Map;#l=[];#c;#u=new Map([["browsingContext.contextCreated",this.#d.bind(this)],["browsingContext.contextDestroyed",this.#f.bind(this)],["browsingContext.domContentLoaded",this.#h.bind(this)],["browsingContext.fragmentNavigated",this.#p.bind(this)],["browsingContext.navigationStarted",this.#p.bind(this)]]);constructor(e){var t;super(),this.#r=e.process,this.#i=e.closeCallback,this.#n=e.connection,this.#s=e.defaultViewport,this.#e=e.browserName,this.#t=e.browserVersion,(t=this.#r)==null||t.once("close",()=>{this.#n.dispose(),this.emit("disconnected",void 0)}),this.#a=new oa(this,{defaultViewport:this.#s,isDefault:!0}),this.#c=new Yo(this.#a),this.#l.push(this.#a);for(let[i,n]of this.#u)this.#n.on(i,n)}#h(e){let t=this.#o.get(e.context);t&&this.emit("targetchanged",t)}#p(e){let t=this.#o.get(e.context);t&&(this.emit("targetchanged",t),t.browserContext().emit("targetchanged",t))}#d(e){let t=new Bo(this.#n,e,this.#e);this.#n.registerBrowsingContexts(t);let i=this.browserContexts().at(-1);if(!i)throw new Error("Missing browser contexts");let n=t.parent?new ua(i,t):new Qo(i,t);this.#o.set(e.context,n),this.emit("targetcreated",n),n.browserContext().emit("targetcreated",n),t.parent&&this.#n.getTopLevelContext(t.parent).emit(ei.Created,t)}async#m(){let{result:e}=await this.#n.send("browsingContext.getTree",{});for(let t of e.contexts)this.#d(t)}async#f(e){let t=this.#n.getBrowsingContext(e.context);this.#n.getTopLevelContext(e.context).emit(ei.Destroyed,t);let n=this.#o.get(e.context),s=await(n==null?void 0:n.page());await(s==null?void 0:s.close().catch(cr)),this.#o.delete(e.context),n&&(this.emit("targetdestroyed",n),n.browserContext().emit("targetdestroyed",n))}get connection(){return this.#n}wsEndpoint(){return this.#n.url}async close(){var e;for(let[t,i]of this.#u)this.#n.off(t,i);this.#n.closed||(await this.#n.send("browser.close",{}),this.#n.dispose(),await((e=this.#i)==null?void 0:e.call(null)))}get connected(){return!this.#n.closed}process(){return this.#r??null}async createIncognitoBrowserContext(e){let t=new oa(this,{defaultViewport:this.#s,isDefault:!1});return this.#l.push(t),t}async version(){return`${this.#e}/${this.#t}`}browserContexts(){return this.#l}async _closeContext(e){this.#l=this.#l.filter(t=>t!==e);for(let t of e.targets()){let i=await(t==null?void 0:t.page());await(i==null?void 0:i.close().catch(n=>{cr(n)}))}}defaultBrowserContext(){return this.#a}newPage(){return this.#a.newPage()}targets(){return[this.#c,...Array.from(this.#o.values())]}_getTargetById(e){let t=this.#o.get(e);if(!t)throw new Error("Target not found");return t}target(){return this.#c}}});var ux={};kn(ux,{BiDiBrowserTarget:()=>Yo,BiDiBrowsingContextTarget:()=>ua,BiDiPageTarget:()=>Qo,BidiBrowser:()=>lx,BidiBrowserContext:()=>oa,BidiConnection:()=>jo,BidiElementHandle:()=>Zr,BidiFrame:()=>Kd,BidiHTTPRequest:()=>la,BidiHTTPResponse:()=>Vo,BidiJSHandle:()=>Qr,BidiKeyboard:()=>Ko,BidiMouse:()=>Ho,BidiNetworkManager:()=>Go,BidiPage:()=>Xo,BidiRealm:()=>sa,BidiTarget:()=>Jo,BidiTouchscreen:()=>Wo,BrowsingContext:()=>Bo,BrowsingContextEvent:()=>ei,CdpSessionWrapper:()=>Ui,MAIN_SANDBOX:()=>Uo,PUPPETEER_SANDBOX:()=>$o,Sandbox:()=>ca,cdpSessions:()=>aa,connectBidiOverCdp:()=>LD,createBidiHandle:()=>Fo,getWaitUntilSingle:()=>_n,lifeCycleToReadinessState:()=>zd,lifeCycleToSubscribedEvent:()=>Fd});var dx=I(()=>{z1();V1();Yg();En();Gg();na();tx();nx();sx();ix();Do();ax();ox();Ld();Qg();cx()});var mk=V(require("node:path")),ti=V(gp());var jv=require("node:http"),qv=V(Bv()),Uv=r=>{let e={public:r,rewrites:[{source:"**",destination:"/index.html"}]};return(0,jv.createServer)((t,i)=>void(0,qv.default)(t,i,e)).listen(8080)};var dk=V(require("path"));var $v=(r,e,t)=>{let i=Array.from({length:e}).map((n,s)=>r().then(a=>({obj:a,indexInPool:s})));return async(...n)=>{let s=await Promise.race(i),a,o=()=>a(s);i[s.indexInPool]=new Promise(l=>a=l);let c=await t(s.obj)(...n);return o(),c}},zv=(r,e)=>{let t=[],i=Promise.resolve();return(...n)=>new Promise(s=>{i=i.then(()=>{let a=r(...n).finally(()=>t.splice(t.indexOf(a),1));return t.push(a),a.then(s),t.length<e?Promise.resolve():Promise.race(t)})})};var Yt=(...r)=>{process.env.PRERENDER_SPA_ULTRA_DEBUG&&console.log(...r)};Gc();Xc();Jc();Xn();ns();ul();dl();pl();Qn();xr();xl();yl();za();Kt();bl();rl();Qn();ae();Ce();zt();var XI=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},JI=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),bi=class{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get name(){return this.#e}async run(e,t,i,n){let s=new ot;try{if(!n){let a={stack:[],error:void 0,hasError:!1};try{let c=await XI(a,await e.evaluateHandle((l,u)=>globalThis[l].args.get(u),this.#e,t),!1).getProperties();for(let[l,u]of c)if(l in i)switch(u.remoteObject().subtype){case"node":i[+l]=u;break;default:s.use(u)}else s.use(u)}catch(o){a.error=o,a.hasError=!0}finally{JI(a)}}await e.evaluate((a,o,c)=>{let l=globalThis[a].callbacks;l.get(o).resolve(c),l.delete(o)},this.#e,t,await this.#t(...i));for(let a of i)a instanceof er&&s.use(a)}catch(a){Me(a)?await e.evaluate((o,c,l,u)=>{let d=new Error(l);d.stack=u;let p=globalThis[o].callbacks;p.get(c).reject(d),p.delete(c)},this.#e,t,a.message,a.stack).catch(D):await e.evaluate((o,c,l)=>{let u=globalThis[o].callbacks;u.get(c).reject(l),u.delete(c)},this.#e,t,a).catch(D)}}};Gc();Xc();Kt();Ji();le();Kt();za();Fe();ae();le();Te();za();ae();Te();fs();Kt();xl();_l();bt();le();var El=class{#e;#t;#r=!1;constructor(e,t){this.#e=e,this.#t=t.mode!=="selectSingle"}isMultiple(){return this.#t}async accept(e){S(!this.#r,"Cannot accept FileChooser which is already handled!"),this.#r=!0,await this.#e.uploadFile(...e)}cancel(){S(!this.#r,"Cannot cancel FileChooser which is already handled!"),this.#r=!0}};Ha();ae();le();Te();Ce();zt();bl();fs();_i();Sl();Jc();var kl=class extends Gn{#e;constructor(e,t,i,n=""){super(t,i,n),this.#e=e}async sendCommand(e){await this.#e.send("Page.handleJavaScriptDialog",{accept:e.accept,promptText:e.text})}};Tl();hi();Na();ae();Oa();Qi();rl();Xn();ae();le();gi();Qn();ae();var zr=class extends er{#e=!1;#t;#r;constructor(e,t){super(),this.#r=e,this.#t=t}get disposed(){return this.#e}get realm(){return this.#r}get client(){return this.realm.environment.client}async jsonValue(){if(!this.#t.objectId)return fr(this.#t);let e=await this.evaluate(t=>t);if(e===void 0)throw new Error("Could not serialize referenced object");return e}asElement(){return null}async dispose(){this.#e||(this.#e=!0,await Pl(this.client,this.#t))}toString(){return this.#t.objectId?"JSHandle@"+(this.#t.subtype||this.#t.type):"JSHandle:"+fr(this.#t)}get id(){return this.#t.objectId}remoteObject(){return this.#t}};var tR=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},Il=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},Bh=(()=>{var c,pb,u;var r,e;let t=xi,i=[],n,s,a,o;return u=class extends t{constructor(m,f){super(new zr(m,f));W(this,c);tR(this,i)}get realm(){return this.handle.realm}get client(){return this.handle.client}remoteObject(){return this.handle.remoteObject()}get frame(){return this.realm.environment}async contentFrame(){let m=await this.client.send("DOM.describeNode",{objectId:this.id});return typeof m.node.frameId!="string"?null:A(this,c,pb).frame(m.node.frameId)}async scrollIntoView(){await this.assertConnectedElement();try{await this.client.send("DOM.scrollIntoViewIfNeeded",{objectId:this.id})}catch(m){D(m),await super.scrollIntoView()}}async uploadFile(...m){let f=await this.evaluate(_=>_.multiple);S(m.length<=1||f,"Multiple file uploads only work with <input type=file multiple>");let h;try{h=await import("path")}catch(_){throw _ instanceof TypeError?new Error("JSHandle#uploadFile can only be used in Node-like environments."):_}let g=m.map(_=>h.win32.isAbsolute(_)||h.posix.isAbsolute(_)?_:h.resolve(_)),{node:w}=await this.client.send("DOM.describeNode",{objectId:this.id}),{backendNodeId:v}=w;g.length===0?await this.evaluate(_=>{_.files=new DataTransfer().files,_.dispatchEvent(new Event("input",{bubbles:!0})),_.dispatchEvent(new Event("change",{bubbles:!0}))}):await this.client.send("DOM.setFileInputFiles",{objectId:this.id,files:g,backendNodeId:v})}async autofill(m){let h=(await this.client.send("DOM.describeNode",{objectId:this.handle.id})).node.backendNodeId,g=this.frame._id;await this.client.send("Autofill.trigger",{fieldId:h,frameId:g,card:m.creditCard})}},c=new WeakSet,pb=function(){return this.frame._frameManager},(()=>{let m=typeof Symbol=="function"&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;n=[Z()],s=[Z(),(r=xi).bindIsolatedHandle.bind(r)],a=[Z(),(e=xi).bindIsolatedHandle.bind(e)],o=[Z()],Il(u,null,n,{kind:"method",name:"contentFrame",static:!1,private:!1,access:{has:f=>"contentFrame"in f,get:f=>f.contentFrame},metadata:m},null,i),Il(u,null,s,{kind:"method",name:"scrollIntoView",static:!1,private:!1,access:{has:f=>"scrollIntoView"in f,get:f=>f.scrollIntoView},metadata:m},null,i),Il(u,null,a,{kind:"method",name:"uploadFile",static:!1,private:!1,access:{has:f=>"uploadFile"in f,get:f=>f.uploadFile},metadata:m},null,i),Il(u,null,o,{kind:"method",name:"autofill",static:!1,private:!1,access:{has:f=>"autofill"in f,get:f=>f.autofill},metadata:m},null,i),m&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:m})})(),u})();var gs=class{_client;_world;_contextId;_contextName;constructor(e,t,i){this._client=e,this._world=i,this._contextId=t.id,t.name&&(this._contextName=t.name)}#e=!1;#t;get puppeteerUtil(){let e=Promise.resolve();return this.#e||(e=Promise.all([this.#r(new bi("__ariaQuerySelector",Zi.queryOne)),this.#r(new bi("__ariaQuerySelectorAll",async(t,i)=>{let n=Zi.queryAll(t,i);return await t.realm.evaluateHandle((...s)=>s,...await jr.collect(n))}))]),this.#e=!0),mi.inject(t=>{this.#t&&this.#t.then(i=>{i.dispose()}),this.#t=e.then(()=>this.evaluateHandle(t))},!this.#t),this.#t}async#r(e){try{this._world&&(this._world._bindings.set(e.name,e),await this._world._addBindingToContext(this,e.name))}catch{}}async evaluate(e,...t){return await this.#i(!0,e,...t)}async evaluateHandle(e,...t){return await this.#i(!1,e,...t)}async#i(e,t,...i){var d;let n=Vc(((d=$c(t))==null?void 0:d.toString())??rt.INTERNAL_URL);if(Ke(t)){let p=this._contextId,m=t,f=Hn.test(m)?m:`${m}
${n}
`,{exceptionDetails:h,result:g}=await this._client.send("Runtime.evaluate",{expression:f,contextId:p,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(hb);if(h)throw Yp(h);return e?fr(g):sn(this._world,g)}let s=Ze(t),a=Hn.test(s)?s:`${s}
${n}
`,o;try{o=this._client.send("Runtime.callFunctionOn",{functionDeclaration:a,executionContextId:this._contextId,arguments:await Promise.all(i.map(u.bind(this))),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(p){throw p instanceof TypeError&&p.message.startsWith("Converting circular structure to JSON")&&(p.message+=" Recursive objects are not allowed."),p}let{exceptionDetails:c,result:l}=await o.catch(hb);if(c)throw Yp(c);return e?fr(l):sn(this._world,l);async function u(p){if(p instanceof et&&(p=await p.get(this)),typeof p=="bigint")return{unserializableValue:`${p.toString()}n`};if(Object.is(p,-0))return{unserializableValue:"-0"};if(Object.is(p,1/0))return{unserializableValue:"Infinity"};if(Object.is(p,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(p,NaN))return{unserializableValue:"NaN"};let m=p&&(p instanceof zr||p instanceof Bh)?p:null;if(m){if(m.realm!==this._world)throw new Error("JSHandles can be evaluated only in the context they were created!");if(m.disposed)throw new Error("JSHandle is disposed!");return m.remoteObject().unserializableValue?{unserializableValue:m.remoteObject().unserializableValue}:m.remoteObject().objectId?{objectId:m.remoteObject().objectId}:{value:m.remoteObject().value}}return{value:p}}}},hb=r=>{if(r.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(r.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};throw r.message.endsWith("Cannot find context with specified id")||r.message.endsWith("Inspected target navigated or closed")?new Error("Execution context was destroyed, most likely because of a navigation."):r};function sn(r,e){return e.subtype==="node"?new Bh(r,e):new zr(r,e)}async function Pl(r,e){e.objectId&&await r.send("Runtime.releaseObject",{objectId:e.objectId}).catch(t=>{D(t)})}Kt();ns();Fe();ae();le();Te();Ce();zt();fs();_i();le();Te();var jh=class{id;name;constructor(e,t){this.id=e,this.name=t}},qh=class{#e;#t;#r;#i=!1;#n=this.#a.bind(this);#s=new Set;devices=[];constructor(e,t,i){this.#e=e,this.#t=t,this.#r=i.id,this.#e.on("DeviceAccess.deviceRequestPrompted",this.#n),this.#e.on("Target.detachedFromTarget",()=>{this.#e=null}),this.#a(i)}#a(e){if(e.id===this.#r)for(let t of e.devices){if(this.devices.some(n=>n.id===t.id))continue;let i=new jh(t.id,t.name);this.devices.push(i);for(let n of this.#s)n.filter(i)&&n.promise.resolve(i)}}async waitForDevice(e,t={}){for(let a of this.devices)if(e(a))return a;let{timeout:i=this.#t.timeout()}=t,n=z.create({message:`Waiting for \`DeviceRequestPromptDevice\` failed: ${i}ms exceeded`,timeout:i}),s={filter:e,promise:n};this.#s.add(s);try{return await n.valueOrThrow()}finally{this.#s.delete(s)}}async select(e){return S(this.#e!==null,"Cannot select device through detached session!"),S(this.devices.includes(e),"Cannot select unknown device!"),S(!this.#i,"Cannot select DeviceRequestPrompt which is already handled!"),this.#e.off("DeviceAccess.deviceRequestPrompted",this.#n),this.#i=!0,await this.#e.send("DeviceAccess.selectPrompt",{id:this.#r,deviceId:e.id})}async cancel(){return S(this.#e!==null,"Cannot cancel prompt through detached session!"),S(!this.#i,"Cannot cancel DeviceRequestPrompt which is already handled!"),this.#e.off("DeviceAccess.deviceRequestPrompted",this.#n),this.#i=!0,await this.#e.send("DeviceAccess.cancelPrompt",{id:this.#r})}},Rl=class{#e;#t;#r=new Set;constructor(e,t){this.#e=e,this.#t=t,this.#e.on("DeviceAccess.deviceRequestPrompted",i=>{this.#i(i)}),this.#e.on("Target.detachedFromTarget",()=>{this.#e=null})}async waitForDevicePrompt(e={}){S(this.#e!==null,"Cannot wait for device prompt through detached session!");let t=this.#r.size===0,i;t&&(i=this.#e.send("DeviceAccess.enable"));let{timeout:n=this.#t.timeout()}=e,s=z.create({message:`Waiting for \`DeviceRequestPrompt\` failed: ${n}ms exceeded`,timeout:n});this.#r.add(s);try{let[a]=await Promise.all([s.valueOrThrow(),i]);return a}finally{this.#r.delete(s)}}#i(e){if(!this.#r.size)return;S(this.#e!==null);let t=new qh(this.#e,this.#t,e);for(let i of this.#r)i.resolve(t);this.#r.clear()}};ns();ae();le();Te();Ce();zt();yl();ae();Te();Ce();oh();var rR=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},iR=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),an=class extends ds{#e=z.create();#t=new Set;#r=new Map;get _bindings(){return this.#r}#i;constructor(e,t){super(t),this.#i=e,this.frameUpdated()}get environment(){return this.#i}frameUpdated(){this.client.on("Runtime.bindingCalled",this.#a)}get client(){return this.#i.client}clearContext(){this.#e=z.create(),this.#i instanceof Wa&&this.#i.clearDocumentHandle()}setContext(e){this.#t.clear(),this.#e.resolve(e),this.taskManager.rerunAll()}hasContext(){return this.#e.resolved()}#n(){if(this.disposed)throw new Error(`Execution context is not available in detached frame "${this.environment.url()}" (are you trying to evaluate?)`);if(this.#e===null)throw new Error("Execution content promise is missing");return this.#e.valueOrThrow()}async evaluateHandle(e,...t){return e=Ee(this.evaluateHandle.name,e),await(await this.#n()).evaluateHandle(e,...t)}async evaluate(e,...t){return e=Ee(this.evaluate.name,e),await(await this.#n()).evaluate(e,...t)}#s=new Yn;async _addBindingToContext(e,t){let i={stack:[],error:void 0,hasError:!1};try{if(this.#t.has(t))return;let n=rR(i,await this.#s.acquire(),!1);try{await e._client.send("Runtime.addBinding",e._contextName?{name:t,executionContextName:e._contextName}:{name:t,executionContextId:e._contextId}),await e.evaluate(Qp,"internal",t),this.#t.add(t)}catch(s){if(s instanceof Error&&(s.message.includes("Execution context was destroyed")||s.message.includes("Cannot find context with specified id")))return;D(s)}}catch(n){i.error=n,i.hasError=!0}finally{iR(i)}}#a=async e=>{let t;try{t=JSON.parse(e.payload)}catch{return}let{type:i,name:n,seq:s,args:a,isTrivial:o}=t;if(i==="internal"&&this.#t.has(n))try{let c=await this.#e.valueOrThrow();if(e.executionContextId!==c._contextId)return;let l=this._bindings.get(n);await(l==null?void 0:l.run(c,s,a,o))}catch(c){D(c)}};async adoptBackendNode(e){let t=await this.#n(),{object:i}=await this.client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:t._contextId});return sn(this,i)}async adoptHandle(e){if(e.realm===this)return await e.evaluateHandle(i=>i);let t=await this.client.send("DOM.describeNode",{objectId:e.id});return await this.adoptBackendNode(t.node.backendNodeId)}async transferHandle(e){if(e.realm===this||e.remoteObject().objectId===void 0)return e;let t=await this.client.send("DOM.describeNode",{objectId:e.remoteObject().objectId}),i=await this.adoptBackendNode(t.node.backendNodeId);return await e.dispose(),i}[re](){super[re](),this.client.off("Runtime.bindingCalled",this.#a)}};var Kr=Symbol("mainWorld"),Ei=Symbol("puppeteerWorld");ns();Fe();le();Te();Ce();yi();var nR=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]),xs=class{#e;#t;#r;#i=null;#n=new ot;#s;#a;#o=z.create();#l=z.create();#c=z.create();#u;#h;#p;constructor(e,t,i,n){Array.isArray(i)?i=i.slice():typeof i=="string"&&(i=[i]),this.#s=t._loaderId,this.#e=i.map(s=>{let a=nR.get(s);return S(a,"Unknown value for options.waitUntil: "+s),a}),this.#t=t,this.#r=n,this.#n.use(new ge(t._frameManager,ft.LifecycleEvent,this.#v.bind(this))),this.#n.use(new ge(t,He.FrameNavigatedWithinDocument,this.#g.bind(this))),this.#n.use(new ge(t,He.FrameNavigated,this.#w.bind(this))),this.#n.use(new ge(t,He.FrameSwapped,this.#y.bind(this))),this.#n.use(new ge(t,He.FrameSwappedByActivation,this.#y.bind(this))),this.#n.use(new ge(t,He.FrameDetached,this.#x.bind(this))),this.#n.use(new ge(e,ie.Request,this.#d.bind(this))),this.#n.use(new ge(e,ie.Response,this.#f.bind(this))),this.#n.use(new ge(e,ie.RequestFailed,this.#m.bind(this))),this.#a=z.create({timeout:this.#r,message:`Navigation timeout of ${this.#r} ms exceeded`}),this.#v()}#d(e){var t,i;e.frame()!==this.#t||!e.isNavigationRequest()||(this.#i=e,(t=this.#p)==null||t.resolve(),this.#p=z.create(),e.response()!==null&&((i=this.#p)==null||i.resolve()))}#m(e){var t,i;((t=this.#i)==null?void 0:t._requestId)===e._requestId&&((i=this.#p)==null||i.resolve())}#f(e){var t,i;((t=this.#i)==null?void 0:t._requestId)===e.request()._requestId&&((i=this.#p)==null||i.resolve())}#x(e){if(this.#t===e){this.#a.resolve(new Error("Navigating frame was detached"));return}this.#v()}async navigationResponse(){var e;return await((e=this.#p)==null?void 0:e.valueOrThrow()),this.#i?this.#i.response():null}sameDocumentNavigationPromise(){return this.#o.valueOrThrow()}newDocumentNavigationPromise(){return this.#c.valueOrThrow()}lifecyclePromise(){return this.#l.valueOrThrow()}terminationPromise(){return this.#a.valueOrThrow()}#g(){this.#u=!0,this.#v()}#w(e){if(e==="BackForwardCacheRestore")return this.#y();this.#v()}#y(){this.#h=!0,this.#v()}#v(){if(!e(this.#t,this.#e))return;this.#l.resolve(),this.#u&&this.#o.resolve(void 0),(this.#h||this.#t._loaderId!==this.#s)&&this.#c.resolve(void 0);function e(t,i){for(let n of i)if(!t._lifecycleEvents.has(n))return!1;for(let n of t.childFrames())if(n._hasStartedLoading&&!e(n,i))return!1;return!0}}dispose(){this.#n.dispose(),this.#a.resolve(new Error("LifecycleWatcher disposed"))}};var sR=function(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0},Ml=function(r,e,t,i,n,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value",l=!e&&r?i.static?r:r.prototype:null,u=e||(l?Object.getOwnPropertyDescriptor(l,i.name):{}),d,p=!1,m=t.length-1;m>=0;m--){var f={};for(var h in i)f[h]=h==="access"?{}:i[h];for(var h in i.access)f.access[h]=i.access[h];f.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var g=(0,t[m])(o==="accessor"?{get:u.get,set:u.set}:u[c],f);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=a(g.get))&&(u.get=d),(d=a(g.set))&&(u.set=d),(d=a(g.init))&&n.unshift(d)}else(d=a(g))&&(o==="field"?n.unshift(d):u[c]=d)}l&&Object.defineProperty(l,i.name,u),p=!0},Wa=(()=>{var a,o,c,l,Uh,d;let r=ll,e=[],t,i,n,s;return d=class extends r{constructor(f,h,g,w){super();W(this,l);W(this,a,(sR(this,e),""));W(this,o,!1);W(this,c,void 0);Ye(this,"_frameManager");Ye(this,"_id");Ye(this,"_loaderId","");Ye(this,"_lifecycleEvents",new Set);Ye(this,"_parentId");this._frameManager=f,Ue(this,a,""),this._id=h,this._parentId=g,Ue(this,o,!1),this._loaderId="",this.updateClient(w),this.on(He.FrameSwappedByActivation,()=>{this._onLoadingStarted(),this._onLoadingStopped()})}_client(){return A(this,c)}updateId(f){this._id=f}updateClient(f,h=!1){Ue(this,c,f),h?(this.worlds[Kr].frameUpdated(),this.worlds[Ei].frameUpdated()):this.worlds={[Kr]:new an(this,this._frameManager.timeoutSettings),[Ei]:new an(this,this._frameManager.timeoutSettings)}}page(){return this._frameManager.page()}isOOPFrame(){return A(this,c)!==this._frameManager.client}async goto(f,h={}){let{referer:g=this._frameManager.networkManager.extraHTTPHeaders().referer,referrerPolicy:w=this._frameManager.networkManager.extraHTTPHeaders()["referer-policy"],waitUntil:v=["load"],timeout:_=this._frameManager.timeoutSettings.navigationTimeout()}=h,b=!1,P=new xs(this._frameManager.networkManager,this,v,_),T=await z.race([R(A(this,c),f,g,w,this._id),P.terminationPromise()]);T||(T=await z.race([P.terminationPromise(),b?P.newDocumentNavigationPromise():P.sameDocumentNavigationPromise()]));try{if(T)throw T;return await P.navigationResponse()}finally{P.dispose()}async function R(O,M,ne,U,Pe){try{let te=await O.send("Page.navigate",{url:M,referrer:ne,frameId:Pe,referrerPolicy:U});return b=!!te.loaderId,te.errorText==="net::ERR_HTTP_RESPONSE_CODE_FAILURE"?null:te.errorText?new Error(`${te.errorText} at ${M}`):null}catch(te){if(Me(te))return te;throw te}}}async waitForNavigation(f={}){let{waitUntil:h=["load"],timeout:g=this._frameManager.timeoutSettings.navigationTimeout()}=f,w=new xs(this._frameManager.networkManager,this,h,g),v=await z.race([w.terminationPromise(),w.sameDocumentNavigationPromise(),w.newDocumentNavigationPromise()]);try{if(v)throw v;return await w.navigationResponse()}finally{w.dispose()}}get client(){return A(this,c)}mainRealm(){return this.worlds[Kr]}isolatedRealm(){return this.worlds[Ei]}async setContent(f,h={}){let{waitUntil:g=["load"],timeout:w=this._frameManager.timeoutSettings.navigationTimeout()}=h;await Hc(this.isolatedRealm(),f);let v=new xs(this._frameManager.networkManager,this,g,w),_=await z.race([v.terminationPromise(),v.lifecyclePromise()]);if(v.dispose(),_)throw _}url(){return A(this,a)}parentFrame(){return this._frameManager._frameTree.parentFrame(this._id)||null}childFrames(){return this._frameManager._frameTree.childFrames(this._id)}async waitForDevicePrompt(f={}){return await Le(this,l,Uh).call(this).waitForDevicePrompt(f)}_navigated(f){this._name=f.name,Ue(this,a,`${f.url}${f.urlFragment||""}`)}_navigatedWithinDocument(f){Ue(this,a,f)}_onLifecycleEvent(f,h){h==="init"&&(this._loaderId=f,this._lifecycleEvents.clear()),this._lifecycleEvents.add(h)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_onLoadingStarted(){this._hasStartedLoading=!0}get detached(){return A(this,o)}[(t=[xe],i=[xe],n=[xe],s=[xe],re)](){A(this,o)||(Ue(this,o,!0),this.worlds[Kr][re](),this.worlds[Ei][re]())}},a=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakSet,Uh=function(){var h;if(this.isOOPFrame())return this._frameManager._deviceRequestPromptManager(A(this,c));let f=this.parentFrame();return S(f!==null),Le(h=f,l,Uh).call(h)},(()=>{let f=typeof Symbol=="function"&&Symbol.metadata?Object.create(r[Symbol.metadata]??null):void 0;Ml(d,null,t,{kind:"method",name:"goto",static:!1,private:!1,access:{has:h=>"goto"in h,get:h=>h.goto},metadata:f},null,e),Ml(d,null,i,{kind:"method",name:"waitForNavigation",static:!1,private:!1,access:{has:h=>"waitForNavigation"in h,get:h=>h.waitForNavigation},metadata:f},null,e),Ml(d,null,n,{kind:"method",name:"setContent",static:!1,private:!1,access:{has:h=>"setContent"in h,get:h=>h.setContent},metadata:f},null,e),Ml(d,null,s,{kind:"method",name:"waitForDevicePrompt",static:!1,private:!1,access:{has:h=>"waitForDevicePrompt"in h,get:h=>h.waitForDevicePrompt},metadata:f},null,e),f&&Object.defineProperty(d,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f})})(),d})();Al();yi();var ft;(function(r){r.FrameAttached=Symbol("FrameManager.FrameAttached"),r.FrameNavigated=Symbol("FrameManager.FrameNavigated"),r.FrameDetached=Symbol("FrameManager.FrameDetached"),r.FrameSwapped=Symbol("FrameManager.FrameSwapped"),r.LifecycleEvent=Symbol("FrameManager.LifecycleEvent"),r.FrameNavigatedWithinDocument=Symbol("FrameManager.FrameNavigatedWithinDocument")})(ft||(ft={}));var aR=100,Ol=class extends de{#e;#t;#r;#i=new Map;#n=new Set;#s;_frameTree=new ws;#a=new Set;#o=new WeakMap;get timeoutSettings(){return this.#r}get networkManager(){return this.#t}get client(){return this.#s}constructor(e,t,i,n){super(),this.#s=e,this.#e=t,this.#t=new ml(i,this),this.#r=n,this.setupEventListeners(this.#s),e.once(oe.Disconnected,()=>{this.#l().catch(D)})}async#l(){let e=this._frameTree.getMainFrame();if(!e)return;for(let i of e.childFrames())this.#b(i);let t=z.create({timeout:aR,message:"Frame was not swapped"});e.once(He.FrameSwappedByActivation,()=>{t.resolve()});try{await t.valueOrThrow()}catch{this.#b(e)}}async swapFrameTree(e){this.#v(this.#s),this.#s=e,S(this.#s instanceof Ht,"CDPSession is not an instance of CDPSessionImpl.");let t=this._frameTree.getMainFrame();t&&(this.#a.add(this.#s._target()._targetId),this._frameTree.removeFrame(t),t.updateId(this.#s._target()._targetId),t.mainRealm().clearContext(),t.isolatedRealm().clearContext(),this._frameTree.addFrame(t),t.updateClient(e,!0)),this.setupEventListeners(e),e.once(oe.Disconnected,()=>{this.#l().catch(D)}),await this.initialize(e),await this.#t.addClient(e),t&&t.emit(He.FrameSwappedByActivation,void 0)}async registerSpeculativeSession(e){await this.#t.addClient(e)}setupEventListeners(e){e.on("Page.frameAttached",t=>{this.#d(e,t.frameId,t.parentFrameId)}),e.on("Page.frameNavigated",t=>{this.#a.add(t.frame.id),this.#m(t.frame,t.type)}),e.on("Page.navigatedWithinDocument",t=>{this.#x(t.frameId,t.url)}),e.on("Page.frameDetached",t=>{this.#g(t.frameId,t.reason)}),e.on("Page.frameStartedLoading",t=>{this.#u(t.frameId)}),e.on("Page.frameStoppedLoading",t=>{this.#h(t.frameId)}),e.on("Runtime.executionContextCreated",t=>{this.#w(t.context,e)}),e.on("Runtime.executionContextDestroyed",t=>{this.#y(t.executionContextId,e)}),e.on("Runtime.executionContextsCleared",()=>{this.#v(e)}),e.on("Page.lifecycleEvent",t=>{this.#c(t)})}async initialize(e){try{await Promise.all([this.#t.addClient(e),e.send("Page.enable"),e.send("Page.getFrameTree").then(({frameTree:t})=>{this.#p(e,t)}),e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Runtime.enable").then(()=>this.#f(e,Aa))])}catch(t){if(Me(t)&&Ka(t))return;throw t}}executionContextById(e,t=this.#s){let i=this.getExecutionContextById(e,t);return S(i,"INTERNAL ERROR: missing context with id = "+e),i}getExecutionContextById(e,t=this.#s){return this.#i.get(`${t.id()}:${e}`)}page(){return this.#e}mainFrame(){let e=this._frameTree.getMainFrame();return S(e,"Requesting main frame too early!"),e}frames(){return Array.from(this._frameTree.frames())}frame(e){return this._frameTree.getById(e)||null}onAttachedToTarget(e){if(e._getTargetInfo().type!=="iframe")return;let t=this.frame(e._getTargetInfo().targetId);t&&t.updateClient(e._session()),this.setupEventListeners(e._session()),this.initialize(e._session())}_deviceRequestPromptManager(e){let t=this.#o.get(e);return t===void 0&&(t=new Rl(e,this.#r),this.#o.set(e,t)),t}#c(e){let t=this.frame(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(ft.LifecycleEvent,t),t.emit(He.LifecycleEvent,void 0))}#u(e){let t=this.frame(e);t&&t._onLoadingStarted()}#h(e){let t=this.frame(e);t&&(t._onLoadingStopped(),this.emit(ft.LifecycleEvent,t),t.emit(He.LifecycleEvent,void 0))}#p(e,t){if(t.frame.parentId&&this.#d(e,t.frame.id,t.frame.parentId),this.#a.has(t.frame.id)?this.#a.delete(t.frame.id):this.#m(t.frame,"Navigation"),!!t.childFrames)for(let i of t.childFrames)this.#p(e,i)}#d(e,t,i){let n=this.frame(t);if(n){e&&n.isOOPFrame()&&n.updateClient(e);return}n=new Wa(this,t,i,e),this._frameTree.addFrame(n),this.emit(ft.FrameAttached,n)}async#m(e,t){let i=e.id,n=!e.parentId,s=this._frameTree.getById(i);if(s)for(let a of s.childFrames())this.#b(a);n&&(s?(this._frameTree.removeFrame(s),s._id=i):s=new Wa(this,i,void 0,this.#s),this._frameTree.addFrame(s)),s=await this._frameTree.waitForFrame(i),s._navigated(e),this.emit(ft.FrameNavigated,s),s.emit(He.FrameNavigated,t)}async#f(e,t){let i=`${e.id()}:${t}`;this.#n.has(i)||(await e.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${rt.INTERNAL_URL}`,worldName:t}),await Promise.all(this.frames().filter(n=>n.client===e).map(n=>e.send("Page.createIsolatedWorld",{frameId:n._id,worldName:t,grantUniveralAccess:!0}).catch(D))),this.#n.add(i))}#x(e,t){let i=this.frame(e);i&&(i._navigatedWithinDocument(t),this.emit(ft.FrameNavigatedWithinDocument,i),i.emit(He.FrameNavigatedWithinDocument,void 0),this.emit(ft.FrameNavigated,i),i.emit(He.FrameNavigated,"Navigation"))}#g(e,t){let i=this.frame(e);if(i)switch(t){case"remove":this.#b(i);break;case"swap":this.emit(ft.FrameSwapped,i),i.emit(He.FrameSwapped,void 0);break}}#w(e,t){let i=e.auxData,n=i&&i.frameId,s=typeof n=="string"?this.frame(n):void 0,a;if(s){if(s.client!==t)return;e.auxData&&e.auxData.isDefault?a=s.worlds[Kr]:e.name===Aa&&!s.worlds[Ei].hasContext()&&(a=s.worlds[Ei])}if(!a)return;let o=new gs((s==null?void 0:s.client)||this.#s,e,a);a&&a.setContext(o);let c=`${t.id()}:${e.id}`;this.#i.set(c,o)}#y(e,t){let i=`${t.id()}:${e}`,n=this.#i.get(i);n&&(this.#i.delete(i),n._world&&n._world.clearContext())}#v(e){for(let[t,i]of this.#i.entries())i._client===e&&(i._world&&i._world.clearContext(),this.#i.delete(t))}#b(e){for(let t of e.childFrames())this.#b(t);e[re](),this._frameTree.removeFrame(e),this.emit(ft.FrameDetached,e),e.emit(He.FrameDetached,e)}};pl();var $h={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}};le();var Nl=class extends os{#e;#t=new Set;_modifiers=0;constructor(e){super(),this.#e=e}updateClient(e){this.#e=e}async down(e,t={text:void 0,commands:[]}){let i=this.#i(e),n=this.#t.has(i.code);this.#t.add(i.code),this._modifiers|=this.#r(i.key);let s=t.text===void 0?i.text:t.text;await this.#e.send("Input.dispatchKeyEvent",{type:s?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:i.keyCode,code:i.code,key:i.key,text:s,unmodifiedText:s,autoRepeat:n,location:i.location,isKeypad:i.location===3,commands:t.commands})}#r(e){return e==="Alt"?1:e==="Control"?2:e==="Meta"?4:e==="Shift"?8:0}#i(e){let t=this._modifiers&8,i={key:"",keyCode:0,code:"",text:"",location:0},n=$h[e];return S(n,`Unknown key: "${e}"`),n.key&&(i.key=n.key),t&&n.shiftKey&&(i.key=n.shiftKey),n.keyCode&&(i.keyCode=n.keyCode),t&&n.shiftKeyCode&&(i.keyCode=n.shiftKeyCode),n.code&&(i.code=n.code),n.location&&(i.location=n.location),i.key.length===1&&(i.text=i.key),n.text&&(i.text=n.text),t&&n.shiftText&&(i.text=n.shiftText),this._modifiers&-9&&(i.text=""),i}async up(e){let t=this.#i(e);this._modifiers&=~this.#r(t.key),this.#t.delete(t.code),await this.#e.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this.#e.send("Input.insertText",{text:e})}charIsKey(e){return!!$h[e]}async type(e,t={}){let i=t.delay||void 0;for(let n of e)this.charIsKey(n)?await this.press(n,{delay:i}):(i&&await new Promise(s=>setTimeout(s,i)),await this.sendCharacter(n))}async press(e,t={}){let{delay:i=null}=t;await this.down(e,t),i&&await new Promise(n=>setTimeout(n,t.delay)),await this.up(e)}},fb=r=>{switch(r){case Se.Left:return 1;case Se.Right:return 2;case Se.Middle:return 4;case Se.Back:return 8;case Se.Forward:return 16}},oR=r=>r&1?Se.Left:r&2?Se.Right:r&4?Se.Middle:r&8?Se.Back:r&16?Se.Forward:"none",Dl=class extends cs{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}updateClient(e){this.#e=e}#r={position:{x:0,y:0},buttons:0};get#i(){return Object.assign({...this.#r},...this.#n)}#n=[];#s(){let e={};this.#n.push(e);let t=()=>{this.#n.splice(this.#n.indexOf(e),1)};return{update:i=>{Object.assign(e,i)},commit:()=>{this.#r={...this.#r,...e},t()},rollback:t}}async#a(e){let{update:t,commit:i,rollback:n}=this.#s();try{await e(t),i()}catch(s){throw n(),s}}async reset(){let e=[];for(let[t,i]of[[1,Se.Left],[4,Se.Middle],[2,Se.Right],[16,Se.Forward],[8,Se.Back]])this.#i.buttons&t&&e.push(this.up({button:i}));(this.#i.position.x!==0||this.#i.position.y!==0)&&e.push(this.move(0,0)),await Promise.all(e)}async move(e,t,i={}){let{steps:n=1}=i,s=this.#i.position,a={x:e,y:t};for(let o=1;o<=n;o++)await this.#a(c=>{c({position:{x:s.x+(a.x-s.x)*(o/n),y:s.y+(a.y-s.y)*(o/n)}});let{buttons:l,position:u}=this.#i;return this.#e.send("Input.dispatchMouseEvent",{type:"mouseMoved",modifiers:this.#t._modifiers,buttons:l,button:oR(l),...u})})}async down(e={}){let{button:t=Se.Left,clickCount:i=1}=e,n=fb(t);if(!n)throw new Error(`Unsupported mouse button: ${t}`);if(this.#i.buttons&n)throw new Error(`'${t}' is already pressed.`);await this.#a(s=>{s({buttons:this.#i.buttons|n});let{buttons:a,position:o}=this.#i;return this.#e.send("Input.dispatchMouseEvent",{type:"mousePressed",modifiers:this.#t._modifiers,clickCount:i,buttons:a,button:t,...o})})}async up(e={}){let{button:t=Se.Left,clickCount:i=1}=e,n=fb(t);if(!n)throw new Error(`Unsupported mouse button: ${t}`);if(!(this.#i.buttons&n))throw new Error(`'${t}' is not pressed.`);await this.#a(s=>{s({buttons:this.#i.buttons&~n});let{buttons:a,position:o}=this.#i;return this.#e.send("Input.dispatchMouseEvent",{type:"mouseReleased",modifiers:this.#t._modifiers,clickCount:i,buttons:a,button:t,...o})})}async click(e,t,i={}){let{delay:n,count:s=1,clickCount:a=s}=i;if(s<1)throw new Error("Click must occur a positive number of times.");let o=[this.move(e,t)];if(a===s)for(let c=1;c<s;++c)o.push(this.down({...i,clickCount:c}),this.up({...i,clickCount:c}));o.push(this.down({...i,clickCount:a})),typeof n=="number"&&(await Promise.all(o),o.length=0,await new Promise(c=>{setTimeout(c,n)})),o.push(this.up({...i,clickCount:a})),await Promise.all(o)}async wheel(e={}){let{deltaX:t=0,deltaY:i=0}=e,{position:n,buttons:s}=this.#i;await this.#e.send("Input.dispatchMouseEvent",{type:"mouseWheel",pointerType:"mouse",modifiers:this.#t._modifiers,deltaY:i,deltaX:t,buttons:s,...n})}async drag(e,t){let i=new Promise(n=>{this.#e.once("Input.dragIntercepted",s=>n(s.data))});return await this.move(e.x,e.y),await this.down(),await this.move(t.x,t.y),await i}async dragEnter(e,t){await this.#e.send("Input.dispatchDragEvent",{type:"dragEnter",x:e.x,y:e.y,modifiers:this.#t._modifiers,data:t})}async dragOver(e,t){await this.#e.send("Input.dispatchDragEvent",{type:"dragOver",x:e.x,y:e.y,modifiers:this.#t._modifiers,data:t})}async drop(e,t){await this.#e.send("Input.dispatchDragEvent",{type:"drop",x:e.x,y:e.y,modifiers:this.#t._modifiers,data:t})}async dragAndDrop(e,t,i={}){let{delay:n=null}=i,s=await this.drag(e,t);await this.dragEnter(t,s),await this.dragOver(t,s),n&&await new Promise(a=>setTimeout(a,n)),await this.drop(t,s),await this.up()}},Ll=class extends ls{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}updateClient(e){this.#e=e}async tap(e,t){await this.touchStart(e,t),await this.touchEnd()}async touchStart(e,t){let i=[{x:Math.round(e),y:Math.round(t)}];await this.#e.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:i,modifiers:this.#t._modifiers})}async touchMove(e,t){let i=[{x:Math.round(e),y:Math.round(t)}];await this.#e.send("Input.dispatchTouchEvent",{type:"touchMove",touchPoints:i,modifiers:this.#t._modifiers})}async touchEnd(){await this.#e.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this.#t._modifiers})}};yi();Fl();Fe();Ha();ae();var ys=class extends de{timeoutSettings=new $r;#e;#t;#r;constructor(e,t,i,n){super(),this.#t=e,this.#r=t,this.#e=new an(this,new $r),this.#t.once("Runtime.executionContextCreated",async s=>{this.#e.setContext(new gs(e,s.context,this.#e))}),this.#t.on("Runtime.consoleAPICalled",async s=>{try{return i(s.type,s.args.map(a=>new zr(this.#e,a)),s.stackTrace)}catch(a){D(a)}}),this.#t.on("Runtime.exceptionThrown",n),this.#t.send("Runtime.enable").catch(D)}mainRealm(){return this.#e}url(){return this.#r}get client(){return this.#t}async evaluate(e,...t){return e=Ee(this.evaluate.name,e),await this.mainRealm().evaluate(e,...t)}async evaluateHandle(e,...t){return e=Ee(this.evaluateHandle.name,e),await this.mainRealm().evaluateHandle(e,...t)}};var mb=function(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e},gb=function(r){return function(e){function t(n){e.error=e.hasError?new r(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function i(){for(;e.stack.length;){var n=e.stack.pop();try{var s=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(s).then(i,function(a){return t(a),i()})}catch(a){t(a)}}if(e.hasError)throw e.error}return i()}}(typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i}),Bl=class r extends gl{static async _create(e,t,i,n){let s=new r(e,t,i);if(await s.#R(),n)try{await s.setViewport(n)}catch(a){if(Me(a)&&Ka(a))D(a);else throw a}return s}#e=!1;#t;#r;#i;#n;#s;#a=new $r;#o;#l;#c;#u;#h;#p=new Map;#d=new Map;#m;#f;#x=new Map;#g=new Set;#w=z.create();#y=!1;#v=!1;#b=[[ft.FrameAttached,e=>{this.emit("frameattached",e)}],[ft.FrameDetached,e=>{this.emit("framedetached",e)}],[ft.FrameNavigated,e=>{this.emit("framenavigated",e)}]];#_=[[ie.Request,e=>{this.emit("request",e)}],[ie.RequestServedFromCache,e=>{this.emit("requestservedfromcache",e)}],[ie.Response,e=>{this.emit("response",e)}],[ie.RequestFailed,e=>{this.emit("requestfailed",e)}],[ie.RequestFinished,e=>{this.emit("requestfinished",e)}]];#E=[[oe.Disconnected,()=>{this.#w.resolve(new ct("Target closed"))}],["Page.domContentEventFired",()=>this.emit("domcontentloaded",void 0)],["Page.loadEventFired",()=>this.emit("load",void 0)],["Runtime.consoleAPICalled",this.#O.bind(this)],["Runtime.bindingCalled",this.#L.bind(this)],["Page.javascriptDialogOpening",this.#B.bind(this)],["Runtime.exceptionThrown",this.#A.bind(this)],["Inspector.targetCrashed",this.#P.bind(this)],["Performance.metrics",this.#D.bind(this)],["Log.entryAdded",this.#N.bind(this)],["Page.fileChooserOpened",this.#S.bind(this)]];constructor(e,t,i){var n,s;super(),this.#t=e,this.#r=e.parentSession(),this.#i=t,this.#n=new Nl(e),this.#s=new Dl(e,this.#n),this.#o=new Ll(e,this.#n),this.#l=new hs(e),this.#c=new Ol(e,this,i,this.#a),this.#u=new Cl(e),this.#h=new vs(e),this.#m=new ms(e),this.#f=null,this.#k(),(n=this.#r)==null||n.on(oe.Swapped,async a=>{this.#t=a,S(this.#t instanceof Ht,"CDPSession is not instance of CDPSessionImpl"),this.#i=this.#t._target(),S(this.#i,"Missing target on swap"),this.#n.updateClient(a),this.#s.updateClient(a),this.#o.updateClient(a),this.#l.updateClient(a),this.#u.updateClient(a),this.#h.updateClient(a),this.#m.updateClient(a),await this.#c.swapFrameTree(a),this.#k()}),(s=this.#r)==null||s.on(oe.Ready,a=>{S(a instanceof Ht),a._target()._subtype()==="prerender"&&(this.#c.registerSpeculativeSession(a).catch(D),this.#u.registerSpeculativeSession(a).catch(D))})}#k(){this.#t.on(oe.Ready,this.#C),this.#i._targetManager().on("targetGone",this.#T);for(let[e,t]of this.#b)this.#c.on(e,t);for(let[e,t]of this.#_)this.#c.networkManager.on(e,t);for(let[e,t]of this.#E)this.#t.on(e,t);this.#i._isClosedDeferred.valueOrThrow().then(()=>{this.#t.off(oe.Ready,this.#C),this.#i._targetManager().off("targetGone",this.#T),this.emit("close",void 0),this.#e=!0}).catch(D)}#T=e=>{var n;let t=(n=e._session())==null?void 0:n.id(),i=this.#x.get(t);i&&(this.#x.delete(t),this.emit("workerdestroyed",i))};#C=e=>{if(S(e instanceof Ht),this.#c.onAttachedToTarget(e._target()),e._target()._getTargetInfo().type==="worker"){let t=new ys(e,e._target().url(),this.#M.bind(this),this.#A.bind(this));this.#x.set(e.id(),t),this.emit("workercreated",t)}e.on(oe.Ready,this.#C)};async#R(){try{await Promise.all([this.#c.initialize(this.#t),this.#t.send("Performance.enable"),this.#t.send("Log.enable")])}catch(e){if(Me(e)&&Ka(e))D(e);else throw e}}async#S(e){let t={stack:[],error:void 0,hasError:!1};try{if(!this.#g.size)return;let i=this.#c.frame(e.frameId);S(i,"This should never happen.");let n=mb(t,await i.worlds[Kr].adoptBackendNode(e.backendNodeId),!1),s=new El(n.move(),e);for(let a of this.#g)a.resolve(s);this.#g.clear()}catch(i){t.error=i,t.hasError=!0}finally{gb(t)}}_client(){return this.#t}isServiceWorkerBypassed(){return this.#y}isDragInterceptionEnabled(){return this.#v}isJavaScriptEnabled(){return this.#u.javascriptEnabled}async waitForFileChooser(e={}){let t=this.#g.size===0,{timeout:i=this.#a.timeout()}=e,n=z.create({message:`Waiting for \`FileChooser\` failed: ${i}ms exceeded`,timeout:i});this.#g.add(n);let s;t&&(s=this.#t.send("Page.setInterceptFileChooserDialog",{enabled:!0}));try{let[a]=await Promise.all([n.valueOrThrow(),s]);return a}catch(a){throw this.#g.delete(n),a}}async setGeolocation(e){return await this.#u.setGeolocation(e)}target(){return this.#i}browser(){return this.#i.browser()}browserContext(){return this.#i.browserContext()}#P(){this.emit("error",new Error("Page crashed!"))}#N(e){let{level:t,text:i,args:n,source:s,url:a,lineNumber:o}=e.entry;n&&n.map(c=>Pl(this.#t,c)),s!=="worker"&&this.emit("console",new nn(t,i,[],[{url:a,lineNumber:o}]))}mainFrame(){return this.#c.mainFrame()}get keyboard(){return this.#n}get touchscreen(){return this.#o}get coverage(){return this.#m}get tracing(){return this.#h}get accessibility(){return this.#l}frames(){return this.#c.frames()}workers(){return Array.from(this.#x.values())}async setRequestInterception(e){return await this.#c.networkManager.setRequestInterception(e)}async setBypassServiceWorker(e){return this.#y=e,await this.#t.send("Network.setBypassServiceWorker",{bypass:e})}async setDragInterception(e){return this.#v=e,await this.#t.send("Input.setInterceptDrags",{enabled:e})}async setOfflineMode(e){return await this.#c.networkManager.setOfflineMode(e)}async emulateNetworkConditions(e){return await this.#c.networkManager.emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this.#a.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this.#a.setDefaultTimeout(e)}getDefaultTimeout(){return this.#a.timeout()}async queryObjects(e){S(!e.disposed,"Prototype JSHandle is disposed!"),S(e.id,"Prototype JSHandle must not be referencing primitive value");let t=await this.mainFrame().client.send("Runtime.queryObjects",{prototypeObjectId:e.id});return sn(this.mainFrame().mainRealm(),t.objects)}async cookies(...e){let t=(await this.#t.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,i=["priority"],n=s=>{for(let a of i)delete s[a];return s};return t.map(n)}async deleteCookie(...e){let t=this.url();for(let i of e){let n=Object.assign({},i);!i.url&&t.startsWith("http")&&(n.url=t),await this.#t.send("Network.deleteCookies",n)}}async setCookie(...e){let t=this.url(),i=t.startsWith("http"),n=e.map(s=>{let a=Object.assign({},s);return!a.url&&i&&(a.url=t),S(a.url!=="about:blank",`Blank page can not have cookie "${a.name}"`),S(!String.prototype.startsWith.call(a.url||"","data:"),`Data URL page can not have cookie "${a.name}"`),a});await this.deleteCookie(...n),n.length&&await this.#t.send("Network.setCookies",{cookies:n})}async exposeFunction(e,t){if(this.#p.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);let i;switch(typeof t){case"function":i=new bi(e,t);break;default:i=new bi(e,t.default);break}this.#p.set(e,i);let n=Uy("exposedFun",e);await this.#t.send("Runtime.addBinding",{name:e});let{identifier:s}=await this.#t.send("Page.addScriptToEvaluateOnNewDocument",{source:n});this.#d.set(e,s),await Promise.all(this.frames().map(a=>a.evaluate(n).catch(D)))}async removeExposedFunction(e){let t=this.#d.get(e);if(!t)throw new Error(`Failed to remove page binding with name ${e}: window['${e}'] does not exists!`);await this.#t.send("Runtime.removeBinding",{name:e}),await this.removeScriptToEvaluateOnNewDocument(t),await Promise.all(this.frames().map(i=>i.evaluate(n=>{globalThis[n]=void 0},e).catch(D))),this.#d.delete(e),this.#p.delete(e)}async authenticate(e){return await this.#c.networkManager.authenticate(e)}async setExtraHTTPHeaders(e){return await this.#c.networkManager.setExtraHTTPHeaders(e)}async setUserAgent(e,t){return await this.#c.networkManager.setUserAgent(e,t)}async metrics(){let e=await this.#t.send("Performance.getMetrics");return this.#I(e.metrics)}#D(e){this.emit("metrics",{title:e.title,metrics:this.#I(e.metrics)})}#I(e){let t={};for(let i of e||[])cR.has(i.name)&&(t[i.name]=i.value);return t}#A(e){this.emit("pageerror",Dy(e.exceptionDetails))}async#O(e){if(e.executionContextId===0)return;let t=this.#c.getExecutionContextById(e.executionContextId,this.#t);if(!t){D(new Error(`ExecutionContext not found for a console message: ${JSON.stringify(e)}`));return}let i=e.args.map(n=>sn(t._world,n));this.#M(e.type,i,e.stackTrace)}async#L(e){let t;try{t=JSON.parse(e.payload)}catch{return}let{type:i,name:n,seq:s,args:a,isTrivial:o}=t;if(i!=="exposedFun")return;let c=this.#c.executionContextById(e.executionContextId,this.#t);if(!c)return;let l=this.#p.get(n);await(l==null?void 0:l.run(c,s,a,o))}#M(e,t,i){if(!this.listenerCount("console")){t.forEach(o=>o.dispose());return}let n=[];for(let o of t){let c=o.remoteObject();c.objectId?n.push(o.toString()):n.push(fr(c))}let s=[];if(i)for(let o of i.callFrames)s.push({url:o.url,lineNumber:o.lineNumber,columnNumber:o.columnNumber});let a=new nn(e,n.join(" "),t,s);this.emit("console",a)}#B(e){let t=Wc(e.type),i=new kl(this.#t,t,e.message,e.defaultPrompt);this.emit("dialog",i)}async reload(e){let[t]=await Promise.all([this.waitForNavigation(e),this.#t.send("Page.reload")]);return t}async createCDPSession(){return await this.target().createCDPSession()}async waitForRequest(e,t={}){let{timeout:i=this.#a.timeout()}=t;return await mr(this.#c.networkManager,ie.Request,async n=>Ke(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this.#w.valueOrThrow())}async waitForResponse(e,t={}){let{timeout:i=this.#a.timeout()}=t;return await mr(this.#c.networkManager,ie.Response,async n=>Ke(e)?e===n.url():typeof e=="function"?!!await e(n):!1,i,this.#w.valueOrThrow())}async waitForNetworkIdle(e={}){let{idleTime:t=500,timeout:i=this.#a.timeout()}=e;await this._waitForNetworkIdle(this.#c.networkManager,t,i,this.#w)}async goBack(e={}){return await this.#F(-1,e)}async goForward(e={}){return await this.#F(1,e)}async#F(e,t){let i=await this.#t.send("Page.getNavigationHistory"),n=i.entries[i.currentIndex+e];return n?(await Promise.all([this.waitForNavigation(t),this.#t.send("Page.navigateToHistoryEntry",{entryId:n.id})]))[0]:null}async bringToFront(){await this.#t.send("Page.bringToFront")}async setJavaScriptEnabled(e){return await this.#u.setJavaScriptEnabled(e)}async setBypassCSP(e){await this.#t.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){return await this.#u.emulateMediaType(e)}async emulateCPUThrottling(e){return await this.#u.emulateCPUThrottling(e)}async emulateMediaFeatures(e){return await this.#u.emulateMediaFeatures(e)}async emulateTimezone(e){return await this.#u.emulateTimezone(e)}async emulateIdleState(e){return await this.#u.emulateIdleState(e)}async emulateVisionDeficiency(e){return await this.#u.emulateVisionDeficiency(e)}async setViewport(e){let t=await this.#u.emulateViewport(e);this.#f=e,t&&await this.reload()}viewport(){return this.#f}async evaluateOnNewDocument(e,...t){let i=Ra(e,...t),{identifier:n}=await this.#t.send("Page.addScriptToEvaluateOnNewDocument",{source:i});return{identifier:n}}async removeScriptToEvaluateOnNewDocument(e){await this.#t.send("Page.removeScriptToEvaluateOnNewDocument",{identifier:e})}async setCacheEnabled(e=!0){await this.#c.networkManager.setCacheEnabled(e)}async _screenshot(e){let t={stack:[],error:void 0,hasError:!1};try{let{fromSurface:i,omitBackground:n,optimizeForSpeed:s,quality:a,clip:o,type:c,captureBeyondViewport:l}=e,u=mb(t,new Wi,!0);n&&(c==="png"||c==="webp")&&(await this.#u.setTransparentBackgroundColor(),u.defer(async()=>{await this.#u.resetDefaultBackgroundColor()}));let d=o;if(d&&!l){let m=await this.mainFrame().isolatedRealm().evaluate(()=>{let{height:f,pageLeft:h,pageTop:g,width:w}=window.visualViewport;return{x:h,y:g,height:f,width:w}});d=lR(d,m)}let{data:p}=await this.#t.send("Page.captureScreenshot",{format:c,optimizeForSpeed:s,quality:a,clip:d&&{...d,scale:d.scale??1},fromSurface:i,captureBeyondViewport:l});return p}catch(i){t.error=i,t.hasError=!0}finally{let i=gb(t);i&&await i}}async createPDFStream(e={}){let{landscape:t,displayHeaderFooter:i,headerTemplate:n,footerTemplate:s,printBackground:a,scale:o,width:c,height:l,margin:u,pageRanges:d,preferCSSPageSize:p,omitBackground:m,timeout:f}=this._getPDFOptions(e);m&&await this.#u.setTransparentBackgroundColor();let h=this.#t.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:t,displayHeaderFooter:i,headerTemplate:n,footerTemplate:s,printBackground:a,scale:o,paperWidth:c,paperHeight:l,marginTop:u.top,marginBottom:u.bottom,marginLeft:u.left,marginRight:u.right,pageRanges:d,preferCSSPageSize:p}),g=await gr(h,"Page.printToPDF",f);return m&&await this.#u.resetDefaultBackgroundColor(),S(g.stream,"`stream` is missing from `Page.printToPDF"),await Kc(this.#t,g.stream)}async pdf(e={}){let{path:t=void 0}=e,i=await this.createPDFStream(e),n=await zc(i,t);return S(n,"Could not create buffer"),n}async close(e={runBeforeUnload:void 0}){let t=this.#t.connection();S(t,"Protocol error: Connection closed. Most likely the page has been closed."),!!e.runBeforeUnload?await this.#t.send("Page.close"):(await t.send("Target.closeTarget",{targetId:this.#i._targetId}),await this.#i._isClosedDeferred.valueOrThrow())}isClosed(){return this.#e}get mouse(){return this.#s}async waitForDevicePrompt(e={}){return await this.mainFrame().waitForDevicePrompt(e)}},cR=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]);function lR(r,e){let t=Math.max(r.x,e.x),i=Math.max(r.y,e.y);return{x:t,y:i,width:Math.max(Math.min(r.x+r.width,e.x+e.width)-t,0),height:Math.max(Math.min(r.y+r.height,e.y+e.height)-i,0)}}var It;(function(r){r.SUCCESS="success",r.ABORTED="aborted"})(It||(It={}));var on=class extends ps{#e;#t;#r;#i;#n;_initializedDeferred=z.create();_isClosedDeferred=z.create();_targetId;constructor(e,t,i,n,s){super(),this.#t=t,this.#i=n,this.#r=e,this.#e=i,this._targetId=e.targetId,this.#n=s,this.#t&&this.#t instanceof Ht&&this.#t._setTarget(this)}_subtype(){return this.#r.subtype}_session(){return this.#t}_sessionFactory(){if(!this.#n)throw new Error("sessionFactory is not initialized");return this.#n}createCDPSession(){if(!this.#n)throw new Error("sessionFactory is not initialized");return this.#n(!1).then(e=>(e._setTarget(this),e))}url(){return this.#r.url}type(){switch(this.#r.type){case"page":return ht.PAGE;case"background_page":return ht.BACKGROUND_PAGE;case"service_worker":return ht.SERVICE_WORKER;case"shared_worker":return ht.SHARED_WORKER;case"browser":return ht.BROWSER;case"webview":return ht.WEBVIEW;case"tab":return ht.TAB;default:return ht.OTHER}}_targetManager(){if(!this.#i)throw new Error("targetManager is not initialized");return this.#i}_getTargetInfo(){return this.#r}browser(){if(!this.#e)throw new Error("browserContext is not initialised");return this.#e.browser()}browserContext(){if(!this.#e)throw new Error("browserContext is not initialised");return this.#e}opener(){let{openerId:e}=this.#r;if(e)return this.browser()._targets.get(e)}_targetInfoChanged(e){this.#r=e,this._checkIfInitialized()}_initialize(){this._initializedDeferred.resolve(It.SUCCESS)}_checkIfInitialized(){this._initializedDeferred.resolved()||this._initializedDeferred.resolve(It.SUCCESS)}},Va=class r extends on{#e;pagePromise;#t;constructor(e,t,i,n,s,a,o){super(e,t,i,n,s),this.#t=a,this.#e=o??void 0}_initialize(){this._initializedDeferred.valueOrThrow().then(async e=>{if(e===It.ABORTED)return;let t=this.opener();if(!(t instanceof r))return;if(!t||!t.pagePromise||this.type()!=="page")return!0;let i=await t.pagePromise;if(!i.listenerCount("popup"))return!0;let n=await this.page();return i.emit("popup",n),!0}).catch(D),this._checkIfInitialized()}async page(){if(!this.pagePromise){let e=this._session();this.pagePromise=(e?Promise.resolve(e):this._sessionFactory()(!1)).then(t=>Bl._create(t,this,this.#t,this.#e??null))}return await this.pagePromise??null}_checkIfInitialized(){this._initializedDeferred.resolved()||this._getTargetInfo().url!==""&&this._initializedDeferred.resolve(It.SUCCESS)}},jl=class extends Va{},ql=class extends on{#e;async worker(){if(!this.#e){let e=this._session();this.#e=(e?Promise.resolve(e):this._sessionFactory()(!1)).then(t=>new ys(t,this._getTargetInfo().url,()=>{},()=>{}))}return await this.#e}},Ul=class extends on{};function zh(r){return r.type()!==ht.TAB&&!r._subtype()}function uR(r,e){return!!r._subtype()&&!e.subtype}var $l=class extends de{#e;#t=new Map;#r=new Map;#i=new Map;#n=new Set;#s;#a;#o=new WeakMap;#l=new WeakMap;#c=z.create();#u=new Set;#h=!0;#p;#d;constructor(e,t,i,n=!0,s=!1){super(),this.#p=s,this.#d=this.#p?[{}]:[{type:"tab",exclude:!0},{}],this.#e=e,this.#s=i,this.#a=t,this.#h=n,this.#e.on("Target.targetCreated",this.#w),this.#e.on("Target.targetDestroyed",this.#y),this.#e.on("Target.targetInfoChanged",this.#v),this.#e.on(oe.SessionDetached,this.#g),this.#f(this.#e),this.#e.send("Target.setDiscoverTargets",{discover:!0,filter:this.#d}).then(this.#m).catch(D)}#m=()=>{if(this.#h)for(let[e,t]of this.#t.entries()){let i=new on(t,void 0,void 0,this,void 0);(!this.#s||this.#s(i))&&t.type!=="browser"&&this.#u.add(e)}};async initialize(){await this.#e.send("Target.setAutoAttach",{waitForDebuggerOnStart:!0,flatten:!0,autoAttach:!0,filter:this.#p?[{type:"page",exclude:!0},...this.#d]:this.#d}),this.#_(),await this.#c.valueOrThrow()}dispose(){this.#e.off("Target.targetCreated",this.#w),this.#e.off("Target.targetDestroyed",this.#y),this.#e.off("Target.targetInfoChanged",this.#v),this.#e.off(oe.SessionDetached,this.#g),this.#x(this.#e)}getAvailableTargets(){let e=new Map;for(let[t,i]of this.#r.entries())zh(i)&&e.set(t,i);return e}#f(e){let t=n=>{this.#b(e,n)};S(!this.#o.has(e)),this.#o.set(e,t),e.on("Target.attachedToTarget",t);let i=n=>this.#E(e,n);S(!this.#l.has(e)),this.#l.set(e,i),e.on("Target.detachedFromTarget",i)}#x(e){let t=this.#o.get(e);t&&(e.off("Target.attachedToTarget",t),this.#o.delete(e)),this.#l.has(e)&&(e.off("Target.detachedFromTarget",this.#l.get(e)),this.#l.delete(e))}#g=e=>{this.#x(e)};#w=async e=>{if(this.#t.set(e.targetInfo.targetId,e.targetInfo),this.emit("targetDiscovered",e.targetInfo),e.targetInfo.type==="browser"&&e.targetInfo.attached){if(this.#r.has(e.targetInfo.targetId))return;let t=this.#a(e.targetInfo,void 0);t._initialize(),this.#r.set(e.targetInfo.targetId,t)}};#y=e=>{let t=this.#t.get(e.targetId);if(this.#t.delete(e.targetId),this.#_(e.targetId),(t==null?void 0:t.type)==="service_worker"&&this.#r.has(e.targetId)){let i=this.#r.get(e.targetId);i&&(this.emit("targetGone",i),this.#r.delete(e.targetId))}};#v=e=>{var s;if(this.#t.set(e.targetInfo.targetId,e.targetInfo),this.#n.has(e.targetInfo.targetId)||!this.#r.has(e.targetInfo.targetId)||!e.targetInfo.attached)return;let t=this.#r.get(e.targetInfo.targetId);if(!t)return;let i=t.url(),n=t._initializedDeferred.value()===It.SUCCESS;if(uR(t,e.targetInfo)){let a=this.#r.get(e.targetInfo.targetId),o=a==null?void 0:a._session();S(o,"Target that is being activated is missing a CDPSession."),(s=o.parentSession())==null||s.emit(oe.Swapped,o)}t._targetInfoChanged(e.targetInfo),n&&i!==t.url()&&this.emit("targetChanged",{target:t,wasInitialized:n,previousURL:i})};#b=async(e,t)=>{let i=t.targetInfo,n=this.#e.session(t.sessionId);if(!n)throw new Error(`Session ${t.sessionId} was not created.`);let s=async()=>{await n.send("Runtime.runIfWaitingForDebugger").catch(D),await e.send("Target.detachFromTarget",{sessionId:n.id()}).catch(D)};if(!this.#e.isAutoAttached(i.targetId))return;if(i.type==="service_worker"){if(this.#_(i.targetId),await s(),this.#r.has(i.targetId))return;let c=this.#a(i);c._initialize(),this.#r.set(i.targetId,c),this.emit("targetAvailable",c);return}let a=this.#r.has(i.targetId),o=a?this.#r.get(i.targetId):this.#a(i,n,e instanceof qr?e:void 0);if(this.#s&&!this.#s(o)){this.#n.add(i.targetId),this.#_(i.targetId),await s();return}this.#f(n),a?(n._setTarget(o),this.#i.set(n.id(),this.#r.get(i.targetId))):(o._initialize(),this.#r.set(i.targetId,o),this.#i.set(n.id(),o)),e instanceof qr?e.emit(oe.Ready,n):e.emit(oe.Ready,n),this.#u.delete(o._targetId),!a&&zh(o)&&this.emit("targetAvailable",o),this.#_(),await Promise.all([n.send("Target.setAutoAttach",{waitForDebuggerOnStart:!0,flatten:!0,autoAttach:!0,filter:this.#d}),n.send("Runtime.runIfWaitingForDebugger")]).catch(D)};#_(e){e!==void 0&&this.#u.delete(e),this.#u.size===0&&this.#c.resolve()}#E=(e,t)=>{let i=this.#i.get(t.sessionId);this.#i.delete(t.sessionId),i&&(this.#r.delete(i._targetId),zh(i)&&this.emit("targetGone",i))}};Kt();Fe();le();Te();var zl=class extends de{#e;#t=new Map;#r=new Map;#i=new Map;#n=new Set;#s;#a;#o=new WeakMap;#l=z.create();#c=new Set;constructor(e,t,i){super(),this.#e=e,this.#s=i,this.#a=t,this.#e.on("Target.targetCreated",this.#h),this.#e.on("Target.targetDestroyed",this.#p),this.#e.on(oe.SessionDetached,this.#u),this.setupAttachmentListeners(this.#e)}setupAttachmentListeners(e){let t=i=>this.#d(e,i);S(!this.#o.has(e)),this.#o.set(e,t),e.on("Target.attachedToTarget",t)}#u=e=>{this.removeSessionListeners(e),this.#i.delete(e.id())};removeSessionListeners(e){this.#o.has(e)&&(e.off("Target.attachedToTarget",this.#o.get(e)),this.#o.delete(e))}getAvailableTargets(){return this.#r}dispose(){this.#e.off("Target.targetCreated",this.#h),this.#e.off("Target.targetDestroyed",this.#p)}async initialize(){await this.#e.send("Target.setDiscoverTargets",{discover:!0,filter:[{}]}),this.#c=new Set(this.#t.keys()),await this.#l.valueOrThrow()}#h=async e=>{if(this.#t.has(e.targetInfo.targetId))return;if(this.#t.set(e.targetInfo.targetId,e.targetInfo),e.targetInfo.type==="browser"&&e.targetInfo.attached){let i=this.#a(e.targetInfo,void 0);i._initialize(),this.#r.set(e.targetInfo.targetId,i),this.#m(i._targetId);return}let t=this.#a(e.targetInfo,void 0);if(this.#s&&!this.#s(t)){this.#n.add(e.targetInfo.targetId),this.#m(e.targetInfo.targetId);return}t._initialize(),this.#r.set(e.targetInfo.targetId,t),this.emit("targetAvailable",t),this.#m(t._targetId)};#p=e=>{this.#t.delete(e.targetId),this.#m(e.targetId);let t=this.#r.get(e.targetId);t&&(this.emit("targetGone",t),this.#r.delete(e.targetId))};#d=async(e,t)=>{let i=t.targetInfo,n=this.#e.session(t.sessionId);if(!n)throw new Error(`Session ${t.sessionId} was not created.`);let s=this.#r.get(i.targetId);S(s,`Target ${i.targetId} is missing`),this.setupAttachmentListeners(n),this.#i.set(n.id(),this.#r.get(i.targetId)),e.emit(oe.Ready,n)};#m(e){this.#c.delete(e),this.#c.size===0&&this.#l.resolve()}};var bs=class r extends Wn{static async _create(e,t,i,n,s,a,o,c,l,u=!0,d=Ia){let p=new r(e,t,i,n,s,a,o,c,l,u,d);return await p._attach(),p}#e;#t;#r;#i;#n;#s;#a;#o;#l=new Map;#c;get _targets(){return this.#c.getAvailableTargets()}constructor(e,t,i,n,s,a,o,c,l,u=!0,d=Ia){super(),e=e||"chrome",this.#e=n,this.#t=s,this.#r=a,this.#i=t,this.#n=o||function(){},this.#s=c||(()=>!0),this.#h(l),e==="firefox"?this.#c=new zl(t,this.#p,this.#s):this.#c=new $l(t,this.#p,this.#s,u,d),this.#o=new Ga(this.#i,this);for(let p of i)this.#l.set(p,new Ga(this.#i,this,p))}#u=()=>{this.emit("disconnected",void 0)};async _attach(){this.#i.on(oe.Disconnected,this.#u),this.#c.on("targetAvailable",this.#d),this.#c.on("targetGone",this.#m),this.#c.on("targetChanged",this.#f),this.#c.on("targetDiscovered",this.#x),await this.#c.initialize()}_detach(){this.#i.off(oe.Disconnected,this.#u),this.#c.off("targetAvailable",this.#d),this.#c.off("targetGone",this.#m),this.#c.off("targetChanged",this.#f),this.#c.off("targetDiscovered",this.#x)}process(){return this.#r??null}_targetManager(){return this.#c}#h(e){this.#a=e||(t=>t.type()==="page"||t.type()==="background_page"||t.type()==="webview")}_getIsPageTargetCallback(){return this.#a}async createIncognitoBrowserContext(e={}){let{proxyServer:t,proxyBypassList:i}=e,{browserContextId:n}=await this.#i.send("Target.createBrowserContext",{proxyServer:t,proxyBypassList:i&&i.join(",")}),s=new Ga(this.#i,this,n);return this.#l.set(n,s),s}browserContexts(){return[this.#o,...Array.from(this.#l.values())]}defaultBrowserContext(){return this.#o}async _disposeContext(e){e&&(await this.#i.send("Target.disposeBrowserContext",{browserContextId:e}),this.#l.delete(e))}#p=(e,t)=>{var o;let{browserContextId:i}=e,n=i&&this.#l.has(i)?this.#l.get(i):this.#o;if(!n)throw new Error("Missing browser context");let s=c=>this.#i._createSession(e,c),a=new Ul(e,t,n,this.#c,s);return(o=e.url)!=null&&o.startsWith("devtools://")?new jl(e,t,n,this.#c,s,this.#e,this.#t??null):this.#a(a)?new Va(e,t,n,this.#c,s,this.#e,this.#t??null):e.type==="service_worker"||e.type==="shared_worker"?new ql(e,t,n,this.#c,s):a};#d=async e=>{await e._initializedDeferred.valueOrThrow()===It.SUCCESS&&(this.emit("targetcreated",e),e.browserContext().emit("targetcreated",e))};#m=async e=>{e._initializedDeferred.resolve(It.ABORTED),e._isClosedDeferred.resolve(),await e._initializedDeferred.valueOrThrow()===It.SUCCESS&&(this.emit("targetdestroyed",e),e.browserContext().emit("targetdestroyed",e))};#f=({target:e})=>{this.emit("targetchanged",e),e.browserContext().emit("targetchanged",e)};#x=e=>{this.emit("targetdiscovered",e)};wsEndpoint(){return this.#i.url()}async newPage(){return await this.#o.newPage()}async _createPageInContext(e){let{targetId:t}=await this.#i.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),i=await this.waitForTarget(a=>a._targetId===t);if(!i)throw new Error(`Missing target for page (id = ${t})`);if(!(await i._initializedDeferred.valueOrThrow()===It.SUCCESS))throw new Error(`Failed to create target for page (id = ${t})`);let s=await i.page();if(!s)throw new Error(`Failed to create a page for context (id = ${e})`);return s}targets(){return Array.from(this.#c.getAvailableTargets().values()).filter(e=>e._initializedDeferred.value()===It.SUCCESS)}target(){let e=this.targets().find(t=>t.type()==="browser");if(!e)throw new Error("Browser target is not found");return e}async version(){return(await this.#g()).product}async userAgent(){return(await this.#g()).userAgent}async close(){await this.#n.call(null),this.disconnect()}disconnect(){this.#c.dispose(),this.#i.dispose(),this._detach()}get connected(){return!this.#i._closed}#g(){return this.#i.send("Browser.getVersion")}},Ga=class extends Vn{#e;#t;#r;constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#r=i}get id(){return this.#r}targets(){return this.#t.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this.#t.waitForTarget(i=>i.browserContext()===this&&e(i),t)}async pages(){return(await Promise.all(this.targets().filter(t=>{var i;return t.type()==="page"||t.type()==="other"&&((i=this.#t._getIsPageTargetCallback())==null?void 0:i(t))}).map(t=>t.page()))).filter(t=>!!t)}isIncognito(){return!!this.#r}async overridePermissions(e,t){let i=t.map(n=>{let s=zy.get(n);if(!s)throw new Error("Unknown permission: "+n);return s});await this.#e.send("Browser.grantPermissions",{origin:e,browserContextId:this.#r||void 0,permissions:i})}async clearPermissionOverrides(){await this.#e.send("Browser.resetPermissions",{browserContextId:this.#r||void 0})}newPage(){return this.#t._createPageInContext(this.#r)}browser(){return this.#t}async close(){S(this.#r,"Non-incognito profiles cannot be closed!"),await this.#t._disposeContext(this.#r)}};var wb=async()=>globalThis.fetch||(await Promise.resolve().then(()=>V(xb(),1))).fetch;ae();Ji();le();zt();_i();var P0=async()=>jn?(await Promise.resolve().then(()=>(pf(),C0))).NodeWebSocketTransport:(await Promise.resolve().then(()=>(ff(),T0))).BrowserWebSocketTransport;async function I0(r){let{browserWSEndpoint:e,browserURL:t,ignoreHTTPSErrors:i=!1,defaultViewport:n={width:800,height:600},transport:s,headers:a={},slowMo:o=0,targetFilter:c,_isPageTarget:l,protocolTimeout:u}=r;S(+!!e+ +!!t+ +!!s==1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let d;if(s)d=new Ur("",s,o,u);else if(e){let w=await(await P0()).create(e,a);d=new Ur(e,w,o,u)}else if(t){let g=await IM(t),v=await(await P0()).create(g);d=new Ur(g,v,o,u)}let m=(await d.send("Browser.getVersion")).product.toLowerCase().includes("firefox")?"firefox":"chrome",{browserContextIds:f}=await d.send("Target.getBrowserContexts");return await bs._create(m||"chrome",d,f,i,n,void 0,()=>d.send("Browser.close").catch(D),c,l)}async function IM(r){let e=new URL("/json/version",r),t=await wb();try{let i=await t(e.toString(),{method:"GET"});if(!i.ok)throw new Error(`HTTP ${i.statusText}`);return(await i.json()).webSocketDebuggerUrl}catch(i){throw Me(i)&&(i.message=`Failed to fetch browser webSocket URL from ${e}: `+i.message),i}}fs();_i();Sl();Tl();Al();gh();wh();vh();yi();var Zq=Object.freeze({"Slow 3G":{download:5e4,upload:5e4,latency:2e3},"Fast 3G":{download:18e4,upload:84375,latency:562.5}});La();var tu=class{static customQueryHandlers=Da;static registerCustomQueryHandler(e,t){return this.customQueryHandlers.register(e,t)}static unregisterCustomQueryHandler(e){return this.customQueryHandlers.unregister(e)}static customQueryHandlerNames(){return this.customQueryHandlers.names()}static clearCustomQueryHandlers(){return this.customQueryHandlers.clear()}_isPuppeteerCore;_changedProduct=!1;constructor(e){this._isPuppeteerCore=e.isPuppeteerCore,this.connect=this.connect.bind(this)}connect(e){return I0(e)}};Fl();ff();_l();La();zn();var RM=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S8",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:360,height:740,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S8 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:740,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S9+",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:320,height:658,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S9+ landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:658,height:320,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Tab S4",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:712,height:1138,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Tab S4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:1138,height:712,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 6)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 6) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 7)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:810,height:1080,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 7) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1080,height:810,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro 11",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:834,height:1194,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro 11 landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1194,height:834,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 3",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:393,height:786,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 3 landscape",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:786,height:393,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4a (5G)",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4a (5G) landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 5",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:393,height:851,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:851,height:393,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Moto G4",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Moto G4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}}],R0={};for(let r of RM)R0[r.name]=r;var qU=Object.freeze(R0);bt();Fe();ol();Zc();hi();yh();nh();ih();fi();Na();xh();sh();Ha();_h();ah();ae();var Y1=require("fs/promises"),Q1=V(require("path"),1);var _f=V(require("child_process"),1),e_=require("fs"),lo=V(require("os"),1),t_=V(require("path"),1),r_=V(require("readline"),1);var au=V(require("path"),1);var iu=V(require("path"),1);var O0=V(require("http"),1),N0=V(require("https"),1),ru=require("url"),D0=V(A0(),1);function L0(r,e,t,i=!0){let n={protocol:r.protocol,hostname:r.hostname,port:r.port,path:r.pathname+r.search,method:e,headers:i?{Connection:"keep-alive"}:void 0,auth:(0,ru.urlToHttpOptions)(r).auth,agent:new D0.ProxyAgent},s=o=>{o.statusCode&&o.statusCode>=300&&o.statusCode<400&&o.headers.location?L0(new ru.URL(o.headers.location),e,t):t(o)},a=n.protocol==="https:"?N0.request(n,s):O0.request(n,s);return a.end(),a}async function Ts(r){let e=await mf(r);try{return JSON.parse(e)}catch{throw new Error("Could not parse JSON from "+r.toString())}}function mf(r){return new Promise((e,t)=>{L0(r,"GET",n=>{let s="";if(n.statusCode&&n.statusCode>=400)return t(new Error(`Got status code ${n.statusCode}`));n.on("data",a=>{s+=a}),n.on("end",()=>{try{return e(String(s))}catch{return t(new Error("Chrome version not found"))}})},!1).on("error",n=>{t(n)})})}function nu(r){switch(r){case F.LINUX:return"linux64";case F.MAC_ARM:return"mac-arm64";case F.MAC:return"mac-x64";case F.WIN32:return"win32";case F.WIN64:return"win64"}}function so(r,e,t="https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing"){return`${t}/${gf(r,e).join("/")}`}function gf(r,e){return[e,nu(r),`chrome-${nu(r)}.zip`]}function F0(r,e){switch(r){case F.MAC:case F.MAC_ARM:return iu.default.join("chrome-"+nu(r),"Google Chrome for Testing.app","Contents","MacOS","Google Chrome for Testing");case F.LINUX:return iu.default.join("chrome-linux64","chrome");case F.WIN32:case F.WIN64:return iu.default.join("chrome-"+nu(r),"chrome.exe")}}async function MM(r){let e=await Ts(new URL("https://googlechromelabs.github.io/chrome-for-testing/last-known-good-versions.json"));for(let t of Object.keys(e.channels))e.channels[t.toLowerCase()]=e.channels[t],delete e.channels[t];return e.channels[r]}async function AM(r){return(await Ts(new URL("https://googlechromelabs.github.io/chrome-for-testing/latest-versions-per-milestone.json"))).milestones[r]}async function OM(r){return(await Ts(new URL("https://googlechromelabs.github.io/chrome-for-testing/latest-patch-versions-per-build.json"))).builds[r]}async function je(r){var e,t;if(Object.values(ce).includes(r))return(await MM(r)).version;if(r.match(/^\d+$/))return(e=await AM(r))==null?void 0:e.version;if(r.match(/^\d+\.\d+\.\d+$/))return(t=await OM(r))==null?void 0:t.version}function B0(r,e){switch(r){case F.WIN64:case F.WIN32:switch(e){case ce.STABLE:return`${process.env.PROGRAMFILES}\\Google\\Chrome\\Application\\chrome.exe`;case ce.BETA:return`${process.env.PROGRAMFILES}\\Google\\Chrome Beta\\Application\\chrome.exe`;case ce.CANARY:return`${process.env.PROGRAMFILES}\\Google\\Chrome SxS\\Application\\chrome.exe`;case ce.DEV:return`${process.env.PROGRAMFILES}\\Google\\Chrome Dev\\Application\\chrome.exe`}case F.MAC_ARM:case F.MAC:switch(e){case ce.STABLE:return"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";case ce.BETA:return"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta";case ce.CANARY:return"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary";case ce.DEV:return"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev"}case F.LINUX:switch(e){case ce.STABLE:return"/opt/google/chrome/chrome";case ce.BETA:return"/opt/google/chrome-beta/chrome";case ce.DEV:return"/opt/google/chrome-unstable/chrome"}}throw new Error(`Unable to detect browser executable path for '${e}' on ${r}.`)}var Ps=V(require("fs"),1),dn=V(require("path"),1);function NM(r,e){switch(r){case F.LINUX:return`firefox-${e}.en-US.${r}-x86_64.tar.bz2`;case F.MAC_ARM:case F.MAC:return`firefox-${e}.en-US.mac.dmg`;case F.WIN32:case F.WIN64:return`firefox-${e}.en-US.${r}.zip`}}function su(r,e,t="https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central"){return`${t}/${xf(r,e).join("/")}`}function xf(r,e){return[NM(r,e)]}function q0(r,e){switch(r){case F.MAC_ARM:case F.MAC:return dn.default.join("Firefox Nightly.app","Contents","MacOS","firefox");case F.LINUX:return dn.default.join("firefox","firefox");case F.WIN32:case F.WIN64:return dn.default.join("firefox","firefox.exe")}}async function U0(r="FIREFOX_NIGHTLY"){let t=(await Ts(new URL("https://product-details.mozilla.org/1.0/firefox_versions.json")))[r];if(!t)throw new Error(`Channel ${r} is not found.`);return t}async function $0(r){Ps.default.existsSync(r.path)||await Ps.default.promises.mkdir(r.path,{recursive:!0}),await LM({preferences:{...DM(r.preferences),...r.preferences},path:r.path})}function DM(r){let e="dummy.test",t={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.translations.automaticallyPopup":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${e}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${e}/dummy/discoveryURL`,"fission.bfcacheInParent":!1,"fission.webContentIsolationStrategy":0,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":e,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${e}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(t,r)}async function LM(r){let e=Object.entries(r.preferences).map(([i,n])=>`user_pref(${JSON.stringify(i)}, ${JSON.stringify(n)});`);await Ps.default.promises.writeFile(dn.default.join(r.path,"user.js"),e.join(`
`));let t=dn.default.join(r.path,"prefs.js");if(Ps.default.existsSync(t)){let i=dn.default.join(r.path,"prefs.js.puppeteer");await Ps.default.promises.copyFile(t,i)}}var X;(function(r){r.CHROME="chrome",r.CHROMEHEADLESSSHELL="chrome-headless-shell",r.CHROMIUM="chromium",r.FIREFOX="firefox",r.CHROMEDRIVER="chromedriver"})(X||(X={}));var F;(function(r){r.LINUX="linux",r.MAC="mac",r.MAC_ARM="mac_arm",r.WIN32="win32",r.WIN64="win64"})(F||(F={}));var T8={[X.CHROME]:so,[X.CHROMIUM]:so,[X.FIREFOX]:su},be;(function(r){r.CANARY="canary",r.BETA="beta",r.DEV="dev",r.STABLE="stable",r.LATEST="latest"})(be||(be={}));var ce;(function(r){r.STABLE="stable",r.DEV="dev",r.CANARY="canary",r.BETA="beta"})(ce||(ce={}));function ou(r){switch(r){case F.LINUX:return"linux64";case F.MAC_ARM:return"mac-arm64";case F.MAC:return"mac-x64";case F.WIN32:return"win32";case F.WIN64:return"win64"}}function K0(r,e,t="https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing"){return`${t}/${wf(r,e).join("/")}`}function wf(r,e){return[e,ou(r),`chrome-headless-shell-${ou(r)}.zip`]}function H0(r,e){switch(r){case F.MAC:case F.MAC_ARM:return au.default.join("chrome-headless-shell-"+ou(r),"chrome-headless-shell");case F.LINUX:return au.default.join("chrome-headless-shell-linux64","chrome-headless-shell");case F.WIN32:case F.WIN64:return au.default.join("chrome-headless-shell-"+ou(r),"chrome-headless-shell.exe")}}var cu=V(require("path"),1);function lu(r){switch(r){case F.LINUX:return"linux64";case F.MAC_ARM:return"mac-arm64";case F.MAC:return"mac-x64";case F.WIN32:return"win32";case F.WIN64:return"win64"}}function W0(r,e,t="https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing"){return`${t}/${vf(r,e).join("/")}`}function vf(r,e){return[e,lu(r),`chromedriver-${lu(r)}.zip`]}function V0(r,e){switch(r){case F.MAC:case F.MAC_ARM:return cu.default.join("chromedriver-"+lu(r),"chromedriver");case F.LINUX:return cu.default.join("chromedriver-linux64","chromedriver");case F.WIN32:case F.WIN64:return cu.default.join("chromedriver-"+lu(r),"chromedriver.exe")}}var uu=V(require("path"),1);function jM(r,e){switch(r){case F.LINUX:return"chrome-linux";case F.MAC_ARM:case F.MAC:return"chrome-mac";case F.WIN32:case F.WIN64:return parseInt(e,10)>591479?"chrome-win":"chrome-win32"}}function G0(r){switch(r){case F.LINUX:return"Linux_x64";case F.MAC_ARM:return"Mac_Arm";case F.MAC:return"Mac";case F.WIN32:return"Win";case F.WIN64:return"Win_x64"}}function X0(r,e,t="https://storage.googleapis.com/chromium-browser-snapshots"){return`${t}/${yf(r,e).join("/")}`}function yf(r,e){return[G0(r),e,`${jM(r,e)}.zip`]}function J0(r,e){switch(r){case F.MAC:case F.MAC_ARM:return uu.default.join("chrome-mac","Chromium.app","Contents","MacOS","Chromium");case F.LINUX:return uu.default.join("chrome-linux","chrome");case F.WIN32:case F.WIN64:return uu.default.join("chrome-win","chrome.exe")}}async function Y0(r){return await mf(new URL(`https://storage.googleapis.com/chromium-browser-snapshots/${G0(r)}/LAST_CHANGE`))}var UM={[X.CHROMEDRIVER]:W0,[X.CHROMEHEADLESSSHELL]:K0,[X.CHROME]:so,[X.CHROMIUM]:X0,[X.FIREFOX]:su},L8={[X.CHROMEDRIVER]:vf,[X.CHROMEHEADLESSSHELL]:wf,[X.CHROME]:gf,[X.CHROMIUM]:yf,[X.FIREFOX]:xf},Q0={[X.CHROMEDRIVER]:V0,[X.CHROMEHEADLESSSHELL]:H0,[X.CHROME]:F0,[X.CHROMIUM]:J0,[X.FIREFOX]:q0};async function du(r,e,t){switch(r){case X.FIREFOX:switch(t){case be.LATEST:return await U0("FIREFOX_NIGHTLY");case be.BETA:case be.CANARY:case be.DEV:case be.STABLE:throw new Error(`${t} is not supported for ${r}. Use 'latest' instead.`)}case X.CHROME:{switch(t){case be.LATEST:return await je(ce.CANARY);case be.BETA:return await je(ce.BETA);case be.CANARY:return await je(ce.CANARY);case be.DEV:return await je(ce.DEV);case be.STABLE:return await je(ce.STABLE);default:let i=await je(t);if(i)return i}return t}case X.CHROMEDRIVER:{switch(t){case be.LATEST:case be.CANARY:return await je(ce.CANARY);case be.BETA:return await je(ce.BETA);case be.DEV:return await je(ce.DEV);case be.STABLE:return await je(ce.STABLE);default:let i=await je(t);if(i)return i}return t}case X.CHROMEHEADLESSSHELL:{switch(t){case be.LATEST:case be.CANARY:return await je(ce.CANARY);case be.BETA:return await je(ce.BETA);case be.DEV:return await je(ce.DEV);case be.STABLE:return await je(ce.STABLE);default:let i=await je(t);if(i)return i}return t}case X.CHROMIUM:switch(t){case be.LATEST:return await Y0(e);case be.BETA:case be.CANARY:case be.DEV:case be.STABLE:throw new Error(`${t} is not supported for ${r}. Use 'latest' instead.`)}}return t}async function bf(r,e){switch(r){case X.FIREFOX:return await $0(e);case X.CHROME:case X.CHROMIUM:throw new Error(`Profile creation is not support for ${r} yet`)}}function Z0(r,e,t){switch(r){case X.CHROMEDRIVER:case X.CHROMEHEADLESSSHELL:case X.FIREFOX:case X.CHROMIUM:throw new Error(`System browser detection is not supported for ${r} yet.`);case X.CHROME:return B0(e,t)}}var Is=V(require("fs"),1),ao=V(require("path"),1);var oo=class{browser;buildId;platform;#e;constructor(e,t,i,n){this.#e=e,this.browser=t,this.buildId=i,this.platform=n}get path(){return this.#e.installationDir(this.browser,this.platform,this.buildId)}get executablePath(){return Rs({cacheDir:this.#e.rootDir,platform:this.platform,browser:this.browser,buildId:this.buildId})}},ir=class{#e;constructor(e){this.#e=e}get rootDir(){return this.#e}browserRoot(e){return ao.default.join(this.#e,e)}installationDir(e,t,i){return ao.default.join(this.browserRoot(e),`${t}-${i}`)}clear(){Is.default.rmSync(this.#e,{force:!0,recursive:!0,maxRetries:10,retryDelay:500})}uninstall(e,t,i){Is.default.rmSync(this.installationDir(e,t,i),{force:!0,recursive:!0,maxRetries:10,retryDelay:500})}getInstalledBrowsers(){return Is.default.existsSync(this.#e)?Is.default.readdirSync(this.#e).filter(i=>Object.values(X).includes(i)).flatMap(i=>Is.default.readdirSync(this.browserRoot(i)).map(s=>{let a=$M(ao.default.join(this.browserRoot(i),s));return a?new oo(this,i,a.buildId,a.platform):null}).filter(s=>s!==null)):[]}};function $M(r){let t=ao.default.basename(r).split("-");if(t.length!==2)return;let[i,n]=t;if(!(!n||!i))return{platform:i,buildId:n}}var co=V(qc(),1);var Ms=V(require("os"),1);function nr(){switch(Ms.default.platform()){case"darwin":return Ms.default.arch()==="arm64"?F.MAC_ARM:F.MAC;case"linux":return F.LINUX;case"win32":return Ms.default.arch()==="x64"||Ms.default.arch()==="arm64"&&zM(Ms.default.release())?F.WIN64:F.WIN32;default:return}}function zM(r){let e=r.split(".");if(e.length>2){let t=parseInt(e[0],10),i=parseInt(e[1],10),n=parseInt(e[2],10);return t>10||t===10&&i>0||t===10&&i===0&&n>=22e3}return!1}var pn=(0,co.default)("puppeteer:browsers:launcher");function Rs(r){if(r.platform??=nr(),!r.platform)throw new Error(`Cannot download a binary for the provided platform: ${lo.default.platform()} (${lo.default.arch()})`);let e=new ir(r.cacheDir).installationDir(r.browser,r.platform,r.buildId);return t_.default.join(e,Q0[r.browser](r.platform,r.buildId))}function hu(r){if(r.platform??=nr(),!r.platform)throw new Error(`Cannot download a binary for the provided platform: ${lo.default.platform()} (${lo.default.arch()})`);let e=Z0(r.browser,r.platform,r.channel);try{(0,e_.accessSync)(e)}catch{throw new Error(`Could not find Google Chrome executable for channel '${r.channel}' at '${e}'.`)}return e}function fu(r){return new pu(r)}var Ef=/^DevTools listening on (ws:\/\/.*)$/,Sf=/^WebDriver BiDi listening on (ws:\/\/.*)$/,pu=class{#e;#t;#r;#i=!1;#n=!1;#s=async()=>{};#a;constructor(e){var i,n;this.#e=e.executablePath,this.#t=e.args??[],e.pipe??=!1,e.dumpio??=!1,e.handleSIGINT??=!0,e.handleSIGTERM??=!0,e.handleSIGHUP??=!0,e.detached??=process.platform!=="win32";let t=this.#l({pipe:e.pipe,dumpio:e.dumpio});pn(`Launching ${this.#e} ${this.#t.join(" ")}`,{detached:e.detached,env:e.env,stdio:t}),this.#r=_f.default.spawn(this.#e,this.#t,{detached:e.detached,env:e.env,stdio:t}),pn(`Launched ${this.#r.pid}`),e.dumpio&&((i=this.#r.stderr)==null||i.pipe(process.stderr),(n=this.#r.stdout)==null||n.pipe(process.stdout)),process.on("exit",this.#u),e.handleSIGINT&&process.on("SIGINT",this.#h),e.handleSIGTERM&&process.on("SIGTERM",this.#h),e.handleSIGHUP&&process.on("SIGHUP",this.#h),e.onExit&&(this.#s=e.onExit),this.#a=new Promise((s,a)=>{this.#r.once("exit",async()=>{pn(`Browser process ${this.#r.pid} onExit`),this.#c(),this.#i=!0;try{await this.#o()}catch(o){a(o);return}s()})})}async#o(){this.#n||(this.#n=!0,await this.#s())}get nodeProcess(){return this.#r}#l(e){return e.pipe?e.dumpio?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]:e.dumpio?["pipe","pipe","pipe"]:["pipe","ignore","pipe"]}#c(){process.off("exit",this.#u),process.off("SIGINT",this.#h),process.off("SIGTERM",this.#h),process.off("SIGHUP",this.#h)}#u=e=>{this.kill()};#h=e=>{switch(e){case"SIGINT":this.kill(),process.exit(130);case"SIGTERM":case"SIGHUP":this.close();break}};async close(){return await this.#o(),this.#i||this.kill(),await this.#a}hasClosed(){return this.#a}kill(){if(pn(`Trying to kill ${this.#r.pid}`),this.#r&&this.#r.pid&&HM(this.#r.pid))try{if(pn(`Browser process ${this.#r.pid} exists`),process.platform==="win32")try{_f.default.execSync(`taskkill /pid ${this.#r.pid} /T /F`)}catch(e){pn(`Killing ${this.#r.pid} using taskkill failed`,e),this.#r.kill()}else{let e=-this.#r.pid;try{process.kill(e,"SIGKILL")}catch(t){pn(`Killing ${this.#r.pid} using process.kill failed`,t),this.#r.kill("SIGKILL")}}}catch(e){throw new Error(`${KM}
Error cause: ${i_(e)?e.stack:e}`)}this.#c()}waitForLineOutput(e,t=0){if(!this.#r.stderr)throw new Error("`browserProcess` does not have stderr.");let i=r_.default.createInterface(this.#r.stderr),n="";return new Promise((s,a)=>{i.on("line",d),i.on("close",l),this.#r.on("exit",l),this.#r.on("error",l);let o=t>0?setTimeout(u,t):void 0,c=()=>{o&&clearTimeout(o),i.off("line",d),i.off("close",l),this.#r.off("exit",l),this.#r.off("error",l)};function l(p){c(),a(new Error([`Failed to launch the browser process!${p?" "+p.message:""}`,n,"","TROUBLESHOOTING: https://pptr.dev/troubleshooting",""].join(`
`)))}function u(){c(),a(new As(`Timed out after ${t} ms while waiting for the WS endpoint URL to appear in stdout!`))}function d(p){n+=p+`
`;let m=p.match(e);m&&(c(),s(m[1]))}})}},KM=`Puppeteer was unable to kill the process which ran the browser binary.
This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
If you think this is a bug, please report it on the Puppeteer issue tracker.`;function HM(r){try{return process.kill(r,0)}catch(e){if(WM(e)&&e.code&&e.code==="ESRCH")return!1;throw e}}function i_(r){return typeof r=="object"&&r!==null&&"name"in r&&"message"in r}function WM(r){return i_(r)&&("errno"in r||"code"in r||"path"in r||"syscall"in r)}var As=class extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}};var wm=V(require("os"),1);var YE=require("child_process");var QE=require("util"),kO=V(N_(),1),CO=V(jE(),1),TO=V(JE(),1),S7=(0,QE.promisify)(YE.exec);var D7=(0,co.default)("puppeteer:browsers:install");async function vm(r){if(r.platform??=nr(),!r.platform)throw new Error(`Cannot detect the browser platform for: ${wm.default.platform()} (${wm.default.arch()})`);new ir(r.cacheDir).uninstall(r.browser,r.platform,r.buildId)}async function ym(r){return new ir(r.cacheDir).getInstalledBrowsers()}var IO=V(iS(),1),RO=V(sS(),1),MO=V(oS(),1);ae();Ji();le();var px=require("fs"),G1=require("os"),X1=require("path");_i();bt();ae();pf();Fe();ae();le();Ce();var qu=class{#e;#t=new ot;#r=!1;#i="";onclose;onmessage;constructor(e,t){this.#e=e,this.#t.use(new ge(t,"data",i=>this.#n(i))),this.#t.use(new ge(t,"close",()=>{this.onclose&&this.onclose.call(null)})),this.#t.use(new ge(t,"error",D)),this.#t.use(new ge(e,"error",D))}send(e){S(!this.#r,"`PipeTransport` is closed."),this.#e.write(e),this.#e.write("\0")}#n(e){S(!this.#r,"`PipeTransport` is closed.");let t=e.indexOf("\0");if(t===-1){this.#i+=e.toString();return}let i=this.#i+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,i);let n=t+1;for(t=e.indexOf("\0",n);t!==-1;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,n,t)),n=t+1,t=e.indexOf("\0",n);this.#i=e.toString(void 0,n)}close(){this.#r=!0,this.#t.dispose()}};var da=class{#e;puppeteer;actualBrowserRevision;constructor(e,t){this.puppeteer=e,this.#e=t}get product(){return this.#e}async launch(e={}){let{dumpio:t=!1,env:i=process.env,handleSIGINT:n=!0,handleSIGTERM:s=!0,handleSIGHUP:a=!0,ignoreHTTPSErrors:o=!1,defaultViewport:c={width:800,height:600},slowMo:l=0,timeout:u=3e4,waitForInitialPage:d=!0,protocol:p,protocolTimeout:m}=e,f=await this.computeLaunchArguments(e),h=f.args.includes("--remote-debugging-pipe"),g=async()=>{await this.cleanUserDataDir(f.userDataDir,{isTemp:f.isTempUserDataDir})},w=fu({executablePath:f.executablePath,args:f.args,handleSIGHUP:a,handleSIGTERM:s,handleSIGINT:n,dumpio:t,env:i,pipe:h,onExit:g}),v,_,b=!1,P=async()=>{b||(b=!0,await this.closeBrowser(w,_))};try{this.#e==="firefox"&&p==="webDriverBiDi"?v=await this.createBiDiBrowser(w,P,{timeout:u,protocolTimeout:m,slowMo:l,defaultViewport:c,ignoreHTTPSErrors:o}):(h?_=await this.createCdpPipeConnection(w,{timeout:u,protocolTimeout:m,slowMo:l}):_=await this.createCdpSocketConnection(w,{timeout:u,protocolTimeout:m,slowMo:l}),p==="webDriverBiDi"?v=await this.createBiDiOverCdpBrowser(w,_,P,{timeout:u,protocolTimeout:m,slowMo:l,defaultViewport:c,ignoreHTTPSErrors:o}):v=await bs._create(this.product,_,[],o,c,w.nodeProcess,P,e.targetFilter))}catch(T){throw P(),T instanceof As?new yt(T.message):T}return d&&p!=="webDriverBiDi"&&await this.waitForPageTarget(v,u),v}executablePath(){throw new Error("Not implemented")}defaultArgs(){throw new Error("Not implemented")}getActualBrowserRevision(){return this.actualBrowserRevision}async computeLaunchArguments(){throw new Error("Not implemented")}async cleanUserDataDir(){throw new Error("Not implemented")}async closeBrowser(e,t){if(t)try{await t.closeBrowser(),await e.hasClosed()}catch(i){D(i),await e.close()}else await e.close()}async waitForPageTarget(e,t){try{await e.waitForTarget(i=>i.type()==="page",{timeout:t})}catch(i){throw await e.close(),i}}async createCdpSocketConnection(e,t){let i=await e.waitForLineOutput(Ef,t.timeout),n=await Cs.create(i);return new Ur(i,n,t.slowMo,t.protocolTimeout)}async createCdpPipeConnection(e,t){let{3:i,4:n}=e.nodeProcess.stdio,s=new qu(i,n);return new Ur("",s,t.slowMo,t.protocolTimeout)}async createBiDiOverCdpBrowser(e,t,i,n){let s=await Promise.resolve().then(()=>(dx(),ux)),a=await s.connectBidiOverCdp(t);return await s.BidiBrowser.create({connection:a,closeCallback:i,process:e.nodeProcess,defaultViewport:n.defaultViewport,ignoreHTTPSErrors:n.ignoreHTTPSErrors})}async createBiDiBrowser(e,t,i){let n=await e.waitForLineOutput(Sf,i.timeout)+"/session",s=await Cs.create(n),a=await Promise.resolve().then(()=>(dx(),ux)),o=new a.BidiConnection(n,s,i.slowMo,i.protocolTimeout);return await a.BidiBrowser.create({connection:o,closeCallback:t,process:e.nodeProcess,defaultViewport:i.defaultViewport,ignoreHTTPSErrors:i.ignoreHTTPSErrors})}getProfilePath(){return(0,X1.join)(this.puppeteer.configuration.temporaryDirectory??(0,G1.tmpdir)(),`puppeteer_dev_${this.product}_profile-`)}resolveExecutablePath(){let e=this.puppeteer.configuration.executablePath;if(e){if(!(0,px.existsSync)(e))throw new Error(`Tried to find the browser at the configured path (${e}), but no executable was found.`);return e}function t(i){switch(i){case"chrome":return X.CHROME;case"firefox":return X.FIREFOX}return X.CHROME}if(e=Rs({cacheDir:this.puppeteer.defaultDownloadPath,browser:t(this.product),buildId:this.puppeteer.browserRevision}),!(0,px.existsSync)(e)){if(this.puppeteer.configuration.browserRevision)throw new Error(`Tried to find the browser at the configured path (${e}) for revision ${this.puppeteer.browserRevision}, but no executable was found.`);switch(this.product){case"chrome":throw new Error(`Could not find Chrome (ver. ${this.puppeteer.browserRevision}). This can occur if either
 1. you did not perform an installation before running the script (e.g. \`npm install\`) or
 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).
For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.`);case"firefox":throw new Error(`Could not find Firefox (rev. ${this.puppeteer.browserRevision}). This can occur if either
 1. you did not perform an installation for Firefox before running the script (e.g. \`PUPPETEER_PRODUCT=firefox npm install\`) or
 2. your cache path is incorrectly configured (which is: ${this.puppeteer.configuration.cacheDirectory}).
For (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.`)}}return e}};var J1=V(require("fs"),1),KD={force:!0,recursive:!0,maxRetries:5};async function Hd(r){await J1.default.promises.rm(r,KD)}var Wd=class extends da{constructor(e){super(e,"chrome")}launch(e={}){return(e.headless??!0)===!0&&this.puppeteer.configuration.logLevel==="warn"&&!process.env.PUPPETEER_DISABLE_HEADLESS_WARNING&&console.warn(["\x1B[1m\x1B[43m\x1B[30m","Puppeteer old Headless deprecation warning:\x1B[0m\x1B[33m","  In the near future `headless: true` will default to the new Headless mode","  for Chrome instead of the old Headless implementation. For more","  information, please see https://developer.chrome.com/articles/new-headless/.",'  Consider opting in early by passing `headless: "new"` to `puppeteer.launch()`',`  If you encounter any bugs, please report them to https://github.com/puppeteer/puppeteer/issues/new/choose.\x1B[0m
`].join(`
  `)),super.launch(e)}async computeLaunchArguments(e={}){let{ignoreDefaultArgs:t=!1,args:i=[],pipe:n=!1,debuggingPort:s,channel:a,executablePath:o}=e,c=[];t?Array.isArray(t)?c.push(...this.defaultArgs(e).filter(m=>!t.includes(m))):c.push(...i):c.push(...this.defaultArgs(e)),c.some(m=>m.startsWith("--remote-debugging-"))||(n?(S(!s,"Browser should be launched with either pipe or debugging port - not both."),c.push("--remote-debugging-pipe")):c.push(`--remote-debugging-port=${s||0}`));let l=!1,u=c.findIndex(m=>m.startsWith("--user-data-dir"));u<0&&(l=!0,c.push(`--user-data-dir=${await(0,Y1.mkdtemp)(this.getProfilePath())}`),u=c.length-1);let d=c[u].split("=",2)[1];S(typeof d=="string","`--user-data-dir` is malformed");let p=o;return p||(S(a||!this.puppeteer._isPuppeteerCore,"An `executablePath` or `channel` must be specified for `puppeteer-core`"),p=this.executablePath(a)),{executablePath:p,args:c,isTempUserDataDir:l,userDataDir:d}}async cleanUserDataDir(e,t){if(t.isTemp)try{await Hd(e)}catch(i){throw D(i),i}}defaultArgs(e={}){let t=["Translate","AcceptCHFrame","MediaRouter","OptimizationHints"];Ia||(t.push("Prerender2"),t.push("BackForwardCache"));let i=["--allow-pre-commit-input","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions",`--disable-features=${t.join(",")}`,"--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-search-engine-choice-screen","--disable-sync","--enable-automation","--enable-blink-features=IdleDetection","--enable-features=NetworkServiceInProcess2","--export-tagged-pdf","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--password-store=basic","--use-mock-keychain"],{devtools:n=!1,headless:s=!n,args:a=[],userDataDir:o}=e;return o&&i.push(`--user-data-dir=${Q1.default.resolve(o)}`),n&&i.push("--auto-open-devtools-for-tabs"),s&&i.push(s==="new"?"--headless=new":"--headless","--hide-scrollbars","--mute-audio"),a.every(c=>c.startsWith("-"))&&i.push("about:blank"),i.push(...a),i}executablePath(e){return e?hu({browser:X.CHROME,channel:HD(e)}):this.resolveExecutablePath()}};function HD(r){switch(r){case"chrome":return ce.STABLE;case"chrome-dev":return ce.DEV;case"chrome-beta":return ce.BETA;case"chrome-canary":return ce.CANARY}}var hx=V(require("fs"),1),Sn=require("fs/promises"),Z1=V(require("os"),1),Vd=V(require("path"),1);ae();le();var Gd=class extends da{constructor(e){super(e,"firefox")}async computeLaunchArguments(e={}){let{ignoreDefaultArgs:t=!1,args:i=[],executablePath:n,pipe:s=!1,extraPrefsFirefox:a={},debuggingPort:o=null}=e,c=[];t?Array.isArray(t)?c.push(...this.defaultArgs(e).filter(m=>!t.includes(m))):c.push(...i):c.push(...this.defaultArgs(e)),c.some(m=>m.startsWith("--remote-debugging-"))||(s&&S(o===null,"Browser should be launched with either pipe or debugging port - not both."),c.push(`--remote-debugging-port=${o||0}`));let l,u=!0,d=c.findIndex(m=>["-profile","--profile"].includes(m));if(d!==-1){if(l=c[d+1],!l||!hx.default.existsSync(l))throw new Error(`Firefox profile not found at '${l}'`);u=!1}else l=await(0,Sn.mkdtemp)(this.getProfilePath()),c.push("--profile"),c.push(l);await bf(X.FIREFOX,{path:l,preferences:a});let p;return this.puppeteer._isPuppeteerCore||n?(S(n,"An `executablePath` must be specified for `puppeteer-core`"),p=n):p=this.executablePath(),{isTempUserDataDir:u,userDataDir:l,args:c,executablePath:p}}async cleanUserDataDir(e,t){if(t.isTemp)try{await Hd(e)}catch(i){throw D(i),i}else try{await(0,Sn.unlink)(Vd.default.join(e,"user.js"));let i=Vd.default.join(e,"prefs.js.puppeteer");if(hx.default.existsSync(i)){let n=Vd.default.join(e,"prefs.js");await(0,Sn.unlink)(n),await(0,Sn.rename)(i,n)}}catch(i){D(i)}}executablePath(){if(this.puppeteer.browserRevision==="latest"){let t=new ir(this.puppeteer.defaultDownloadPath).getInstalledBrowsers().find(i=>i.platform===nr()&&i.browser===X.FIREFOX);t&&(this.actualBrowserRevision=t.buildId)}return this.resolveExecutablePath()}defaultArgs(e={}){let{devtools:t=!1,headless:i=!t,args:n=[],userDataDir:s=null}=e,a=["--no-remote"];switch(Z1.default.platform()){case"darwin":a.push("--foreground");break;case"win32":a.push("--wait-for-browser");break}return s&&(a.push("--profile"),a.push(s)),i&&a.push("--headless"),t&&a.push("--devtools"),n.every(o=>o.startsWith("-"))&&a.push("about:blank"),a.push(...n),a}};var pa=Object.freeze({chrome:"117.0.5938.92",firefox:"latest"});var Xd=class extends tu{#e;#t;defaultBrowserRevision;configuration={};constructor(e){let{configuration:t,...i}=e;switch(super(i),t&&(this.configuration=t),this.configuration.defaultProduct){case"firefox":this.defaultBrowserRevision=pa.firefox;break;default:this.configuration.defaultProduct="chrome",this.defaultBrowserRevision=pa.chrome;break}this.connect=this.connect.bind(this),this.launch=this.launch.bind(this),this.executablePath=this.executablePath.bind(this),this.defaultArgs=this.defaultArgs.bind(this),this.trimCache=this.trimCache.bind(this)}connect(e){return super.connect(e)}launch(e={}){let{product:t=this.defaultProduct}=e;return this.#t=t,this.#r.launch(e)}get#r(){if(this.#e&&this.#e.product===this.lastLaunchedProduct)return this.#e;switch(this.lastLaunchedProduct){case"chrome":this.defaultBrowserRevision=pa.chrome,this.#e=new Wd(this);break;case"firefox":this.defaultBrowserRevision=pa.firefox,this.#e=new Gd(this);break;default:throw new Error(`Unknown product: ${this.#t}`)}return this.#e}executablePath(e){return this.#r.executablePath(e)}get browserRevision(){var e;return((e=this.#e)==null?void 0:e.getActualBrowserRevision())??this.configuration.browserRevision??this.defaultBrowserRevision}get defaultDownloadPath(){return this.configuration.downloadPath??this.configuration.cacheDirectory}get lastLaunchedProduct(){return this.#t??this.defaultProduct}get defaultProduct(){return this.configuration.defaultProduct??"chrome"}get product(){return this.#r.product}defaultArgs(e={}){return this.#r.defaultArgs(e)}async trimCache(){let e=nr();if(!e)throw new Error("The current platform is not supported.");let t=this.configuration.downloadPath??this.configuration.cacheDirectory,i=await ym({cacheDir:t}),n=this.configuration.defaultProduct,s=[{product:"chrome",browser:X.CHROME,currentBuildId:""},{product:"firefox",browser:X.FIREFOX,currentBuildId:""}];for(let c of s)c.currentBuildId=await du(c.browser,e,(n===c.product?this.configuration.browserRevision:null)||pa[c.product]);let a=new Set(s.map(c=>`${c.browser}_${c.currentBuildId}`)),o=new Set(s.map(c=>c.browser));for(let c of i)o.has(c.browser)&&(a.has(`${c.browser}_${c.buildId}`)||await vm({browser:c.browser,platform:e,cacheDir:t,buildId:c.buildId}))}};le();Ji();Te();Te();zt();Oa();Ce();La();var ek=new Xd({isPuppeteerCore:!0}),{connect:SH,defaultArgs:kH,executablePath:CH,launch:TH}=ek,tk=ek;var mx=require("os");var Jd=require("fs"),Yd=V(require("path"));var rk=async r=>!!await Jd.promises.stat(r).catch(()=>!1),ik=async r=>{for(let e of r)if(await rk(e))return e;throw new Error("None of the listed paths exist")},fx=async(r,e)=>{let t=Yd.dirname(r);await rk(t)||await Jd.promises.mkdir(t,{recursive:!0}),Yt(`writing down ${r}...`),await Jd.promises.writeFile(r,e)},nk=(r,e,t="")=>{let i=r.replace(t,"");return Yd.join(e,`${i}${i.endsWith(".html")?"":"/index.html"}`)};var WD=["Google Chrome","Chromium","Google Chrome Canary"].map(r=>`/Applications/${r}.app/Contents/MacOS/${r}`),VD=["google-chrome-stable","google-chrome","chromium","chromium-browser"].map(r=>`/usr/bin/${r}`),GD=["/snap/bin/chromium"],XD=()=>new Promise(r=>{let e=require;console.log(e("chromium")),r(e("chromium").path)}).catch(()=>!1),sk=async()=>{try{return await ik([process.env.CHROME_PATH,XD(),...(0,mx.platform)()==="darwin"?WD:[],...VD,...(0,mx.platform)()==="linux"?GD:[]].filter(Boolean))}catch{throw new Error("Cannot find chrome on your system. If you have it installed please set CHROME_PATH env variable")}};var JD=["wtg-ads","facebook.com","fbcdn.net","googletagmanager","google-analytics.com","connect.facebook.net","chimpstatic.com","googleadservices.com","browser.sentry-cdn.com","googleads.g.doubleclick.net",".gemius.pl",".mylivechat.com","maps.googleapis.com","youtube.com/embed"],ak=r=>JD.some(e=>r.includes(e));var ok=async(r={})=>tk.launch({executablePath:await sk(),waitForInitialPage:!1,headless:"new",...r}),Zo={CSS:"stylesheet",IMG:"image",FONT:"font",MEDIA:"media",SCRIPT:"script"},YD=()=>{Object.defineProperty(window.document,"hidden",{get:function(){return!1},configurable:!0}),Object.defineProperty(window.document,"visibilityState",{get:function(){return"visible"},configurable:!0}),window.requestAnimationFrame=r=>setTimeout(r,10),window.cancelAnimationFrame=r=>clearTimeout(r)},ck=async(r,e)=>{let t=await r.newPage();if(e!=null&&e.viewport&&await t.setViewport(e.viewport),await t.evaluateOnNewDocument(YD),e!=null&&e.block){await t.setRequestInterception(!0);let{block:i}=e;t.on("request",n=>{let s=n.url(),a=n.resourceType();a===Zo.FONT||i.css&&a===Zo.CSS||i.image&&a===Zo.IMG||i.media&&a===Zo.MEDIA||i.js&&a===Zo.SCRIPT||i.knownThirdParty&&ak(s)||i.match&&i.match(s,a)?n.abort():n.continue()})}return t},lk=r=>r.evaluate(()=>Array.from(document.querySelectorAll("a")).filter(e=>(e.href||"").startsWith(window.location.origin)).map(e=>e.href)),uk=async(r,e,t=150)=>{let i=new Promise(s=>{let a,o=()=>{a&&clearTimeout(a),a=setTimeout(c,t)},c=()=>{r.off("requestfinished",o),s(!0)};r.on("requestfinished",o)});return{res:await r.goto(e),waitNetworkIdle:i}};var pk=r=>r.replace(/^\/+|\/+$/g,""),QD=r=>{let e=new URL(r);return pk(`${e.origin}${e.pathname}`)},ZD=(r,e)=>r.replace(/<head[\s\S]*>[\s\S]*<\/head>/,e),e2=async(r,e,t,i)=>{var o;let{res:n,waitNetworkIdle:s}=await uk(r,e);if((o=n.headers()["content-type"])==null?void 0:o.includes("text/html")){Yt(t?`Waiting for selector: ${t}`:"Waiting for network idle"),Yt(i?"Fetching only rendered <head>..":"Fetching entire rendered page..."),await(t?r.waitForSelector(t):s);let[c,l,u]=await Promise.all([n.text(),i?r.evaluate(()=>new XMLSerializer().serializeToString(document.head)):r.content(),lk(r)]);return{htmlSource:c,...i?{renderedHtmlHead:l}:{renderedHtml:l},links:u}}else return!1},gx={maxConcurrentPages:3,extraBrowserLaunchOptions:{},pageOptions:{viewport:{width:480,height:850},block:{image:!0,media:!0,knownThirdParty:!0}},cleanUrl:QD},hk=async r=>{var c;let e={...gx,...r,pageOptions:{...gx.pageOptions,...r.pageOptions,block:{...gx.pageOptions.block,...(c=r.pageOptions)==null?void 0:c.block}}},t=e.baseUrl||e.startingUrl,i=await ok(e.extraBrowserLaunchOptions),n=()=>ck(i,e.pageOptions),s=l=>u=>e2(l,u,e.selectorToWaitFor,!!e.metaPrerenderOnly),a=zv($v(n,e.maxConcurrentPages,s),e.maxConcurrentPages),{crawled:o}=await fk({url:e.startingUrl,cleanUrl:e.cleanUrl,metaPrerenderOnly:!!e.metaPrerenderOnly,getUrlInfo:a,getUrlFilePath:l=>nk(pk(l),e.outputDir,t)});return e.generateSitemapUsingCanonicalBaseUrl&&(Yt("saving sitemap..."),await fx(dk.join(e.outputDir,"sitemap.txt"),[...o].map(l=>l.replace(t,e.generateSitemapUsingCanonicalBaseUrl)).join(`
`))),await i.close(),[...o]},fk=async({stats:r={crawled:new Set,visited:new Set},cleanUrl:e,...t})=>{Yt(`
prerendering ... ${t.url}`);let i=e(t.url);r.visited.add(i);let{protocol:n}=new URL(t.url);if(!["http:","https:"].includes(n))return Yt("skipping ... not http"),r;Yt(`requesting ... ${i}`);let s=await t.getUrlInfo(i);if(!s)return Yt("skipping ... not html"),r;await fx(t.getUrlFilePath(i),t.metaPrerenderOnly?ZD(s.htmlSource,s.renderedHtmlHead):s.renderedHtml),Yt(`found ${s.links.length} links...`),r.crawled.add(i);let a=s.links.map(o=>e(o));return await Promise.all(a.filter((o,c)=>a.indexOf(o)===c&&!r.visited.has(o)).map(o=>fk({...t,url:o,cleanUrl:e,stats:r}))),r};(async()=>{let r=null;try{let e=ti.getInput("website_root"),t=ti.getInput("max_concurrent_pages"),i=ti.getInput("meta_prerender_only"),n=ti.getInput("selector_to_wait_for");r=Uv(e);let s=await hk({...n&&{selectorToWaitFor:n},metaPrerenderOnly:i==="1",startingUrl:"http://localhost:8080",maxConcurrentPages:Number(t),outputDir:mk.join(process.cwd(),e),extraBrowserLaunchOptions:{args:["--no-sandbox"]}});ti.setOutput("crawled",s)}catch(e){ti.setFailed(e.message)}finally{r==null||r.close()}})();
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

bytes/index.js:
  (*!
   * bytes
   * Copyright(c) 2012-2014 TJ Holowaychuk
   * Copyright(c) 2015 Jed Watson
   * MIT Licensed
   *)

content-disposition/index.js:
  (*!
   * content-disposition
   * Copyright(c) 2014 Douglas Christopher Wilson
   * MIT Licensed
   *)

range-parser/index.js:
  (*!
   * range-parser
   * Copyright(c) 2012-2014 TJ Holowaychuk
   * Copyright(c) 2015-2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

progress/lib/node-progress.js:
  (*!
   * node-progress
   * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
   * MIT Licensed
   *)
*/
